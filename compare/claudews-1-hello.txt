[2026-01-31T16:56:09.676Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "650"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__click","description":"Clicks on the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"dblClick":{"type":"boolean","description":"Set to true for double clicks. Default is false."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.682Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "479"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__close_page","description":"Closes the page by its index. The last open page cannot be closed.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to close. Call list_pages to list pages."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.684Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "624"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__drag","description":"Drag an element onto another element","input_schema":{"type":"object","properties":{"from_uid":{"type":"string","description":"The uid of the element to drag"},"to_uid":{"type":"string","description":"The uid of the element to drop into"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["from_uid","to_uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.685Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "2328"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__emulate","description":"Emulates various features on the selected page.","input_schema":{"type":"object","properties":{"networkConditions":{"type":"string","enum":["No emulation","Offline","Slow 3G","Fast 3G","Slow 4G","Fast 4G"],"description":"Throttle network. Set to \"No emulation\" to disable. If omitted, conditions remain unchanged."},"cpuThrottlingRate":{"type":"number","minimum":1,"maximum":20,"description":"Represents the CPU slowdown factor. Set the rate to 1 to disable throttling. If omitted, throttling remains unchanged."},"geolocation":{"anyOf":[{"type":"object","properties":{"latitude":{"type":"number","minimum":-90,"maximum":90,"description":"Latitude between -90 and 90."},"longitude":{"type":"number","minimum":-180,"maximum":180,"description":"Longitude between -180 and 180."}},"required":["latitude","longitude"],"additionalProperties":false},{"type":"null"}],"description":"Geolocation to emulate. Set to null to clear the geolocation override."},"userAgent":{"type":["string","null"],"description":"User agent to emulate. Set to null to clear the user agent override."},"colorScheme":{"type":"string","enum":["dark","light","auto"],"description":"Emulate the dark or the light mode. Set to \"auto\" to reset to the default."},"viewport":{"anyOf":[{"type":"object","properties":{"width":{"type":"integer","minimum":0,"description":"Page width in pixels."},"height":{"type":"integer","minimum":0,"description":"Page height in pixels."},"deviceScaleFactor":{"type":"number","minimum":0,"description":"Specify device scale factor (can be thought of as dpr)."},"isMobile":{"type":"boolean","description":"Whether the meta viewport tag is taken into account. Defaults to false."},"hasTouch":{"type":"boolean","description":"Specifies if viewport supports touch events. This should be set to true for mobile devices."},"isLandscape":{"type":"boolean","description":"Specifies if viewport is in landscape mode. Defaults to false."}},"required":["width","height"],"additionalProperties":false},{"type":"null"}],"description":"Viewport to emulate. Set to null to reset to the default viewport."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.686Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1080"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__evaluate_script","description":"Evaluate a JavaScript function inside the currently selected page. Returns the response as JSON\nso returned values have to JSON-serializable.","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"A JavaScript function declaration to be executed by the tool in the currently selected page.\nExample without arguments: `() => {\n  return document.title\n}` or `async () => {\n  return await fetch(\"example.com\")\n}`.\nExample with arguments: `(el) => {\n  return el.innerText;\n}`\n"},"args":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"}},"required":["uid"],"additionalProperties":false},"description":"An optional list of arguments to pass to the function."}},"required":["function"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.687Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "673"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__fill","description":"Type text into a input, text area or select an option from a <select> element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"value":{"type":"string","description":"The value to fill in"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","value"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.688Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "784"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__fill_form","description":"Fill out multiple form elements at once","input_schema":{"type":"object","properties":{"elements":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the element to fill out"},"value":{"type":"string","description":"Value for the element"}},"required":["uid","value"],"additionalProperties":false},"description":"Elements from snapshot to fill out."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["elements"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.689Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "528"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__get_console_message","description":"Gets a console message by its ID. You can get all messages by calling list_console_messages.","input_schema":{"type":"object","properties":{"msgid":{"type":"number","description":"The msgid of a console message on the page from the listed console messages"}},"required":["msgid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.690Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "885"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__get_network_request","description":"Gets a network request by an optional reqid, if omitted returns the currently selected request in the DevTools Network panel.","input_schema":{"type":"object","properties":{"reqid":{"type":"number","description":"The reqid of the network request. If omitted returns the currently selected request in the DevTools Network panel."},"requestFilePath":{"type":"string","description":"The absolute or relative path to save the request body to. If omitted, the body is returned inline."},"responseFilePath":{"type":"string","description":"The absolute or relative path to save the response body to. If omitted, the body is returned inline."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.692Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "579"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__handle_dialog","description":"If a browser dialog was opened, use this command to handle it","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["accept","dismiss"],"description":"Whether to dismiss or accept the dialog"},"promptText":{"type":"string","description":"Optional prompt text to enter into the dialog."}},"required":["action"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.693Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "556"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__hover","description":"Hover over the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.694Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1187"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__list_console_messages","description":"List all console messages for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of messages to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"types":{"type":"array","items":{"type":"string","enum":["log","debug","info","error","warn","dir","dirxml","table","trace","clear","startGroup","startGroupCollapsed","endGroup","assert","profile","profileEnd","count","timeEnd","verbose","issue"]},"description":"Filter messages to only return messages of the specified resource types. When omitted or empty, returns all messages."},"includePreservedMessages":{"type":"boolean","default":false,"description":"Set to true to return the preserved messages over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.695Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1201"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__list_network_requests","description":"List all requests for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of requests to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"resourceTypes":{"type":"array","items":{"type":"string","enum":["document","stylesheet","image","media","font","script","texttrack","xhr","fetch","prefetch","eventsource","websocket","manifest","signedexchange","ping","cspviolationreport","preflight","fedcm","other"]},"description":"Filter requests to only return requests of the specified resource types. When omitted or empty, returns all requests."},"includePreservedRequests":{"type":"boolean","default":false,"description":"Set to true to return the preserved requests over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.696Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "300"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__list_pages","description":"Get a list of pages open in the browser.","input_schema":{"type":"object","properties":{},"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.696Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1095"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__navigate_page","description":"Navigates the currently selected page to a URL.","input_schema":{"type":"object","properties":{"type":{"type":"string","enum":["url","back","forward","reload"],"description":"Navigate the page by URL, back or forward in history, or reload."},"url":{"type":"string","description":"Target URL (only type=url)"},"ignoreCache":{"type":"boolean","description":"Whether to ignore cache on reload."},"handleBeforeUnload":{"type":"string","enum":["accept","decline"],"description":"Whether to auto accept or beforeunload dialogs triggered by this navigation. Default is accept."},"initScript":{"type":"string","description":"A JavaScript script to be executed on each new document before any other scripts for the next navigation."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.697Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "673"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__new_page","description":"Creates a new page","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"URL to load in a new page."},"background":{"type":"boolean","description":"Whether to open the page in the background without bringing it to the front. Default is false (foreground)."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["url"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.698Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "795"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__performance_analyze_insight","description":"Provides more detailed information on a specific Performance Insight of an insight set that was highlighted in the results of a trace recording.","input_schema":{"type":"object","properties":{"insightSetId":{"type":"string","description":"The id for the specific insight set. Only use the ids given in the \"Available insight sets\" list."},"insightName":{"type":"string","description":"The name of the Insight you want more information on. For example: \"DocumentLatency\" or \"LCPBreakdown\""}},"required":["insightSetId","insightName"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.698Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1168"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__performance_start_trace","description":"Starts a performance trace recording on the selected page. This can be used to look for performance problems and insights to improve the performance of the page. It will also report Core Web Vital (CWV) scores for the page.","input_schema":{"type":"object","properties":{"reload":{"type":"boolean","description":"Determines if, once tracing has started, the current selected page should be automatically reloaded. Navigate the page to the right URL using the navigate_page tool BEFORE starting the trace if reload or autoStop is set to true."},"autoStop":{"type":"boolean","description":"Determines if the trace recording should be automatically stopped."},"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"required":["reload","autoStop"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.699Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "591"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__performance_stop_trace","description":"Stops the active performance trace recording on the selected page.","input_schema":{"type":"object","properties":{"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.700Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "760"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__press_key","description":"Press a key or key combination. Use this when other input methods like fill() cannot be used (e.g., keyboard shortcuts, navigation keys, or special key combinations).","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"A key or a combination (e.g., \"Enter\", \"Control+A\", \"Control++\", \"Control+Shift+R\"). Modifiers: Control, Shift, Alt, Meta"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["key"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.700Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "502"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__resize_page","description":"Resizes the selected page's window so that the page has specified dimension","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Page width"},"height":{"type":"number","description":"Page height"}},"required":["width","height"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.701Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "574"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__select_page","description":"Select a page as a context for future tool calls.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to select. Call list_pages to get available pages."},"bringToFront":{"type":"boolean","description":"Whether to focus the page and bring it to the top."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.702Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1179"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__take_screenshot","description":"Take a screenshot of the page or element.","input_schema":{"type":"object","properties":{"format":{"type":"string","enum":["png","jpeg","webp"],"default":"png","description":"Type of format to save the screenshot as. Default is \"png\""},"quality":{"type":"number","minimum":0,"maximum":100,"description":"Compression quality for JPEG and WebP formats (0-100). Higher values mean better quality but larger file sizes. Ignored for PNG format."},"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot. If omitted takes a pages screenshot."},"fullPage":{"type":"boolean","description":"If set to true takes a screenshot of the full page instead of the currently visible viewport. Incompatible with uid."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the screenshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.702Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "929"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__take_snapshot","description":"Take a text snapshot of the currently selected page based on the a11y tree. The snapshot lists page elements along with a unique\nidentifier (uid). Always use the latest snapshot. Prefer taking a snapshot over taking a screenshot. The snapshot indicates the element selected\nin the DevTools Elements panel (if any).","input_schema":{"type":"object","properties":{"verbose":{"type":"boolean","description":"Whether to include all possible information available in the full a11y tree. Default is false."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the snapshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.703Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "719"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__upload_file","description":"Upload a file through a provided element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the file input element or an element that will open file chooser on the page from the page content snapshot"},"filePath":{"type":"string","description":"The local path of the file to upload"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","filePath"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.704Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "560"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__chrome_devtools__wait_for","description":"Wait for the specified text to appear on the selected page.","input_schema":{"type":"object","properties":{"text":{"type":"string","description":"Text to appear on the page"},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["text"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}]}

[2026-01-31T16:56:09.706Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "306"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_close","description":"Close the page","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.706Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "489"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_resize","description":"Resize the browser window","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Width of the browser window"},"height":{"type":"number","description":"Height of the browser window"}},"required":["width","height"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.707Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "706"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_console_messages","description":"Returns all console messages","input_schema":{"type":"object","properties":{"level":{"default":"info","description":"Level of the console messages to return. Each level includes the messages of more severe levels. Defaults to \"info\".","type":"string","enum":["error","warning","info","debug"]},"filename":{"description":"Filename to save the console messages to. If not provided, messages are returned as text.","type":"string"}},"required":["level"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.708Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "508"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_handle_dialog","description":"Handle a dialog","input_schema":{"type":"object","properties":{"accept":{"type":"boolean","description":"Whether to accept the dialog."},"promptText":{"description":"The text of the prompt in case of a prompt dialog.","type":"string"}},"required":["accept"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.709Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "717"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_evaluate","description":"Evaluate JavaScript expression on page or element","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"() => { /* code */ } or (element) => { /* code */ } when element is provided"},"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot","type":"string"}},"required":["function"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.709Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "512"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_file_upload","description":"Upload one or multiple files","input_schema":{"type":"object","properties":{"paths":{"description":"The absolute paths to the files to upload. Can be single file or multiple files. If omitted, file chooser is cancelled.","type":"array","items":{"type":"string"}}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.710Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "998"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_fill_form","description":"Fill multiple form fields","input_schema":{"type":"object","properties":{"fields":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Human-readable field name"},"type":{"type":"string","enum":["textbox","checkbox","radio","combobox","slider"],"description":"Type of the field"},"ref":{"type":"string","description":"Exact target field reference from the page snapshot"},"value":{"type":"string","description":"Value to fill in the field. If the field is a checkbox, the value should be `true` or `false`. If the field is a combobox, the value should be the text of the option."}},"required":["name","type","ref","value"],"additionalProperties":false},"description":"Fields to fill in"}},"required":["fields"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.711Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "407"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_install","description":"Install the browser specified in the config. Call this if you get an error about the browser not being installed.","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.711Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "461"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_press_key","description":"Press a key on the keyboard","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"Name of the key to press or a character to generate, such as `ArrowLeft` or `a`"}},"required":["key"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.712Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "919"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_type","description":"Type text into editable element","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"text":{"type":"string","description":"Text to type into the element"},"submit":{"description":"Whether to submit entered text (press Enter after)","type":"boolean"},"slowly":{"description":"Whether to type one character at a time. Useful for triggering key handlers in the page. By default entire text is filled in at once.","type":"boolean"}},"required":["ref","text"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.713Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "393"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_navigate","description":"Navigate to a URL","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"The URL to navigate to"}},"required":["url"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.714Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "343"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_navigate_back","description":"Go back to the previous page in the history","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.715Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "684"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_network_requests","description":"Returns all network requests since loading the page","input_schema":{"type":"object","properties":{"includeStatic":{"default":false,"description":"Whether to include successful static resources like images, fonts, scripts, etc. Defaults to false.","type":"boolean"},"filename":{"description":"Filename to save the network requests to. If not provided, requests are returned as text.","type":"string"}},"required":["includeStatic"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.715Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "658"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_run_code","description":"Run Playwright code snippet","input_schema":{"type":"object","properties":{"code":{"type":"string","description":"A JavaScript function containing Playwright code to execute. It will be invoked with a single argument, page, which you can use for any page interaction. For example: `async (page) => { await page.getByRole('button', { name: 'Submit' }).click(); return await page.title(); }`"}},"required":["code"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.716Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1412"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_take_screenshot","description":"Take a screenshot of the current page. You can't perform actions based on the screenshot, use browser_snapshot for actions.","input_schema":{"type":"object","properties":{"type":{"default":"png","description":"Image format for the screenshot. Default is png.","type":"string","enum":["png","jpeg"]},"filename":{"description":"File name to save the screenshot to. Defaults to `page-{timestamp}.{png|jpeg}` if not specified. Prefer relative file names to stay within the output directory.","type":"string"},"element":{"description":"Human-readable element description used to obtain permission to screenshot the element. If not provided, the screenshot will be taken of viewport. If element is provided, ref must be provided too.","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot. If not provided, the screenshot will be taken of viewport. If ref is provided, element must be provided too.","type":"string"},"fullPage":{"description":"When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport. Cannot be used with element screenshots.","type":"boolean"}},"required":["type"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.717Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "493"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_snapshot","description":"Capture accessibility snapshot of the current page, this is better than screenshot","input_schema":{"type":"object","properties":{"filename":{"description":"Save snapshot to markdown file instead of returning it in the response.","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.718Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "934"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_click","description":"Perform click on a web page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"doubleClick":{"description":"Whether to perform a double click instead of a single click","type":"boolean"},"button":{"description":"Button to click, defaults to left","type":"string","enum":["left","right","middle"]},"modifiers":{"description":"Modifier keys to press","type":"array","items":{"type":"string","enum":["Alt","Control","ControlOrMeta","Meta","Shift"]}}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.718Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "887"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_drag","description":"Perform drag and drop between two elements","input_schema":{"type":"object","properties":{"startElement":{"type":"string","description":"Human-readable source element description used to obtain the permission to interact with the element"},"startRef":{"type":"string","description":"Exact source element reference from the page snapshot"},"endElement":{"type":"string","description":"Human-readable target element description used to obtain the permission to interact with the element"},"endRef":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["startElement","startRef","endElement","endRef"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.719Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "564"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_hover","description":"Hover over element on page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.720Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "743"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_select_option","description":"Select an option in a dropdown","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"values":{"type":"array","items":{"type":"string"},"description":"Array of values to select in the dropdown. This can be a single value or multiple values."}},"required":["ref","values"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.721Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "581"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_tabs","description":"List, create, close, or select a browser tab.","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["list","new","close","select"],"description":"Operation to perform"},"index":{"description":"Tab index, used for close/select. If omitted for close, current tab is closed.","type":"number"}},"required":["action"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.721Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "568"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"mcp__playwright__browser_wait_for","description":"Wait for text to appear or disappear or a specified time to pass","input_schema":{"type":"object","properties":{"time":{"description":"The time to wait in seconds","type":"number"},"text":{"description":"The text to wait for","type":"string"},"textGone":{"description":"The text to wait for to disappear","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}]}

[2026-01-31T16:56:09.773Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "457"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__list_pages","description":"Get a list of pages open in the browser.","input_schema":{"type":"object","properties":{},"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.775Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1252"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__navigate_page","description":"Navigates the currently selected page to a URL.","input_schema":{"type":"object","properties":{"type":{"type":"string","enum":["url","back","forward","reload"],"description":"Navigate the page by URL, back or forward in history, or reload."},"url":{"type":"string","description":"Target URL (only type=url)"},"ignoreCache":{"type":"boolean","description":"Whether to ignore cache on reload."},"handleBeforeUnload":{"type":"string","enum":["accept","decline"],"description":"Whether to auto accept or beforeunload dialogs triggered by this navigation. Default is accept."},"initScript":{"type":"string","description":"A JavaScript script to be executed on each new document before any other scripts for the next navigation."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.777Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "830"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__new_page","description":"Creates a new page","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"URL to load in a new page."},"background":{"type":"boolean","description":"Whether to open the page in the background without bringing it to the front. Default is false (foreground)."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["url"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.779Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "952"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__performance_analyze_insight","description":"Provides more detailed information on a specific Performance Insight of an insight set that was highlighted in the results of a trace recording.","input_schema":{"type":"object","properties":{"insightSetId":{"type":"string","description":"The id for the specific insight set. Only use the ids given in the \"Available insight sets\" list."},"insightName":{"type":"string","description":"The name of the Insight you want more information on. For example: \"DocumentLatency\" or \"LCPBreakdown\""}},"required":["insightSetId","insightName"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.781Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1325"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__performance_start_trace","description":"Starts a performance trace recording on the selected page. This can be used to look for performance problems and insights to improve the performance of the page. It will also report Core Web Vital (CWV) scores for the page.","input_schema":{"type":"object","properties":{"reload":{"type":"boolean","description":"Determines if, once tracing has started, the current selected page should be automatically reloaded. Navigate the page to the right URL using the navigate_page tool BEFORE starting the trace if reload or autoStop is set to true."},"autoStop":{"type":"boolean","description":"Determines if the trace recording should be automatically stopped."},"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"required":["reload","autoStop"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.783Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "748"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__performance_stop_trace","description":"Stops the active performance trace recording on the selected page.","input_schema":{"type":"object","properties":{"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.785Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "917"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__press_key","description":"Press a key or key combination. Use this when other input methods like fill() cannot be used (e.g., keyboard shortcuts, navigation keys, or special key combinations).","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"A key or a combination (e.g., \"Enter\", \"Control+A\", \"Control++\", \"Control+Shift+R\"). Modifiers: Control, Shift, Alt, Meta"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["key"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.788Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "659"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__resize_page","description":"Resizes the selected page's window so that the page has specified dimension","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Page width"},"height":{"type":"number","description":"Page height"}},"required":["width","height"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.789Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "731"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__select_page","description":"Select a page as a context for future tool calls.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to select. Call list_pages to get available pages."},"bringToFront":{"type":"boolean","description":"Whether to focus the page and bring it to the top."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.791Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1336"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__take_screenshot","description":"Take a screenshot of the page or element.","input_schema":{"type":"object","properties":{"format":{"type":"string","enum":["png","jpeg","webp"],"default":"png","description":"Type of format to save the screenshot as. Default is \"png\""},"quality":{"type":"number","minimum":0,"maximum":100,"description":"Compression quality for JPEG and WebP formats (0-100). Higher values mean better quality but larger file sizes. Ignored for PNG format."},"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot. If omitted takes a pages screenshot."},"fullPage":{"type":"boolean","description":"If set to true takes a screenshot of the full page instead of the currently visible viewport. Incompatible with uid."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the screenshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.793Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1086"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__take_snapshot","description":"Take a text snapshot of the currently selected page based on the a11y tree. The snapshot lists page elements along with a unique\nidentifier (uid). Always use the latest snapshot. Prefer taking a snapshot over taking a screenshot. The snapshot indicates the element selected\nin the DevTools Elements panel (if any).","input_schema":{"type":"object","properties":{"verbose":{"type":"boolean","description":"Whether to include all possible information available in the full a11y tree. Default is false."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the snapshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.795Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "876"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__upload_file","description":"Upload a file through a provided element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the file input element or an element that will open file chooser on the page from the page content snapshot"},"filePath":{"type":"string","description":"The local path of the file to upload"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","filePath"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.798Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "717"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__wait_for","description":"Wait for the specified text to appear on the selected page.","input_schema":{"type":"object","properties":{"text":{"type":"string","description":"Text to appear on the page"},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["text"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.881Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "807"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__click","description":"Clicks on the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"dblClick":{"type":"boolean","description":"Set to true for double clicks. Default is false."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.882Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "636"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__close_page","description":"Closes the page by its index. The last open page cannot be closed.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to close. Call list_pages to list pages."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.883Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "781"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__drag","description":"Drag an element onto another element","input_schema":{"type":"object","properties":{"from_uid":{"type":"string","description":"The uid of the element to drag"},"to_uid":{"type":"string","description":"The uid of the element to drop into"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["from_uid","to_uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.884Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "2485"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__emulate","description":"Emulates various features on the selected page.","input_schema":{"type":"object","properties":{"networkConditions":{"type":"string","enum":["No emulation","Offline","Slow 3G","Fast 3G","Slow 4G","Fast 4G"],"description":"Throttle network. Set to \"No emulation\" to disable. If omitted, conditions remain unchanged."},"cpuThrottlingRate":{"type":"number","minimum":1,"maximum":20,"description":"Represents the CPU slowdown factor. Set the rate to 1 to disable throttling. If omitted, throttling remains unchanged."},"geolocation":{"anyOf":[{"type":"object","properties":{"latitude":{"type":"number","minimum":-90,"maximum":90,"description":"Latitude between -90 and 90."},"longitude":{"type":"number","minimum":-180,"maximum":180,"description":"Longitude between -180 and 180."}},"required":["latitude","longitude"],"additionalProperties":false},{"type":"null"}],"description":"Geolocation to emulate. Set to null to clear the geolocation override."},"userAgent":{"type":["string","null"],"description":"User agent to emulate. Set to null to clear the user agent override."},"colorScheme":{"type":"string","enum":["dark","light","auto"],"description":"Emulate the dark or the light mode. Set to \"auto\" to reset to the default."},"viewport":{"anyOf":[{"type":"object","properties":{"width":{"type":"integer","minimum":0,"description":"Page width in pixels."},"height":{"type":"integer","minimum":0,"description":"Page height in pixels."},"deviceScaleFactor":{"type":"number","minimum":0,"description":"Specify device scale factor (can be thought of as dpr)."},"isMobile":{"type":"boolean","description":"Whether the meta viewport tag is taken into account. Defaults to false."},"hasTouch":{"type":"boolean","description":"Specifies if viewport supports touch events. This should be set to true for mobile devices."},"isLandscape":{"type":"boolean","description":"Specifies if viewport is in landscape mode. Defaults to false."}},"required":["width","height"],"additionalProperties":false},{"type":"null"}],"description":"Viewport to emulate. Set to null to reset to the default viewport."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.885Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1237"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__evaluate_script","description":"Evaluate a JavaScript function inside the currently selected page. Returns the response as JSON\nso returned values have to JSON-serializable.","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"A JavaScript function declaration to be executed by the tool in the currently selected page.\nExample without arguments: `() => {\n  return document.title\n}` or `async () => {\n  return await fetch(\"example.com\")\n}`.\nExample with arguments: `(el) => {\n  return el.innerText;\n}`\n"},"args":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"}},"required":["uid"],"additionalProperties":false},"description":"An optional list of arguments to pass to the function."}},"required":["function"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.885Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "830"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__fill","description":"Type text into a input, text area or select an option from a <select> element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"value":{"type":"string","description":"The value to fill in"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","value"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.886Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "941"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__fill_form","description":"Fill out multiple form elements at once","input_schema":{"type":"object","properties":{"elements":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the element to fill out"},"value":{"type":"string","description":"Value for the element"}},"required":["uid","value"],"additionalProperties":false},"description":"Elements from snapshot to fill out."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["elements"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.887Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "685"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__get_console_message","description":"Gets a console message by its ID. You can get all messages by calling list_console_messages.","input_schema":{"type":"object","properties":{"msgid":{"type":"number","description":"The msgid of a console message on the page from the listed console messages"}},"required":["msgid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.887Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1042"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__get_network_request","description":"Gets a network request by an optional reqid, if omitted returns the currently selected request in the DevTools Network panel.","input_schema":{"type":"object","properties":{"reqid":{"type":"number","description":"The reqid of the network request. If omitted returns the currently selected request in the DevTools Network panel."},"requestFilePath":{"type":"string","description":"The absolute or relative path to save the request body to. If omitted, the body is returned inline."},"responseFilePath":{"type":"string","description":"The absolute or relative path to save the response body to. If omitted, the body is returned inline."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.888Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "736"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__handle_dialog","description":"If a browser dialog was opened, use this command to handle it","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["accept","dismiss"],"description":"Whether to dismiss or accept the dialog"},"promptText":{"type":"string","description":"Optional prompt text to enter into the dialog."}},"required":["action"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.889Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "713"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__hover","description":"Hover over the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.890Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1344"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__list_console_messages","description":"List all console messages for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of messages to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"types":{"type":"array","items":{"type":"string","enum":["log","debug","info","error","warn","dir","dirxml","table","trace","clear","startGroup","startGroupCollapsed","endGroup","assert","profile","profileEnd","count","timeEnd","verbose","issue"]},"description":"Filter messages to only return messages of the specified resource types. When omitted or empty, returns all messages."},"includePreservedMessages":{"type":"boolean","default":false,"description":"Set to true to return the preserved messages over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.890Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1358"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__chrome_devtools__list_network_requests","description":"List all requests for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of requests to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"resourceTypes":{"type":"array","items":{"type":"string","enum":["document","stylesheet","image","media","font","script","texttrack","xhr","fetch","prefetch","eventsource","websocket","manifest","signedexchange","ping","cspviolationreport","preflight","fedcm","other"]},"description":"Filter requests to only return requests of the specified resource types. When omitted or empty, returns all requests."},"includePreservedRequests":{"type":"boolean","default":false,"description":"Set to true to return the preserved requests over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.897Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "463"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_close","description":"Close the page","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.898Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "646"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_resize","description":"Resize the browser window","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Width of the browser window"},"height":{"type":"number","description":"Height of the browser window"}},"required":["width","height"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.899Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "863"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_console_messages","description":"Returns all console messages","input_schema":{"type":"object","properties":{"level":{"default":"info","description":"Level of the console messages to return. Each level includes the messages of more severe levels. Defaults to \"info\".","type":"string","enum":["error","warning","info","debug"]},"filename":{"description":"Filename to save the console messages to. If not provided, messages are returned as text.","type":"string"}},"required":["level"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.899Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "665"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_handle_dialog","description":"Handle a dialog","input_schema":{"type":"object","properties":{"accept":{"type":"boolean","description":"Whether to accept the dialog."},"promptText":{"description":"The text of the prompt in case of a prompt dialog.","type":"string"}},"required":["accept"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.900Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "874"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_evaluate","description":"Evaluate JavaScript expression on page or element","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"() => { /* code */ } or (element) => { /* code */ } when element is provided"},"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot","type":"string"}},"required":["function"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.901Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "669"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_file_upload","description":"Upload one or multiple files","input_schema":{"type":"object","properties":{"paths":{"description":"The absolute paths to the files to upload. Can be single file or multiple files. If omitted, file chooser is cancelled.","type":"array","items":{"type":"string"}}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.902Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1155"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_fill_form","description":"Fill multiple form fields","input_schema":{"type":"object","properties":{"fields":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Human-readable field name"},"type":{"type":"string","enum":["textbox","checkbox","radio","combobox","slider"],"description":"Type of the field"},"ref":{"type":"string","description":"Exact target field reference from the page snapshot"},"value":{"type":"string","description":"Value to fill in the field. If the field is a checkbox, the value should be `true` or `false`. If the field is a combobox, the value should be the text of the option."}},"required":["name","type","ref","value"],"additionalProperties":false},"description":"Fields to fill in"}},"required":["fields"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.902Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "564"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_install","description":"Install the browser specified in the config. Call this if you get an error about the browser not being installed.","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.903Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "618"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_press_key","description":"Press a key on the keyboard","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"Name of the key to press or a character to generate, such as `ArrowLeft` or `a`"}},"required":["key"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.904Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1076"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_type","description":"Type text into editable element","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"text":{"type":"string","description":"Text to type into the element"},"submit":{"description":"Whether to submit entered text (press Enter after)","type":"boolean"},"slowly":{"description":"Whether to type one character at a time. Useful for triggering key handlers in the page. By default entire text is filled in at once.","type":"boolean"}},"required":["ref","text"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.905Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "550"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_navigate","description":"Navigate to a URL","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"The URL to navigate to"}},"required":["url"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.905Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "500"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_navigate_back","description":"Go back to the previous page in the history","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.906Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "841"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_network_requests","description":"Returns all network requests since loading the page","input_schema":{"type":"object","properties":{"includeStatic":{"default":false,"description":"Whether to include successful static resources like images, fonts, scripts, etc. Defaults to false.","type":"boolean"},"filename":{"description":"Filename to save the network requests to. If not provided, requests are returned as text.","type":"string"}},"required":["includeStatic"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.907Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "815"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_run_code","description":"Run Playwright code snippet","input_schema":{"type":"object","properties":{"code":{"type":"string","description":"A JavaScript function containing Playwright code to execute. It will be invoked with a single argument, page, which you can use for any page interaction. For example: `async (page) => { await page.getByRole('button', { name: 'Submit' }).click(); return await page.title(); }`"}},"required":["code"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.908Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1569"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_take_screenshot","description":"Take a screenshot of the current page. You can't perform actions based on the screenshot, use browser_snapshot for actions.","input_schema":{"type":"object","properties":{"type":{"default":"png","description":"Image format for the screenshot. Default is png.","type":"string","enum":["png","jpeg"]},"filename":{"description":"File name to save the screenshot to. Defaults to `page-{timestamp}.{png|jpeg}` if not specified. Prefer relative file names to stay within the output directory.","type":"string"},"element":{"description":"Human-readable element description used to obtain permission to screenshot the element. If not provided, the screenshot will be taken of viewport. If element is provided, ref must be provided too.","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot. If not provided, the screenshot will be taken of viewport. If ref is provided, element must be provided too.","type":"string"},"fullPage":{"description":"When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport. Cannot be used with element screenshots.","type":"boolean"}},"required":["type"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.908Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "650"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_snapshot","description":"Capture accessibility snapshot of the current page, this is better than screenshot","input_schema":{"type":"object","properties":{"filename":{"description":"Save snapshot to markdown file instead of returning it in the response.","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.909Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1091"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_click","description":"Perform click on a web page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"doubleClick":{"description":"Whether to perform a double click instead of a single click","type":"boolean"},"button":{"description":"Button to click, defaults to left","type":"string","enum":["left","right","middle"]},"modifiers":{"description":"Modifier keys to press","type":"array","items":{"type":"string","enum":["Alt","Control","ControlOrMeta","Meta","Shift"]}}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.910Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "1044"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_drag","description":"Perform drag and drop between two elements","input_schema":{"type":"object","properties":{"startElement":{"type":"string","description":"Human-readable source element description used to obtain the permission to interact with the element"},"startRef":{"type":"string","description":"Exact source element reference from the page snapshot"},"endElement":{"type":"string","description":"Human-readable target element description used to obtain the permission to interact with the element"},"endRef":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["startElement","startRef","endElement","endRef"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.910Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "721"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_hover","description":"Hover over element on page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.911Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "900"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_select_option","description":"Select an option in a dropdown","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"values":{"type":"array","items":{"type":"string"},"description":"Array of values to select in the dropdown. This can be a single value or multiple values."}},"required":["ref","values"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.912Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "738"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_tabs","description":"List, create, close, or select a browser tab.","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["list","new","close","select"],"description":"Operation to perform"},"index":{"description":"Tab index, used for close/select. If omitted for close, current tab is closed.","type":"number"}},"required":["action"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.913Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "725"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"mcp__playwright__browser_wait_for","description":"Wait for text to appear or disappear or a specified time to pass","input_schema":{"type":"object","properties":{"time":{"description":"The time to wait in seconds","type":"number"},"text":{"description":"The text to wait for","type":"string"},"textGone":{"description":"The text to wait for to disappear","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:09.958Z] POST /v1/messages/count_tokens?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05,token-counting-2024-11-01",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "55482"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":"foo"}],"tools":[{"name":"Task","description":"Launch a new agent to handle complex, multi-step tasks autonomously. \n\nThe Task tool launches specialized agents (subprocesses) that autonomously handle complex tasks. Each agent type has specific capabilities and tools available to it.\n\nAvailable agent types and the tools they have access to:\n\n\nWhen using the Task tool, you must specify a subagent_type parameter to select which agent type to use.\n\nWhen NOT to use the Task tool:\n- If you want to read a specific file path, use the Read or Glob tool instead of the Task tool, to find the match more quickly\n- If you are searching for a specific class definition like \"class Foo\", use the Glob tool instead, to find the match more quickly\n- If you are searching for code within a specific file or set of 2-3 files, use the Read tool instead of the Task tool, to find the match more quickly\n- Other tasks that are not related to the agent descriptions above\n\n\nUsage notes:\n- Always include a short description (3-5 words) summarizing what the agent will do\n- Launch multiple agents concurrently whenever possible, to maximize performance; to do that, use a single message with multiple tool uses\n- When the agent is done, it will return a single message back to you. The result returned by the agent is not visible to the user. To show the user the result, you should send a text message back to the user with a concise summary of the result.\n- You can optionally run agents in the background using the run_in_background parameter. When an agent runs in the background, the tool result will include an output_file path. To check on the agent's progress or retrieve its results, use the Read tool to read the output file, or use Bash with `tail` to see recent output. You can continue working while background agents run.\n- Agents can be resumed using the `resume` parameter by passing the agent ID from a previous invocation. When resumed, the agent continues with its full previous context preserved. When NOT resuming, each invocation starts fresh and you should provide a detailed task description with all necessary context.\n- When the agent is done, it will return a single message back to you along with its agent ID. You can use this ID to resume the agent later if needed for follow-up work.\n- Provide clear, detailed prompts so the agent can work autonomously and return exactly the information you need.\n- Agents with \"access to current context\" can see the full conversation history before the tool call. When using these agents, you can write concise prompts that reference earlier context (e.g., \"investigate the error discussed above\") instead of repeating information. The agent will receive all prior messages and understand the context.\n- The agent's outputs should generally be trusted\n- Clearly tell the agent whether you expect it to write code or just to do research (search, file reads, web fetches, etc.), since it is not aware of the user's intent\n- If the agent description mentions that it should be used proactively, then you should try your best to use it without the user having to ask for it first. Use your judgement.\n- If the user specifies that they want you to run agents \"in parallel\", you MUST send a single message with multiple Task tool use content blocks. For example, if you need to launch both a build-validator agent and a test-runner agent in parallel, send a single message with both tool calls.\n\nExample usage:\n\n<example_agent_descriptions>\n\"test-runner\": use this agent after you are done writing code to run tests\n\"greeting-responder\": use this agent when to respond to user greetings with a friendly joke\n</example_agent_description>\n\n<example>\nuser: \"Please write a function that checks if a number is prime\"\nassistant: Sure let me write a function that checks if a number is prime\nassistant: First let me use the Write tool to write a function that checks if a number is prime\nassistant: I'm going to use the Write tool to write the following code:\n<code>\nfunction isPrime(n) {\n  if (n <= 1) return false\n  for (let i = 2; i * i <= n; i++) {\n    if (n % i === 0) return false\n  }\n  return true\n}\n</code>\n<commentary>\nSince a significant piece of code was written and the task was completed, now use the test-runner agent to run the tests\n</commentary>\nassistant: Now let me use the test-runner agent to run the tests\nassistant: Uses the Task tool to launch the test-runner agent\n</example>\n\n<example>\nuser: \"Hello\"\n<commentary>\nSince the user is greeting, use the greeting-responder agent to respond with a friendly joke\n</commentary>\nassistant: \"I'm going to use the Task tool to launch the greeting-responder agent\"\n</example>\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"description":{"description":"A short (3-5 word) description of the task","type":"string"},"prompt":{"description":"The task for the agent to perform","type":"string"},"subagent_type":{"description":"The type of specialized agent to use for this task","type":"string"},"model":{"description":"Optional model to use for this agent. If not specified, inherits from parent. Prefer haiku for quick, straightforward tasks to minimize cost and latency.","type":"string","enum":["sonnet","opus","haiku"]},"resume":{"description":"Optional agent ID to resume from. If provided, the agent will continue from the previous execution transcript.","type":"string"},"run_in_background":{"description":"Set to true to run this agent in the background. The tool result will include an output_file path - use Read tool or Bash tail to check on output.","type":"boolean"},"max_turns":{"description":"Maximum number of agentic turns (API round-trips) before stopping. Used internally for warmup.","type":"integer","exclusiveMinimum":0,"maximum":9007199254740991}},"required":["description","prompt","subagent_type"],"additionalProperties":false}},{"name":"TaskOutput","description":"- Retrieves output from a running or completed task (background shell, agent, or remote session)\n- Takes a task_id parameter identifying the task\n- Returns the task output along with status information\n- Use block=true (default) to wait for task completion\n- Use block=false for non-blocking check of current status\n- Task IDs can be found using the /tasks command\n- Works with all task types: background shells, async agents, and remote sessions","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The task ID to get output from","type":"string"},"block":{"description":"Whether to wait for completion","default":true,"type":"boolean"},"timeout":{"description":"Max wait time in ms","default":30000,"type":"number","minimum":0,"maximum":600000}},"required":["task_id","block","timeout"],"additionalProperties":false}},{"name":"Bash","description":"Executes a given bash command with optional timeout. Working directory persists between commands; shell state (everything else) does not. The shell environment is initialized from the user's profile (bash or zsh).\n\nIMPORTANT: This tool is for terminal operations like git, npm, docker, etc. DO NOT use it for file operations (reading, writing, editing, searching, finding files) - use the specialized tools for this instead.\n\nBefore executing the command, please follow these steps:\n\n1. Directory Verification:\n   - If the command will create new directories or files, first use `ls` to verify the parent directory exists and is the correct location\n   - For example, before running \"mkdir foo/bar\", first use `ls foo` to check that \"foo\" exists and is the intended parent directory\n\n2. Command Execution:\n   - Always quote file paths that contain spaces with double quotes (e.g., cd \"path with spaces/file.txt\")\n   - Examples of proper quoting:\n     - cd \"/Users/name/My Documents\" (correct)\n     - cd /Users/name/My Documents (incorrect - will fail)\n     - python \"/path/with spaces/script.py\" (correct)\n     - python /path/with spaces/script.py (incorrect - will fail)\n   - After ensuring proper quoting, execute the command.\n   - Capture the output of the command.\n\nUsage notes:\n  - The command argument is required.\n  - You can specify an optional timeout in milliseconds (up to 600000ms / 10 minutes). If not specified, commands will timeout after 120000ms (2 minutes).\n  - It is very helpful if you write a clear, concise description of what this command does. For simple commands, keep it brief (5-10 words). For complex commands (piped commands, obscure flags, or anything hard to understand at a glance), add enough context to clarify what it does.\n  - If the output exceeds 30000 characters, output will be truncated before being returned to you.\n  \n  - You can use the `run_in_background` parameter to run the command in the background. Only use this if you don't need the result immediately and are OK being notified when the command completes later. You do not need to check the output right away - you'll be notified when it finishes. You do not need to use '&' at the end of the command when using this parameter.\n  \n  - Avoid using Bash with the `find`, `grep`, `cat`, `head`, `tail`, `sed`, `awk`, or `echo` commands, unless explicitly instructed or when these commands are truly necessary for the task. Instead, always prefer using the dedicated tools for these commands:\n    - File search: Use Glob (NOT find or ls)\n    - Content search: Use Grep (NOT grep or rg)\n    - Read files: Use Read (NOT cat/head/tail)\n    - Edit files: Use Edit (NOT sed/awk)\n    - Write files: Use Write (NOT echo >/cat <<EOF)\n    - Communication: Output text directly (NOT echo/printf)\n  - When issuing multiple commands:\n    - If the commands are independent and can run in parallel, make multiple Bash tool calls in a single message. For example, if you need to run \"git status\" and \"git diff\", send a single message with two Bash tool calls in parallel.\n    - If the commands depend on each other and must run sequentially, use a single Bash call with '&&' to chain them together (e.g., `git add . && git commit -m \"message\" && git push`). For instance, if one operation must complete before another starts (like mkdir before cp, Write before Bash for git operations, or git add before git commit), run these operations sequentially instead.\n    - Use ';' only when you need to run commands sequentially but don't care if earlier commands fail\n    - DO NOT use newlines to separate commands (newlines are ok in quoted strings)\n  - Try to maintain your current working directory throughout the session by using absolute paths and avoiding usage of `cd`. You may use `cd` if the User explicitly requests it.\n    <good-example>\n    pytest /foo/bar/tests\n    </good-example>\n    <bad-example>\n    cd /foo/bar && pytest tests\n    </bad-example>\n\n# Committing changes with git\n\nOnly create commits when requested by the user. If unclear, ask first. When the user asks you to create a new git commit, follow these steps carefully:\n\nGit Safety Protocol:\n- NEVER update the git config\n- NEVER run destructive git commands (push --force, reset --hard, checkout ., restore ., clean -f, branch -D) unless the user explicitly requests these actions. Taking unauthorized destructive actions is unhelpful and can result in lost work, so it's best to ONLY run these commands when given direct instructions \n- NEVER skip hooks (--no-verify, --no-gpg-sign, etc) unless the user explicitly requests it\n- NEVER run force push to main/master, warn the user if they request it\n- CRITICAL: Always create NEW commits rather than amending, unless the user explicitly requests a git amend. When a pre-commit hook fails, the commit did NOT happen   so --amend would modify the PREVIOUS commit, which may result in destroying work or losing previous changes. Instead, after hook failure, fix the issue, re-stage, and create a NEW commit\n- When staging files, prefer adding specific files by name rather than using \"git add -A\" or \"git add .\", which can accidentally include sensitive files (.env, credentials) or large binaries\n- NEVER commit changes unless the user explicitly asks you to. It is VERY IMPORTANT to only commit when explicitly asked, otherwise the user will feel that you are being too proactive\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel, each using the Bash tool:\n  - Run a git status command to see all untracked files. IMPORTANT: Never use the -uall flag as it can cause memory issues on large repos.\n  - Run a git diff command to see both staged and unstaged changes that will be committed.\n  - Run a git log command to see recent commit messages, so that you can follow this repository's commit message style.\n2. Analyze all staged changes (both previously staged and newly added) and draft a commit message:\n  - Summarize the nature of the changes (eg. new feature, enhancement to an existing feature, bug fix, refactoring, test, docs, etc.). Ensure the message accurately reflects the changes and their purpose (i.e. \"add\" means a wholly new feature, \"update\" means an enhancement to an existing feature, \"fix\" means a bug fix, etc.).\n  - Do not commit files that likely contain secrets (.env, credentials.json, etc). Warn the user if they specifically request to commit those files\n  - Draft a concise (1-2 sentences) commit message that focuses on the \"why\" rather than the \"what\"\n  - Ensure it accurately reflects the changes and their purpose\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands:\n   - Add relevant untracked files to the staging area.\n   - Create the commit with a message.\n   - Run git status after the commit completes to verify success.\n   Note: git status depends on the commit completing, so run it sequentially after the commit.\n4. If the commit fails due to pre-commit hook: fix the issue and create a NEW commit\n\nImportant notes:\n- NEVER run additional commands to read or explore code, besides git bash commands\n- NEVER use the TodoWrite or Task tools\n- DO NOT push to the remote repository unless the user explicitly asks you to do so\n- IMPORTANT: Never use git commands with the -i flag (like git rebase -i or git add -i) since they require interactive input which is not supported.\n- IMPORTANT: Do not use --no-edit with git rebase commands, as the --no-edit flag is not a valid option for git rebase.\n- If there are no changes to commit (i.e., no untracked files and no modifications), do not create an empty commit\n- In order to ensure good formatting, ALWAYS pass the commit message via a HEREDOC, a la this example:\n<example>\ngit commit -m \"$(cat <<'EOF'\n   Commit message here.\n   EOF\n   )\"\n</example>\n\n# Creating pull requests\nUse the gh command via the Bash tool for ALL GitHub-related tasks including working with issues, pull requests, checks, and releases. If given a Github URL use the gh command to get the information needed.\n\nIMPORTANT: When the user asks you to create a pull request, follow these steps carefully:\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel using the Bash tool, in order to understand the current state of the branch since it diverged from the main branch:\n   - Run a git status command to see all untracked files (never use -uall flag)\n   - Run a git diff command to see both staged and unstaged changes that will be committed\n   - Check if the current branch tracks a remote branch and is up to date with the remote, so you know if you need to push to the remote\n   - Run a git log command and `git diff [base-branch]...HEAD` to understand the full commit history for the current branch (from the time it diverged from the base branch)\n2. Analyze all changes that will be included in the pull request, making sure to look at all relevant commits (NOT just the latest commit, but ALL commits that will be included in the pull request!!!), and draft a pull request title and summary:\n   - Keep the PR title short (under 70 characters)\n   - Use the description/body for details, not the title\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands in parallel:\n   - Create new branch if needed\n   - Push to remote with -u flag if needed\n   - Create PR using gh pr create with the format below. Use a HEREDOC to pass the body to ensure correct formatting.\n<example>\ngh pr create --title \"the pr title\" --body \"$(cat <<'EOF'\n## Summary\n<1-3 bullet points>\n\n## Test plan\n[Bulleted markdown checklist of TODOs for testing the pull request...]\nEOF\n)\"\n</example>\n\nImportant:\n- DO NOT use the TodoWrite or Task tools\n- Return the PR URL when you're done, so the user can see it\n\n# Other common operations\n- View comments on a Github PR: gh api repos/foo/bar/pulls/123/comments","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"command":{"description":"The command to execute","type":"string"},"timeout":{"description":"Optional timeout in milliseconds (max 600000)","type":"number"},"description":{"description":"Clear, concise description of what this command does in active voice. Never use words like \"complex\" or \"risk\" in the description - just describe what it does.\n\nFor simple commands (git, npm, standard CLI tools), keep it brief (5-10 words):\n- ls  \"List files in current directory\"\n- git status  \"Show working tree status\"\n- npm install  \"Install package dependencies\"\n\nFor commands that are harder to parse at a glance (piped commands, obscure flags, etc.), add enough context to clarify what it does:\n- find . -name \"*.tmp\" -exec rm {} \\;  \"Find and delete all .tmp files recursively\"\n- git reset --hard origin/main  \"Discard all local changes and match remote main\"\n- curl -s url | jq '.data[]'  \"Fetch JSON from URL and extract data array elements\"","type":"string"},"run_in_background":{"description":"Set to true to run this command in the background. Use TaskOutput to read the output later.","type":"boolean"},"dangerouslyDisableSandbox":{"description":"Set this to true to dangerously override sandbox mode and run commands without sandboxing.","type":"boolean"},"_simulatedSedEdit":{"description":"Internal: pre-computed sed edit result from preview","type":"object","properties":{"filePath":{"type":"string"},"newContent":{"type":"string"}},"required":["filePath","newContent"],"additionalProperties":false}},"required":["command"],"additionalProperties":false}},{"name":"Glob","description":"- Fast file pattern matching tool that works with any codebase size\n- Supports glob patterns like \"**/*.js\" or \"src/**/*.ts\"\n- Returns matching file paths sorted by modification time\n- Use this tool when you need to find files by name patterns\n- When you are doing an open ended search that may require multiple rounds of globbing and grepping, use the Agent tool instead\n- You can call multiple tools in a single response. It is always better to speculatively perform multiple searches in parallel if they are potentially useful.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The glob pattern to match files against","type":"string"},"path":{"description":"The directory to search in. If not specified, the current working directory will be used. IMPORTANT: Omit this field to use the default directory. DO NOT enter \"undefined\" or \"null\" - simply omit it for the default behavior. Must be a valid directory path if provided.","type":"string"}},"required":["pattern"],"additionalProperties":false}},{"name":"Grep","description":"A powerful search tool built on ripgrep\n\n  Usage:\n  - ALWAYS use Grep for search tasks. NEVER invoke `grep` or `rg` as a Bash command. The Grep tool has been optimized for correct permissions and access.\n  - Supports full regex syntax (e.g., \"log.*Error\", \"function\\s+\\w+\")\n  - Filter files with glob parameter (e.g., \"*.js\", \"**/*.tsx\") or type parameter (e.g., \"js\", \"py\", \"rust\")\n  - Output modes: \"content\" shows matching lines, \"files_with_matches\" shows only file paths (default), \"count\" shows match counts\n  - Use Task tool for open-ended searches requiring multiple rounds\n  - Pattern syntax: Uses ripgrep (not grep) - literal braces need escaping (use `interface\\{\\}` to find `interface{}` in Go code)\n  - Multiline matching: By default patterns match within single lines only. For cross-line patterns like `struct \\{[\\s\\S]*?field`, use `multiline: true`\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The regular expression pattern to search for in file contents","type":"string"},"path":{"description":"File or directory to search in (rg PATH). Defaults to current working directory.","type":"string"},"glob":{"description":"Glob pattern to filter files (e.g. \"*.js\", \"*.{ts,tsx}\") - maps to rg --glob","type":"string"},"output_mode":{"description":"Output mode: \"content\" shows matching lines (supports -A/-B/-C context, -n line numbers, head_limit), \"files_with_matches\" shows file paths (supports head_limit), \"count\" shows match counts (supports head_limit). Defaults to \"files_with_matches\".","type":"string","enum":["content","files_with_matches","count"]},"-B":{"description":"Number of lines to show before each match (rg -B). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-A":{"description":"Number of lines to show after each match (rg -A). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-C":{"description":"Alias for context.","type":"number"},"context":{"description":"Number of lines to show before and after each match (rg -C). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-n":{"description":"Show line numbers in output (rg -n). Requires output_mode: \"content\", ignored otherwise. Defaults to true.","type":"boolean"},"-i":{"description":"Case insensitive search (rg -i)","type":"boolean"},"type":{"description":"File type to search (rg --type). Common types: js, py, rust, go, java, etc. More efficient than include for standard file types.","type":"string"},"head_limit":{"description":"Limit output to first N lines/entries, equivalent to \"| head -N\". Works across all output modes: content (limits output lines), files_with_matches (limits file paths), count (limits count entries). Defaults to 0 (unlimited).","type":"number"},"offset":{"description":"Skip first N lines/entries before applying head_limit, equivalent to \"| tail -n +N | head -N\". Works across all output modes. Defaults to 0.","type":"number"},"multiline":{"description":"Enable multiline mode where . matches newlines and patterns can span lines (rg -U --multiline-dotall). Default: false.","type":"boolean"}},"required":["pattern"],"additionalProperties":false}},{"name":"ExitPlanMode","description":"Use this tool when you are in plan mode and have finished writing your plan to the plan file and are ready for user approval.\n\n## How This Tool Works\n- You should have already written your plan to the plan file specified in the plan mode system message\n- This tool does NOT take the plan content as a parameter - it will read the plan from the file you wrote\n- This tool simply signals that you're done planning and ready for the user to review and approve\n- The user will see the contents of your plan file when they review it\n\n## When to Use This Tool\nIMPORTANT: Only use this tool when the task requires planning the implementation steps of a task that requires writing code. For research tasks where you're gathering information, searching files, reading files or in general trying to understand the codebase - do NOT use this tool.\n\n## Before Using This Tool\nEnsure your plan is complete and unambiguous:\n- If you have unresolved questions about requirements or approach, use AskUserQuestion first (in earlier phases)\n- Once your plan is finalized, use THIS tool to request approval\n\n**Important:** Do NOT use AskUserQuestion to ask \"Is this plan okay?\" or \"Should I proceed?\" - that's exactly what THIS tool does. ExitPlanMode inherently requests user approval of your plan.\n\n## Examples\n\n1. Initial task: \"Search for and understand the implementation of vim mode in the codebase\" - Do not use the exit plan mode tool because you are not planning the implementation steps of a task.\n2. Initial task: \"Help me implement yank mode for vim\" - Use the exit plan mode tool after you have finished planning the implementation steps of the task.\n3. Initial task: \"Add a new feature to handle user authentication\" - If unsure about auth method (OAuth, JWT, etc.), use AskUserQuestion first, then use exit plan mode tool after clarifying the approach.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"allowedPrompts":{"description":"Prompt-based permissions needed to implement the plan. These describe categories of actions rather than specific commands.","type":"array","items":{"type":"object","properties":{"tool":{"description":"The tool this prompt applies to","type":"string","enum":["Bash"]},"prompt":{"description":"Semantic description of the action, e.g. \"run tests\", \"install dependencies\"","type":"string"}},"required":["tool","prompt"],"additionalProperties":false}},"pushToRemote":{"description":"Whether to push the plan to a remote Claude.ai session","type":"boolean"},"remoteSessionId":{"description":"The remote session ID if pushed to remote","type":"string"},"remoteSessionUrl":{"description":"The remote session URL if pushed to remote","type":"string"},"remoteSessionTitle":{"description":"The remote session title if pushed to remote","type":"string"}},"additionalProperties":{}}},{"name":"Read","description":"Reads a file from the local filesystem. You can access any file directly by using this tool.\nAssume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned.\n\nUsage:\n- The file_path parameter must be an absolute path, not a relative path\n- By default, it reads up to 2000 lines starting from the beginning of the file\n- You can optionally specify a line offset and limit (especially handy for long files), but it's recommended to read the whole file by not providing these parameters\n- Any lines longer than 2000 characters will be truncated\n- Results are returned using cat -n format, with line numbers starting at 1\n- This tool allows Claude Code to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as Claude Code is a multimodal LLM.\n- This tool can read PDF files (.pdf). PDFs are processed page by page, extracting both text and visual content for analysis.\n- This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.\n- This tool can only read files, not directories. To read a directory, use an ls command via the Bash tool.\n- You can call multiple tools in a single response. It is always better to speculatively read multiple potentially useful files in parallel.\n- You will regularly be asked to read screenshots. If the user provides a path to a screenshot, ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths.\n- If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to read","type":"string"},"offset":{"description":"The line number to start reading from. Only provide if the file is too large to read at once","type":"number"},"limit":{"description":"The number of lines to read. Only provide if the file is too large to read at once.","type":"number"}},"required":["file_path"],"additionalProperties":false}},{"name":"Edit","description":"Performs exact string replacements in files.\n\nUsage:\n- You must use your `Read` tool at least once in the conversation before editing. This tool will error if you attempt an edit without reading the file. \n- When editing text from Read tool output, ensure you preserve the exact indentation (tabs/spaces) as it appears AFTER the line number prefix. The line number prefix format is: spaces + line number + tab. Everything after that tab is the actual file content to match. Never include any part of the line number prefix in the old_string or new_string.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- Only use emojis if the user explicitly requests it. Avoid adding emojis to files unless asked.\n- The edit will FAIL if `old_string` is not unique in the file. Either provide a larger string with more surrounding context to make it unique or use `replace_all` to change every instance of `old_string`.\n- Use `replace_all` for replacing and renaming strings across the file. This parameter is useful if you want to rename a variable for instance.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to modify","type":"string"},"old_string":{"description":"The text to replace","type":"string"},"new_string":{"description":"The text to replace it with (must be different from old_string)","type":"string"},"replace_all":{"description":"Replace all occurences of old_string (default false)","default":false,"type":"boolean"}},"required":["file_path","old_string","new_string"],"additionalProperties":false}},{"name":"Write","description":"Writes a file to the local filesystem.\n\nUsage:\n- This tool will overwrite the existing file if there is one at the provided path.\n- If this is an existing file, you MUST use the Read tool first to read the file's contents. This tool will fail if you did not read the file first.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.\n- Only use emojis if the user explicitly requests it. Avoid writing emojis to files unless asked.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to write (must be absolute, not relative)","type":"string"},"content":{"description":"The content to write to the file","type":"string"}},"required":["file_path","content"],"additionalProperties":false}},{"name":"NotebookEdit","description":"Completely replaces the contents of a specific cell in a Jupyter notebook (.ipynb file) with new source. Jupyter notebooks are interactive documents that combine code, text, and visualizations, commonly used for data analysis and scientific computing. The notebook_path parameter must be an absolute path, not a relative path. The cell_number is 0-indexed. Use edit_mode=insert to add a new cell at the index specified by cell_number. Use edit_mode=delete to delete the cell at the index specified by cell_number.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"notebook_path":{"description":"The absolute path to the Jupyter notebook file to edit (must be absolute, not relative)","type":"string"},"cell_id":{"description":"The ID of the cell to edit. When inserting a new cell, the new cell will be inserted after the cell with this ID, or at the beginning if not specified.","type":"string"},"new_source":{"description":"The new source for the cell","type":"string"},"cell_type":{"description":"The type of the cell (code or markdown). If not specified, it defaults to the current cell type. If using edit_mode=insert, this is required.","type":"string","enum":["code","markdown"]},"edit_mode":{"description":"The type of edit to make (replace, insert, delete). Defaults to replace.","type":"string","enum":["replace","insert","delete"]}},"required":["notebook_path","new_source"],"additionalProperties":false}},{"name":"WebFetch","description":"\n- Fetches content from a specified URL and processes it using an AI model\n- Takes a URL and a prompt as input\n- Fetches the URL content, converts HTML to markdown\n- Processes the content with the prompt using a small, fast model\n- Returns the model's response about the content\n- Use this tool when you need to retrieve and analyze web content\n\nUsage notes:\n  - IMPORTANT: If an MCP-provided web fetch tool is available, prefer using that tool instead of this one, as it may have fewer restrictions.\n  - The URL must be a fully-formed valid URL\n  - HTTP URLs will be automatically upgraded to HTTPS\n  - The prompt should describe what information you want to extract from the page\n  - This tool is read-only and does not modify any files\n  - Results may be summarized if the content is very large\n  - Includes a self-cleaning 15-minute cache for faster responses when repeatedly accessing the same URL\n  - When a URL redirects to a different host, the tool will inform you and provide the redirect URL in a special format. You should then make a new WebFetch request with the redirect URL to fetch the content.\n  - For GitHub URLs, prefer using the gh CLI via Bash instead (e.g., gh pr view, gh issue view, gh api).\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"url":{"description":"The URL to fetch content from","type":"string","format":"uri"},"prompt":{"description":"The prompt to run on the fetched content","type":"string"}},"required":["url","prompt"],"additionalProperties":false}},{"name":"WebSearch","description":"\n- Allows Claude to search the web and use the results to inform responses\n- Provides up-to-date information for current events and recent data\n- Returns search result information formatted as search result blocks, including links as markdown hyperlinks\n- Use this tool for accessing information beyond Claude's knowledge cutoff\n- Searches are performed automatically within a single API call\n\nCRITICAL REQUIREMENT - You MUST follow this:\n  - After answering the user's question, you MUST include a \"Sources:\" section at the end of your response\n  - In the Sources section, list all relevant URLs from the search results as markdown hyperlinks: [Title](URL)\n  - This is MANDATORY - never skip including sources in your response\n  - Example format:\n\n    [Your answer here]\n\n    Sources:\n    - [Source Title 1](https://example.com/1)\n    - [Source Title 2](https://example.com/2)\n\nUsage notes:\n  - Domain filtering is supported to include or block specific websites\n  - Web search is only available in the US\n\nIMPORTANT - Use the correct year in search queries:\n  - Today's date is 2026-01-31. You MUST use this year when searching for recent information, documentation, or current events.\n  - Example: If the user asks for \"latest React docs\", search for \"React documentation 2026\", NOT \"React documentation 2025\"\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"query":{"description":"The search query to use","type":"string","minLength":2},"allowed_domains":{"description":"Only include search results from these domains","type":"array","items":{"type":"string"}},"blocked_domains":{"description":"Never include search results from these domains","type":"array","items":{"type":"string"}}},"required":["query"],"additionalProperties":false}},{"name":"TaskStop","description":"\n- Stops a running background task by its ID\n- Takes a task_id parameter identifying the task to stop\n- Returns a success or failure status\n- Use this tool when you need to terminate a long-running task\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The ID of the background task to stop","type":"string"},"shell_id":{"description":"Deprecated: use task_id instead","type":"string"}},"additionalProperties":false}},{"name":"AskUserQuestion","description":"Use this tool when you need to ask the user questions during execution. This allows you to:\n1. Gather user preferences or requirements\n2. Clarify ambiguous instructions\n3. Get decisions on implementation choices as you work\n4. Offer choices to the user about what direction to take.\n\nUsage notes:\n- Users will always be able to select \"Other\" to provide custom text input\n- Use multiSelect: true to allow multiple answers to be selected for a question\n- If you recommend a specific option, make that the first option in the list and add \"(Recommended)\" at the end of the label\n\nPlan mode note: In plan mode, use this tool to clarify requirements or choose between approaches BEFORE finalizing your plan. Do NOT use this tool to ask \"Is my plan ready?\" or \"Should I proceed?\" - use ExitPlanMode for plan approval.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"questions":{"description":"Questions to ask the user (1-4 questions)","minItems":1,"maxItems":4,"type":"array","items":{"type":"object","properties":{"question":{"description":"The complete question to ask the user. Should be clear, specific, and end with a question mark. Example: \"Which library should we use for date formatting?\" If multiSelect is true, phrase it accordingly, e.g. \"Which features do you want to enable?\"","type":"string"},"header":{"description":"Very short label displayed as a chip/tag (max 12 chars). Examples: \"Auth method\", \"Library\", \"Approach\".","type":"string"},"options":{"description":"The available choices for this question. Must have 2-4 options. Each option should be a distinct, mutually exclusive choice (unless multiSelect is enabled). There should be no 'Other' option, that will be provided automatically.","minItems":2,"maxItems":4,"type":"array","items":{"type":"object","properties":{"label":{"description":"The display text for this option that the user will see and select. Should be concise (1-5 words) and clearly describe the choice.","type":"string"},"description":{"description":"Explanation of what this option means or what will happen if chosen. Useful for providing context about trade-offs or implications.","type":"string"}},"required":["label","description"],"additionalProperties":false}},"multiSelect":{"description":"Set to true to allow the user to select multiple options instead of just one. Use when choices are not mutually exclusive.","default":false,"type":"boolean"}},"required":["question","header","options","multiSelect"],"additionalProperties":false}},"answers":{"description":"User answers collected by the permission component","type":"object","propertyNames":{"type":"string"},"additionalProperties":{"type":"string"}},"metadata":{"description":"Optional metadata for tracking and analytics purposes. Not displayed to user.","type":"object","properties":{"source":{"description":"Optional identifier for the source of this question (e.g., \"remember\" for /remember command). Used for analytics tracking.","type":"string"}},"additionalProperties":false}},"required":["questions"],"additionalProperties":false}},{"name":"Skill","description":"Execute a skill within the main conversation\n\nWhen users ask you to perform tasks, check if any of the available skills match. Skills provide specialized capabilities and domain knowledge.\n\nWhen users reference a \"slash command\" or \"/<something>\" (e.g., \"/commit\", \"/review-pr\"), they are referring to a skill. Use this tool to invoke it.\n\nHow to invoke:\n- Use this tool with the skill name and optional arguments\n- Examples:\n  - `skill: \"pdf\"` - invoke the pdf skill\n  - `skill: \"commit\", args: \"-m 'Fix bug'\"` - invoke with arguments\n  - `skill: \"review-pr\", args: \"123\"` - invoke with arguments\n  - `skill: \"ms-office-suite:pdf\"` - invoke using fully qualified name\n\nImportant:\n- Available skills are listed in system-reminder messages in the conversation\n- When a skill matches the user's request, this is a BLOCKING REQUIREMENT: invoke the relevant Skill tool BEFORE generating any other response about the task\n- NEVER mention a skill without actually calling this tool\n- Do not invoke a skill that is already running\n- Do not use this tool for built-in CLI commands (like /help, /clear, etc.)\n- If you see a <command-name> tag in the current conversation turn, the skill has ALREADY been loaded - follow the instructions directly instead of calling this tool again\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"skill":{"description":"The skill name. E.g., \"commit\", \"review-pr\", or \"pdf\"","type":"string"},"args":{"description":"Optional arguments for the skill","type":"string"}},"required":["skill"],"additionalProperties":false}},{"name":"EnterPlanMode","description":"Use this tool proactively when you're about to start a non-trivial implementation task. Getting user sign-off on your approach before writing code prevents wasted effort and ensures alignment. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.\n\n## When to Use This Tool\n\n**Prefer using EnterPlanMode** for implementation tasks unless they're simple. Use it when ANY of these conditions apply:\n\n1. **New Feature Implementation**: Adding meaningful new functionality\n   - Example: \"Add a logout button\" - where should it go? What should happen on click?\n   - Example: \"Add form validation\" - what rules? What error messages?\n\n2. **Multiple Valid Approaches**: The task can be solved in several different ways\n   - Example: \"Add caching to the API\" - could use Redis, in-memory, file-based, etc.\n   - Example: \"Improve performance\" - many optimization strategies possible\n\n3. **Code Modifications**: Changes that affect existing behavior or structure\n   - Example: \"Update the login flow\" - what exactly should change?\n   - Example: \"Refactor this component\" - what's the target architecture?\n\n4. **Architectural Decisions**: The task requires choosing between patterns or technologies\n   - Example: \"Add real-time updates\" - WebSockets vs SSE vs polling\n   - Example: \"Implement state management\" - Redux vs Context vs custom solution\n\n5. **Multi-File Changes**: The task will likely touch more than 2-3 files\n   - Example: \"Refactor the authentication system\"\n   - Example: \"Add a new API endpoint with tests\"\n\n6. **Unclear Requirements**: You need to explore before understanding the full scope\n   - Example: \"Make the app faster\" - need to profile and identify bottlenecks\n   - Example: \"Fix the bug in checkout\" - need to investigate root cause\n\n7. **User Preferences Matter**: The implementation could reasonably go multiple ways\n   - If you would use AskUserQuestion to clarify the approach, use EnterPlanMode instead\n   - Plan mode lets you explore first, then present options with context\n\n## When NOT to Use This Tool\n\nOnly skip EnterPlanMode for simple tasks:\n- Single-line or few-line fixes (typos, obvious bugs, small tweaks)\n- Adding a single function with clear requirements\n- Tasks where the user has given very specific, detailed instructions\n- Pure research/exploration tasks (use the Task tool with explore agent instead)\n\n## What Happens in Plan Mode\n\nIn plan mode, you'll:\n1. Thoroughly explore the codebase using Glob, Grep, and Read tools\n2. Understand existing patterns and architecture\n3. Design an implementation approach\n4. Present your plan to the user for approval\n5. Use AskUserQuestion if you need to clarify approaches\n6. Exit plan mode with ExitPlanMode when ready to implement\n\n## Examples\n\n### GOOD - Use EnterPlanMode:\nUser: \"Add user authentication to the app\"\n- Requires architectural decisions (session vs JWT, where to store tokens, middleware structure)\n\nUser: \"Optimize the database queries\"\n- Multiple approaches possible, need to profile first, significant impact\n\nUser: \"Implement dark mode\"\n- Architectural decision on theme system, affects many components\n\nUser: \"Add a delete button to the user profile\"\n- Seems simple but involves: where to place it, confirmation dialog, API call, error handling, state updates\n\nUser: \"Update the error handling in the API\"\n- Affects multiple files, user should approve the approach\n\n### BAD - Don't use EnterPlanMode:\nUser: \"Fix the typo in the README\"\n- Straightforward, no planning needed\n\nUser: \"Add a console.log to debug this function\"\n- Simple, obvious implementation\n\nUser: \"What files handle routing?\"\n- Research task, not implementation planning\n\n## Important Notes\n\n- This tool REQUIRES user approval - they must consent to entering plan mode\n- If unsure whether to use it, err on the side of planning - it's better to get alignment upfront than to redo work\n- Users appreciate being consulted before significant changes are made to their codebase\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}},{"name":"TaskCreate","description":"Use this tool to create a structured task list for your current coding session. This helps you track progress, organize complex tasks, and demonstrate thoroughness to the user.\nIt also helps the user understand the progress of the task and overall progress of their requests.\n\n## When to Use This Tool\n\nUse this tool proactively in these scenarios:\n\n- Complex multi-step tasks - When a task requires 3 or more distinct steps or actions\n- Non-trivial and complex tasks - Tasks that require careful planning or multiple operations\n- Plan mode - When using plan mode, create a task list to track the work\n- User explicitly requests todo list - When the user directly asks you to use the todo list\n- User provides multiple tasks - When users provide a list of things to be done (numbered or comma-separated)\n- After receiving new instructions - Immediately capture user requirements as tasks\n- When you start working on a task - Mark it as in_progress BEFORE beginning work\n- After completing a task - Mark it as completed and add any new follow-up tasks discovered during implementation\n\n## When NOT to Use This Tool\n\nSkip using this tool when:\n- There is only a single, straightforward task\n- The task is trivial and tracking it provides no organizational benefit\n- The task can be completed in less than 3 trivial steps\n- The task is purely conversational or informational\n\nNOTE that you should not use this tool if there is only one trivial task to do. In this case you are better off just doing the task directly.\n\n## Task Fields\n\n- **subject**: A brief, actionable title in imperative form (e.g., \"Fix authentication bug in login flow\")\n- **description**: Detailed description of what needs to be done, including context and acceptance criteria\n- **activeForm**: Present continuous form shown in spinner when task is in_progress (e.g., \"Fixing authentication bug\"). This is displayed to the user while you work on the task.\n\n**IMPORTANT**: Always provide activeForm when creating tasks. The subject should be imperative (\"Run tests\") while activeForm should be present continuous (\"Running tests\"). All tasks are created with status `pending`.\n\n## Tips\n\n- Create tasks with clear, specific subjects that describe the outcome\n- Include enough detail in the description for another agent to understand and complete the task\n- After creating tasks, use TaskUpdate to set up dependencies (blocks/blockedBy) if needed\n- Check TaskList first to avoid creating duplicate tasks\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"subject":{"description":"A brief title for the task","type":"string"},"description":{"description":"A detailed description of what needs to be done","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"metadata":{"description":"Arbitrary metadata to attach to the task","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["subject","description"],"additionalProperties":false}},{"name":"TaskGet","description":"Use this tool to retrieve a task by its ID from the task list.\n\n## When to Use This Tool\n\n- When you need the full description and context before starting work on a task\n- To understand task dependencies (what it blocks, what blocks it)\n- After being assigned a task, to get complete requirements\n\n## Output\n\nReturns full task details:\n- **subject**: Task title\n- **description**: Detailed requirements and context\n- **status**: 'pending', 'in_progress', or 'completed'\n- **blocks**: Tasks waiting on this one to complete\n- **blockedBy**: Tasks that must complete before this one can start\n\n## Tips\n\n- After fetching a task, verify its blockedBy list is empty before beginning work.\n- Use TaskList to see all tasks in summary form.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to retrieve","type":"string"}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskUpdate","description":"Use this tool to update a task in the task list.\n\n## When to Use This Tool\n\n**Mark tasks as resolved:**\n- When you have completed the work described in a task\n- When a task is no longer needed or has been superseded\n- IMPORTANT: Always mark your assigned tasks as resolved when you finish them\n- After resolving, call TaskList to find your next task\n\n- ONLY mark a task as completed when you have FULLY accomplished it\n- If you encounter errors, blockers, or cannot finish, keep the task as in_progress\n- When blocked, create a new task describing what needs to be resolved\n- Never mark a task as completed if:\n  - Tests are failing\n  - Implementation is partial\n  - You encountered unresolved errors\n  - You couldn't find necessary files or dependencies\n\n**Delete tasks:**\n- When a task is no longer relevant or was created in error\n- Setting status to `deleted` permanently removes the task\n\n**Update task details:**\n- When requirements change or become clearer\n- When establishing dependencies between tasks\n\n## Fields You Can Update\n\n- **status**: The task status (see Status Workflow below)\n- **subject**: Change the task title (imperative form, e.g., \"Run tests\")\n- **description**: Change the task description\n- **activeForm**: Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")\n- **owner**: Change the task owner (agent name)\n- **metadata**: Merge metadata keys into the task (set a key to null to delete it)\n- **addBlocks**: Mark tasks that cannot start until this one completes\n- **addBlockedBy**: Mark tasks that must complete before this one can start\n\n## Status Workflow\n\nStatus progresses: `pending`  `in_progress`  `completed`\n\nUse `deleted` to permanently remove a task.\n\n## Staleness\n\nMake sure to read a task's latest state using `TaskGet` before updating it.\n\n## Examples\n\nMark task as in progress when starting work:\n```json\n{\"taskId\": \"1\", \"status\": \"in_progress\"}\n```\n\nMark task as completed after finishing work:\n```json\n{\"taskId\": \"1\", \"status\": \"completed\"}\n```\n\nDelete a task:\n```json\n{\"taskId\": \"1\", \"status\": \"deleted\"}\n```\n\nClaim a task by setting owner:\n```json\n{\"taskId\": \"1\", \"owner\": \"my-name\"}\n```\n\nSet up task dependencies:\n```json\n{\"taskId\": \"2\", \"addBlockedBy\": [\"1\"]}\n```\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to update","type":"string"},"subject":{"description":"New subject for the task","type":"string"},"description":{"description":"New description for the task","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"status":{"description":"New status for the task","anyOf":[{"type":"string","enum":["pending","in_progress","completed"]},{"type":"string","const":"deleted"}]},"addBlocks":{"description":"Task IDs that this task blocks","type":"array","items":{"type":"string"}},"addBlockedBy":{"description":"Task IDs that block this task","type":"array","items":{"type":"string"}},"owner":{"description":"New owner for the task","type":"string"},"metadata":{"description":"Metadata keys to merge into the task. Set a key to null to delete it.","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskList","description":"Use this tool to list all tasks in the task list.\n\n## When to Use This Tool\n\n- To see what tasks are available to work on (status: 'pending', no owner, not blocked)\n- To check overall progress on the project\n- To find tasks that are blocked and need dependencies resolved\n- After completing a task, to check for newly unblocked work or claim the next available task\n- **Prefer working on tasks in ID order** (lowest ID first) when multiple tasks are available, as earlier tasks often set up context for later ones\n\n## Output\n\nReturns a summary of each task:\n- **id**: Task identifier (use with TaskGet, TaskUpdate)\n- **subject**: Brief description of the task\n- **status**: 'pending', 'in_progress', or 'completed'\n- **owner**: Agent ID if assigned, empty if available\n- **blockedBy**: List of open task IDs that must be resolved first (tasks with blockedBy cannot be claimed until dependencies resolve)\n\nUse TaskGet with a specific task ID to view full details including description and comments.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}}]}

[2026-01-31T16:56:09.967Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "55639"
}
Body: {"model":"gemini-3-flash-preview","max_tokens":1,"messages":[{"role":"user","content":"count"}],"tools":[{"name":"Task","description":"Launch a new agent to handle complex, multi-step tasks autonomously. \n\nThe Task tool launches specialized agents (subprocesses) that autonomously handle complex tasks. Each agent type has specific capabilities and tools available to it.\n\nAvailable agent types and the tools they have access to:\n\n\nWhen using the Task tool, you must specify a subagent_type parameter to select which agent type to use.\n\nWhen NOT to use the Task tool:\n- If you want to read a specific file path, use the Read or Glob tool instead of the Task tool, to find the match more quickly\n- If you are searching for a specific class definition like \"class Foo\", use the Glob tool instead, to find the match more quickly\n- If you are searching for code within a specific file or set of 2-3 files, use the Read tool instead of the Task tool, to find the match more quickly\n- Other tasks that are not related to the agent descriptions above\n\n\nUsage notes:\n- Always include a short description (3-5 words) summarizing what the agent will do\n- Launch multiple agents concurrently whenever possible, to maximize performance; to do that, use a single message with multiple tool uses\n- When the agent is done, it will return a single message back to you. The result returned by the agent is not visible to the user. To show the user the result, you should send a text message back to the user with a concise summary of the result.\n- You can optionally run agents in the background using the run_in_background parameter. When an agent runs in the background, the tool result will include an output_file path. To check on the agent's progress or retrieve its results, use the Read tool to read the output file, or use Bash with `tail` to see recent output. You can continue working while background agents run.\n- Agents can be resumed using the `resume` parameter by passing the agent ID from a previous invocation. When resumed, the agent continues with its full previous context preserved. When NOT resuming, each invocation starts fresh and you should provide a detailed task description with all necessary context.\n- When the agent is done, it will return a single message back to you along with its agent ID. You can use this ID to resume the agent later if needed for follow-up work.\n- Provide clear, detailed prompts so the agent can work autonomously and return exactly the information you need.\n- Agents with \"access to current context\" can see the full conversation history before the tool call. When using these agents, you can write concise prompts that reference earlier context (e.g., \"investigate the error discussed above\") instead of repeating information. The agent will receive all prior messages and understand the context.\n- The agent's outputs should generally be trusted\n- Clearly tell the agent whether you expect it to write code or just to do research (search, file reads, web fetches, etc.), since it is not aware of the user's intent\n- If the agent description mentions that it should be used proactively, then you should try your best to use it without the user having to ask for it first. Use your judgement.\n- If the user specifies that they want you to run agents \"in parallel\", you MUST send a single message with multiple Task tool use content blocks. For example, if you need to launch both a build-validator agent and a test-runner agent in parallel, send a single message with both tool calls.\n\nExample usage:\n\n<example_agent_descriptions>\n\"test-runner\": use this agent after you are done writing code to run tests\n\"greeting-responder\": use this agent when to respond to user greetings with a friendly joke\n</example_agent_description>\n\n<example>\nuser: \"Please write a function that checks if a number is prime\"\nassistant: Sure let me write a function that checks if a number is prime\nassistant: First let me use the Write tool to write a function that checks if a number is prime\nassistant: I'm going to use the Write tool to write the following code:\n<code>\nfunction isPrime(n) {\n  if (n <= 1) return false\n  for (let i = 2; i * i <= n; i++) {\n    if (n % i === 0) return false\n  }\n  return true\n}\n</code>\n<commentary>\nSince a significant piece of code was written and the task was completed, now use the test-runner agent to run the tests\n</commentary>\nassistant: Now let me use the test-runner agent to run the tests\nassistant: Uses the Task tool to launch the test-runner agent\n</example>\n\n<example>\nuser: \"Hello\"\n<commentary>\nSince the user is greeting, use the greeting-responder agent to respond with a friendly joke\n</commentary>\nassistant: \"I'm going to use the Task tool to launch the greeting-responder agent\"\n</example>\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"description":{"description":"A short (3-5 word) description of the task","type":"string"},"prompt":{"description":"The task for the agent to perform","type":"string"},"subagent_type":{"description":"The type of specialized agent to use for this task","type":"string"},"model":{"description":"Optional model to use for this agent. If not specified, inherits from parent. Prefer haiku for quick, straightforward tasks to minimize cost and latency.","type":"string","enum":["sonnet","opus","haiku"]},"resume":{"description":"Optional agent ID to resume from. If provided, the agent will continue from the previous execution transcript.","type":"string"},"run_in_background":{"description":"Set to true to run this agent in the background. The tool result will include an output_file path - use Read tool or Bash tail to check on output.","type":"boolean"},"max_turns":{"description":"Maximum number of agentic turns (API round-trips) before stopping. Used internally for warmup.","type":"integer","exclusiveMinimum":0,"maximum":9007199254740991}},"required":["description","prompt","subagent_type"],"additionalProperties":false}},{"name":"TaskOutput","description":"- Retrieves output from a running or completed task (background shell, agent, or remote session)\n- Takes a task_id parameter identifying the task\n- Returns the task output along with status information\n- Use block=true (default) to wait for task completion\n- Use block=false for non-blocking check of current status\n- Task IDs can be found using the /tasks command\n- Works with all task types: background shells, async agents, and remote sessions","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The task ID to get output from","type":"string"},"block":{"description":"Whether to wait for completion","default":true,"type":"boolean"},"timeout":{"description":"Max wait time in ms","default":30000,"type":"number","minimum":0,"maximum":600000}},"required":["task_id","block","timeout"],"additionalProperties":false}},{"name":"Bash","description":"Executes a given bash command with optional timeout. Working directory persists between commands; shell state (everything else) does not. The shell environment is initialized from the user's profile (bash or zsh).\n\nIMPORTANT: This tool is for terminal operations like git, npm, docker, etc. DO NOT use it for file operations (reading, writing, editing, searching, finding files) - use the specialized tools for this instead.\n\nBefore executing the command, please follow these steps:\n\n1. Directory Verification:\n   - If the command will create new directories or files, first use `ls` to verify the parent directory exists and is the correct location\n   - For example, before running \"mkdir foo/bar\", first use `ls foo` to check that \"foo\" exists and is the intended parent directory\n\n2. Command Execution:\n   - Always quote file paths that contain spaces with double quotes (e.g., cd \"path with spaces/file.txt\")\n   - Examples of proper quoting:\n     - cd \"/Users/name/My Documents\" (correct)\n     - cd /Users/name/My Documents (incorrect - will fail)\n     - python \"/path/with spaces/script.py\" (correct)\n     - python /path/with spaces/script.py (incorrect - will fail)\n   - After ensuring proper quoting, execute the command.\n   - Capture the output of the command.\n\nUsage notes:\n  - The command argument is required.\n  - You can specify an optional timeout in milliseconds (up to 600000ms / 10 minutes). If not specified, commands will timeout after 120000ms (2 minutes).\n  - It is very helpful if you write a clear, concise description of what this command does. For simple commands, keep it brief (5-10 words). For complex commands (piped commands, obscure flags, or anything hard to understand at a glance), add enough context to clarify what it does.\n  - If the output exceeds 30000 characters, output will be truncated before being returned to you.\n  \n  - You can use the `run_in_background` parameter to run the command in the background. Only use this if you don't need the result immediately and are OK being notified when the command completes later. You do not need to check the output right away - you'll be notified when it finishes. You do not need to use '&' at the end of the command when using this parameter.\n  \n  - Avoid using Bash with the `find`, `grep`, `cat`, `head`, `tail`, `sed`, `awk`, or `echo` commands, unless explicitly instructed or when these commands are truly necessary for the task. Instead, always prefer using the dedicated tools for these commands:\n    - File search: Use Glob (NOT find or ls)\n    - Content search: Use Grep (NOT grep or rg)\n    - Read files: Use Read (NOT cat/head/tail)\n    - Edit files: Use Edit (NOT sed/awk)\n    - Write files: Use Write (NOT echo >/cat <<EOF)\n    - Communication: Output text directly (NOT echo/printf)\n  - When issuing multiple commands:\n    - If the commands are independent and can run in parallel, make multiple Bash tool calls in a single message. For example, if you need to run \"git status\" and \"git diff\", send a single message with two Bash tool calls in parallel.\n    - If the commands depend on each other and must run sequentially, use a single Bash call with '&&' to chain them together (e.g., `git add . && git commit -m \"message\" && git push`). For instance, if one operation must complete before another starts (like mkdir before cp, Write before Bash for git operations, or git add before git commit), run these operations sequentially instead.\n    - Use ';' only when you need to run commands sequentially but don't care if earlier commands fail\n    - DO NOT use newlines to separate commands (newlines are ok in quoted strings)\n  - Try to maintain your current working directory throughout the session by using absolute paths and avoiding usage of `cd`. You may use `cd` if the User explicitly requests it.\n    <good-example>\n    pytest /foo/bar/tests\n    </good-example>\n    <bad-example>\n    cd /foo/bar && pytest tests\n    </bad-example>\n\n# Committing changes with git\n\nOnly create commits when requested by the user. If unclear, ask first. When the user asks you to create a new git commit, follow these steps carefully:\n\nGit Safety Protocol:\n- NEVER update the git config\n- NEVER run destructive git commands (push --force, reset --hard, checkout ., restore ., clean -f, branch -D) unless the user explicitly requests these actions. Taking unauthorized destructive actions is unhelpful and can result in lost work, so it's best to ONLY run these commands when given direct instructions \n- NEVER skip hooks (--no-verify, --no-gpg-sign, etc) unless the user explicitly requests it\n- NEVER run force push to main/master, warn the user if they request it\n- CRITICAL: Always create NEW commits rather than amending, unless the user explicitly requests a git amend. When a pre-commit hook fails, the commit did NOT happen   so --amend would modify the PREVIOUS commit, which may result in destroying work or losing previous changes. Instead, after hook failure, fix the issue, re-stage, and create a NEW commit\n- When staging files, prefer adding specific files by name rather than using \"git add -A\" or \"git add .\", which can accidentally include sensitive files (.env, credentials) or large binaries\n- NEVER commit changes unless the user explicitly asks you to. It is VERY IMPORTANT to only commit when explicitly asked, otherwise the user will feel that you are being too proactive\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel, each using the Bash tool:\n  - Run a git status command to see all untracked files. IMPORTANT: Never use the -uall flag as it can cause memory issues on large repos.\n  - Run a git diff command to see both staged and unstaged changes that will be committed.\n  - Run a git log command to see recent commit messages, so that you can follow this repository's commit message style.\n2. Analyze all staged changes (both previously staged and newly added) and draft a commit message:\n  - Summarize the nature of the changes (eg. new feature, enhancement to an existing feature, bug fix, refactoring, test, docs, etc.). Ensure the message accurately reflects the changes and their purpose (i.e. \"add\" means a wholly new feature, \"update\" means an enhancement to an existing feature, \"fix\" means a bug fix, etc.).\n  - Do not commit files that likely contain secrets (.env, credentials.json, etc). Warn the user if they specifically request to commit those files\n  - Draft a concise (1-2 sentences) commit message that focuses on the \"why\" rather than the \"what\"\n  - Ensure it accurately reflects the changes and their purpose\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands:\n   - Add relevant untracked files to the staging area.\n   - Create the commit with a message.\n   - Run git status after the commit completes to verify success.\n   Note: git status depends on the commit completing, so run it sequentially after the commit.\n4. If the commit fails due to pre-commit hook: fix the issue and create a NEW commit\n\nImportant notes:\n- NEVER run additional commands to read or explore code, besides git bash commands\n- NEVER use the TodoWrite or Task tools\n- DO NOT push to the remote repository unless the user explicitly asks you to do so\n- IMPORTANT: Never use git commands with the -i flag (like git rebase -i or git add -i) since they require interactive input which is not supported.\n- IMPORTANT: Do not use --no-edit with git rebase commands, as the --no-edit flag is not a valid option for git rebase.\n- If there are no changes to commit (i.e., no untracked files and no modifications), do not create an empty commit\n- In order to ensure good formatting, ALWAYS pass the commit message via a HEREDOC, a la this example:\n<example>\ngit commit -m \"$(cat <<'EOF'\n   Commit message here.\n   EOF\n   )\"\n</example>\n\n# Creating pull requests\nUse the gh command via the Bash tool for ALL GitHub-related tasks including working with issues, pull requests, checks, and releases. If given a Github URL use the gh command to get the information needed.\n\nIMPORTANT: When the user asks you to create a pull request, follow these steps carefully:\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel using the Bash tool, in order to understand the current state of the branch since it diverged from the main branch:\n   - Run a git status command to see all untracked files (never use -uall flag)\n   - Run a git diff command to see both staged and unstaged changes that will be committed\n   - Check if the current branch tracks a remote branch and is up to date with the remote, so you know if you need to push to the remote\n   - Run a git log command and `git diff [base-branch]...HEAD` to understand the full commit history for the current branch (from the time it diverged from the base branch)\n2. Analyze all changes that will be included in the pull request, making sure to look at all relevant commits (NOT just the latest commit, but ALL commits that will be included in the pull request!!!), and draft a pull request title and summary:\n   - Keep the PR title short (under 70 characters)\n   - Use the description/body for details, not the title\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands in parallel:\n   - Create new branch if needed\n   - Push to remote with -u flag if needed\n   - Create PR using gh pr create with the format below. Use a HEREDOC to pass the body to ensure correct formatting.\n<example>\ngh pr create --title \"the pr title\" --body \"$(cat <<'EOF'\n## Summary\n<1-3 bullet points>\n\n## Test plan\n[Bulleted markdown checklist of TODOs for testing the pull request...]\nEOF\n)\"\n</example>\n\nImportant:\n- DO NOT use the TodoWrite or Task tools\n- Return the PR URL when you're done, so the user can see it\n\n# Other common operations\n- View comments on a Github PR: gh api repos/foo/bar/pulls/123/comments","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"command":{"description":"The command to execute","type":"string"},"timeout":{"description":"Optional timeout in milliseconds (max 600000)","type":"number"},"description":{"description":"Clear, concise description of what this command does in active voice. Never use words like \"complex\" or \"risk\" in the description - just describe what it does.\n\nFor simple commands (git, npm, standard CLI tools), keep it brief (5-10 words):\n- ls  \"List files in current directory\"\n- git status  \"Show working tree status\"\n- npm install  \"Install package dependencies\"\n\nFor commands that are harder to parse at a glance (piped commands, obscure flags, etc.), add enough context to clarify what it does:\n- find . -name \"*.tmp\" -exec rm {} \\;  \"Find and delete all .tmp files recursively\"\n- git reset --hard origin/main  \"Discard all local changes and match remote main\"\n- curl -s url | jq '.data[]'  \"Fetch JSON from URL and extract data array elements\"","type":"string"},"run_in_background":{"description":"Set to true to run this command in the background. Use TaskOutput to read the output later.","type":"boolean"},"dangerouslyDisableSandbox":{"description":"Set this to true to dangerously override sandbox mode and run commands without sandboxing.","type":"boolean"},"_simulatedSedEdit":{"description":"Internal: pre-computed sed edit result from preview","type":"object","properties":{"filePath":{"type":"string"},"newContent":{"type":"string"}},"required":["filePath","newContent"],"additionalProperties":false}},"required":["command"],"additionalProperties":false}},{"name":"Glob","description":"- Fast file pattern matching tool that works with any codebase size\n- Supports glob patterns like \"**/*.js\" or \"src/**/*.ts\"\n- Returns matching file paths sorted by modification time\n- Use this tool when you need to find files by name patterns\n- When you are doing an open ended search that may require multiple rounds of globbing and grepping, use the Agent tool instead\n- You can call multiple tools in a single response. It is always better to speculatively perform multiple searches in parallel if they are potentially useful.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The glob pattern to match files against","type":"string"},"path":{"description":"The directory to search in. If not specified, the current working directory will be used. IMPORTANT: Omit this field to use the default directory. DO NOT enter \"undefined\" or \"null\" - simply omit it for the default behavior. Must be a valid directory path if provided.","type":"string"}},"required":["pattern"],"additionalProperties":false}},{"name":"Grep","description":"A powerful search tool built on ripgrep\n\n  Usage:\n  - ALWAYS use Grep for search tasks. NEVER invoke `grep` or `rg` as a Bash command. The Grep tool has been optimized for correct permissions and access.\n  - Supports full regex syntax (e.g., \"log.*Error\", \"function\\s+\\w+\")\n  - Filter files with glob parameter (e.g., \"*.js\", \"**/*.tsx\") or type parameter (e.g., \"js\", \"py\", \"rust\")\n  - Output modes: \"content\" shows matching lines, \"files_with_matches\" shows only file paths (default), \"count\" shows match counts\n  - Use Task tool for open-ended searches requiring multiple rounds\n  - Pattern syntax: Uses ripgrep (not grep) - literal braces need escaping (use `interface\\{\\}` to find `interface{}` in Go code)\n  - Multiline matching: By default patterns match within single lines only. For cross-line patterns like `struct \\{[\\s\\S]*?field`, use `multiline: true`\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The regular expression pattern to search for in file contents","type":"string"},"path":{"description":"File or directory to search in (rg PATH). Defaults to current working directory.","type":"string"},"glob":{"description":"Glob pattern to filter files (e.g. \"*.js\", \"*.{ts,tsx}\") - maps to rg --glob","type":"string"},"output_mode":{"description":"Output mode: \"content\" shows matching lines (supports -A/-B/-C context, -n line numbers, head_limit), \"files_with_matches\" shows file paths (supports head_limit), \"count\" shows match counts (supports head_limit). Defaults to \"files_with_matches\".","type":"string","enum":["content","files_with_matches","count"]},"-B":{"description":"Number of lines to show before each match (rg -B). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-A":{"description":"Number of lines to show after each match (rg -A). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-C":{"description":"Alias for context.","type":"number"},"context":{"description":"Number of lines to show before and after each match (rg -C). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-n":{"description":"Show line numbers in output (rg -n). Requires output_mode: \"content\", ignored otherwise. Defaults to true.","type":"boolean"},"-i":{"description":"Case insensitive search (rg -i)","type":"boolean"},"type":{"description":"File type to search (rg --type). Common types: js, py, rust, go, java, etc. More efficient than include for standard file types.","type":"string"},"head_limit":{"description":"Limit output to first N lines/entries, equivalent to \"| head -N\". Works across all output modes: content (limits output lines), files_with_matches (limits file paths), count (limits count entries). Defaults to 0 (unlimited).","type":"number"},"offset":{"description":"Skip first N lines/entries before applying head_limit, equivalent to \"| tail -n +N | head -N\". Works across all output modes. Defaults to 0.","type":"number"},"multiline":{"description":"Enable multiline mode where . matches newlines and patterns can span lines (rg -U --multiline-dotall). Default: false.","type":"boolean"}},"required":["pattern"],"additionalProperties":false}},{"name":"ExitPlanMode","description":"Use this tool when you are in plan mode and have finished writing your plan to the plan file and are ready for user approval.\n\n## How This Tool Works\n- You should have already written your plan to the plan file specified in the plan mode system message\n- This tool does NOT take the plan content as a parameter - it will read the plan from the file you wrote\n- This tool simply signals that you're done planning and ready for the user to review and approve\n- The user will see the contents of your plan file when they review it\n\n## When to Use This Tool\nIMPORTANT: Only use this tool when the task requires planning the implementation steps of a task that requires writing code. For research tasks where you're gathering information, searching files, reading files or in general trying to understand the codebase - do NOT use this tool.\n\n## Before Using This Tool\nEnsure your plan is complete and unambiguous:\n- If you have unresolved questions about requirements or approach, use AskUserQuestion first (in earlier phases)\n- Once your plan is finalized, use THIS tool to request approval\n\n**Important:** Do NOT use AskUserQuestion to ask \"Is this plan okay?\" or \"Should I proceed?\" - that's exactly what THIS tool does. ExitPlanMode inherently requests user approval of your plan.\n\n## Examples\n\n1. Initial task: \"Search for and understand the implementation of vim mode in the codebase\" - Do not use the exit plan mode tool because you are not planning the implementation steps of a task.\n2. Initial task: \"Help me implement yank mode for vim\" - Use the exit plan mode tool after you have finished planning the implementation steps of the task.\n3. Initial task: \"Add a new feature to handle user authentication\" - If unsure about auth method (OAuth, JWT, etc.), use AskUserQuestion first, then use exit plan mode tool after clarifying the approach.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"allowedPrompts":{"description":"Prompt-based permissions needed to implement the plan. These describe categories of actions rather than specific commands.","type":"array","items":{"type":"object","properties":{"tool":{"description":"The tool this prompt applies to","type":"string","enum":["Bash"]},"prompt":{"description":"Semantic description of the action, e.g. \"run tests\", \"install dependencies\"","type":"string"}},"required":["tool","prompt"],"additionalProperties":false}},"pushToRemote":{"description":"Whether to push the plan to a remote Claude.ai session","type":"boolean"},"remoteSessionId":{"description":"The remote session ID if pushed to remote","type":"string"},"remoteSessionUrl":{"description":"The remote session URL if pushed to remote","type":"string"},"remoteSessionTitle":{"description":"The remote session title if pushed to remote","type":"string"}},"additionalProperties":{}}},{"name":"Read","description":"Reads a file from the local filesystem. You can access any file directly by using this tool.\nAssume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned.\n\nUsage:\n- The file_path parameter must be an absolute path, not a relative path\n- By default, it reads up to 2000 lines starting from the beginning of the file\n- You can optionally specify a line offset and limit (especially handy for long files), but it's recommended to read the whole file by not providing these parameters\n- Any lines longer than 2000 characters will be truncated\n- Results are returned using cat -n format, with line numbers starting at 1\n- This tool allows Claude Code to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as Claude Code is a multimodal LLM.\n- This tool can read PDF files (.pdf). PDFs are processed page by page, extracting both text and visual content for analysis.\n- This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.\n- This tool can only read files, not directories. To read a directory, use an ls command via the Bash tool.\n- You can call multiple tools in a single response. It is always better to speculatively read multiple potentially useful files in parallel.\n- You will regularly be asked to read screenshots. If the user provides a path to a screenshot, ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths.\n- If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to read","type":"string"},"offset":{"description":"The line number to start reading from. Only provide if the file is too large to read at once","type":"number"},"limit":{"description":"The number of lines to read. Only provide if the file is too large to read at once.","type":"number"}},"required":["file_path"],"additionalProperties":false}},{"name":"Edit","description":"Performs exact string replacements in files.\n\nUsage:\n- You must use your `Read` tool at least once in the conversation before editing. This tool will error if you attempt an edit without reading the file. \n- When editing text from Read tool output, ensure you preserve the exact indentation (tabs/spaces) as it appears AFTER the line number prefix. The line number prefix format is: spaces + line number + tab. Everything after that tab is the actual file content to match. Never include any part of the line number prefix in the old_string or new_string.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- Only use emojis if the user explicitly requests it. Avoid adding emojis to files unless asked.\n- The edit will FAIL if `old_string` is not unique in the file. Either provide a larger string with more surrounding context to make it unique or use `replace_all` to change every instance of `old_string`.\n- Use `replace_all` for replacing and renaming strings across the file. This parameter is useful if you want to rename a variable for instance.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to modify","type":"string"},"old_string":{"description":"The text to replace","type":"string"},"new_string":{"description":"The text to replace it with (must be different from old_string)","type":"string"},"replace_all":{"description":"Replace all occurences of old_string (default false)","default":false,"type":"boolean"}},"required":["file_path","old_string","new_string"],"additionalProperties":false}},{"name":"Write","description":"Writes a file to the local filesystem.\n\nUsage:\n- This tool will overwrite the existing file if there is one at the provided path.\n- If this is an existing file, you MUST use the Read tool first to read the file's contents. This tool will fail if you did not read the file first.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.\n- Only use emojis if the user explicitly requests it. Avoid writing emojis to files unless asked.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to write (must be absolute, not relative)","type":"string"},"content":{"description":"The content to write to the file","type":"string"}},"required":["file_path","content"],"additionalProperties":false}},{"name":"NotebookEdit","description":"Completely replaces the contents of a specific cell in a Jupyter notebook (.ipynb file) with new source. Jupyter notebooks are interactive documents that combine code, text, and visualizations, commonly used for data analysis and scientific computing. The notebook_path parameter must be an absolute path, not a relative path. The cell_number is 0-indexed. Use edit_mode=insert to add a new cell at the index specified by cell_number. Use edit_mode=delete to delete the cell at the index specified by cell_number.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"notebook_path":{"description":"The absolute path to the Jupyter notebook file to edit (must be absolute, not relative)","type":"string"},"cell_id":{"description":"The ID of the cell to edit. When inserting a new cell, the new cell will be inserted after the cell with this ID, or at the beginning if not specified.","type":"string"},"new_source":{"description":"The new source for the cell","type":"string"},"cell_type":{"description":"The type of the cell (code or markdown). If not specified, it defaults to the current cell type. If using edit_mode=insert, this is required.","type":"string","enum":["code","markdown"]},"edit_mode":{"description":"The type of edit to make (replace, insert, delete). Defaults to replace.","type":"string","enum":["replace","insert","delete"]}},"required":["notebook_path","new_source"],"additionalProperties":false}},{"name":"WebFetch","description":"\n- Fetches content from a specified URL and processes it using an AI model\n- Takes a URL and a prompt as input\n- Fetches the URL content, converts HTML to markdown\n- Processes the content with the prompt using a small, fast model\n- Returns the model's response about the content\n- Use this tool when you need to retrieve and analyze web content\n\nUsage notes:\n  - IMPORTANT: If an MCP-provided web fetch tool is available, prefer using that tool instead of this one, as it may have fewer restrictions.\n  - The URL must be a fully-formed valid URL\n  - HTTP URLs will be automatically upgraded to HTTPS\n  - The prompt should describe what information you want to extract from the page\n  - This tool is read-only and does not modify any files\n  - Results may be summarized if the content is very large\n  - Includes a self-cleaning 15-minute cache for faster responses when repeatedly accessing the same URL\n  - When a URL redirects to a different host, the tool will inform you and provide the redirect URL in a special format. You should then make a new WebFetch request with the redirect URL to fetch the content.\n  - For GitHub URLs, prefer using the gh CLI via Bash instead (e.g., gh pr view, gh issue view, gh api).\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"url":{"description":"The URL to fetch content from","type":"string","format":"uri"},"prompt":{"description":"The prompt to run on the fetched content","type":"string"}},"required":["url","prompt"],"additionalProperties":false}},{"name":"WebSearch","description":"\n- Allows Claude to search the web and use the results to inform responses\n- Provides up-to-date information for current events and recent data\n- Returns search result information formatted as search result blocks, including links as markdown hyperlinks\n- Use this tool for accessing information beyond Claude's knowledge cutoff\n- Searches are performed automatically within a single API call\n\nCRITICAL REQUIREMENT - You MUST follow this:\n  - After answering the user's question, you MUST include a \"Sources:\" section at the end of your response\n  - In the Sources section, list all relevant URLs from the search results as markdown hyperlinks: [Title](URL)\n  - This is MANDATORY - never skip including sources in your response\n  - Example format:\n\n    [Your answer here]\n\n    Sources:\n    - [Source Title 1](https://example.com/1)\n    - [Source Title 2](https://example.com/2)\n\nUsage notes:\n  - Domain filtering is supported to include or block specific websites\n  - Web search is only available in the US\n\nIMPORTANT - Use the correct year in search queries:\n  - Today's date is 2026-01-31. You MUST use this year when searching for recent information, documentation, or current events.\n  - Example: If the user asks for \"latest React docs\", search for \"React documentation 2026\", NOT \"React documentation 2025\"\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"query":{"description":"The search query to use","type":"string","minLength":2},"allowed_domains":{"description":"Only include search results from these domains","type":"array","items":{"type":"string"}},"blocked_domains":{"description":"Never include search results from these domains","type":"array","items":{"type":"string"}}},"required":["query"],"additionalProperties":false}},{"name":"TaskStop","description":"\n- Stops a running background task by its ID\n- Takes a task_id parameter identifying the task to stop\n- Returns a success or failure status\n- Use this tool when you need to terminate a long-running task\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The ID of the background task to stop","type":"string"},"shell_id":{"description":"Deprecated: use task_id instead","type":"string"}},"additionalProperties":false}},{"name":"AskUserQuestion","description":"Use this tool when you need to ask the user questions during execution. This allows you to:\n1. Gather user preferences or requirements\n2. Clarify ambiguous instructions\n3. Get decisions on implementation choices as you work\n4. Offer choices to the user about what direction to take.\n\nUsage notes:\n- Users will always be able to select \"Other\" to provide custom text input\n- Use multiSelect: true to allow multiple answers to be selected for a question\n- If you recommend a specific option, make that the first option in the list and add \"(Recommended)\" at the end of the label\n\nPlan mode note: In plan mode, use this tool to clarify requirements or choose between approaches BEFORE finalizing your plan. Do NOT use this tool to ask \"Is my plan ready?\" or \"Should I proceed?\" - use ExitPlanMode for plan approval.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"questions":{"description":"Questions to ask the user (1-4 questions)","minItems":1,"maxItems":4,"type":"array","items":{"type":"object","properties":{"question":{"description":"The complete question to ask the user. Should be clear, specific, and end with a question mark. Example: \"Which library should we use for date formatting?\" If multiSelect is true, phrase it accordingly, e.g. \"Which features do you want to enable?\"","type":"string"},"header":{"description":"Very short label displayed as a chip/tag (max 12 chars). Examples: \"Auth method\", \"Library\", \"Approach\".","type":"string"},"options":{"description":"The available choices for this question. Must have 2-4 options. Each option should be a distinct, mutually exclusive choice (unless multiSelect is enabled). There should be no 'Other' option, that will be provided automatically.","minItems":2,"maxItems":4,"type":"array","items":{"type":"object","properties":{"label":{"description":"The display text for this option that the user will see and select. Should be concise (1-5 words) and clearly describe the choice.","type":"string"},"description":{"description":"Explanation of what this option means or what will happen if chosen. Useful for providing context about trade-offs or implications.","type":"string"}},"required":["label","description"],"additionalProperties":false}},"multiSelect":{"description":"Set to true to allow the user to select multiple options instead of just one. Use when choices are not mutually exclusive.","default":false,"type":"boolean"}},"required":["question","header","options","multiSelect"],"additionalProperties":false}},"answers":{"description":"User answers collected by the permission component","type":"object","propertyNames":{"type":"string"},"additionalProperties":{"type":"string"}},"metadata":{"description":"Optional metadata for tracking and analytics purposes. Not displayed to user.","type":"object","properties":{"source":{"description":"Optional identifier for the source of this question (e.g., \"remember\" for /remember command). Used for analytics tracking.","type":"string"}},"additionalProperties":false}},"required":["questions"],"additionalProperties":false}},{"name":"Skill","description":"Execute a skill within the main conversation\n\nWhen users ask you to perform tasks, check if any of the available skills match. Skills provide specialized capabilities and domain knowledge.\n\nWhen users reference a \"slash command\" or \"/<something>\" (e.g., \"/commit\", \"/review-pr\"), they are referring to a skill. Use this tool to invoke it.\n\nHow to invoke:\n- Use this tool with the skill name and optional arguments\n- Examples:\n  - `skill: \"pdf\"` - invoke the pdf skill\n  - `skill: \"commit\", args: \"-m 'Fix bug'\"` - invoke with arguments\n  - `skill: \"review-pr\", args: \"123\"` - invoke with arguments\n  - `skill: \"ms-office-suite:pdf\"` - invoke using fully qualified name\n\nImportant:\n- Available skills are listed in system-reminder messages in the conversation\n- When a skill matches the user's request, this is a BLOCKING REQUIREMENT: invoke the relevant Skill tool BEFORE generating any other response about the task\n- NEVER mention a skill without actually calling this tool\n- Do not invoke a skill that is already running\n- Do not use this tool for built-in CLI commands (like /help, /clear, etc.)\n- If you see a <command-name> tag in the current conversation turn, the skill has ALREADY been loaded - follow the instructions directly instead of calling this tool again\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"skill":{"description":"The skill name. E.g., \"commit\", \"review-pr\", or \"pdf\"","type":"string"},"args":{"description":"Optional arguments for the skill","type":"string"}},"required":["skill"],"additionalProperties":false}},{"name":"EnterPlanMode","description":"Use this tool proactively when you're about to start a non-trivial implementation task. Getting user sign-off on your approach before writing code prevents wasted effort and ensures alignment. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.\n\n## When to Use This Tool\n\n**Prefer using EnterPlanMode** for implementation tasks unless they're simple. Use it when ANY of these conditions apply:\n\n1. **New Feature Implementation**: Adding meaningful new functionality\n   - Example: \"Add a logout button\" - where should it go? What should happen on click?\n   - Example: \"Add form validation\" - what rules? What error messages?\n\n2. **Multiple Valid Approaches**: The task can be solved in several different ways\n   - Example: \"Add caching to the API\" - could use Redis, in-memory, file-based, etc.\n   - Example: \"Improve performance\" - many optimization strategies possible\n\n3. **Code Modifications**: Changes that affect existing behavior or structure\n   - Example: \"Update the login flow\" - what exactly should change?\n   - Example: \"Refactor this component\" - what's the target architecture?\n\n4. **Architectural Decisions**: The task requires choosing between patterns or technologies\n   - Example: \"Add real-time updates\" - WebSockets vs SSE vs polling\n   - Example: \"Implement state management\" - Redux vs Context vs custom solution\n\n5. **Multi-File Changes**: The task will likely touch more than 2-3 files\n   - Example: \"Refactor the authentication system\"\n   - Example: \"Add a new API endpoint with tests\"\n\n6. **Unclear Requirements**: You need to explore before understanding the full scope\n   - Example: \"Make the app faster\" - need to profile and identify bottlenecks\n   - Example: \"Fix the bug in checkout\" - need to investigate root cause\n\n7. **User Preferences Matter**: The implementation could reasonably go multiple ways\n   - If you would use AskUserQuestion to clarify the approach, use EnterPlanMode instead\n   - Plan mode lets you explore first, then present options with context\n\n## When NOT to Use This Tool\n\nOnly skip EnterPlanMode for simple tasks:\n- Single-line or few-line fixes (typos, obvious bugs, small tweaks)\n- Adding a single function with clear requirements\n- Tasks where the user has given very specific, detailed instructions\n- Pure research/exploration tasks (use the Task tool with explore agent instead)\n\n## What Happens in Plan Mode\n\nIn plan mode, you'll:\n1. Thoroughly explore the codebase using Glob, Grep, and Read tools\n2. Understand existing patterns and architecture\n3. Design an implementation approach\n4. Present your plan to the user for approval\n5. Use AskUserQuestion if you need to clarify approaches\n6. Exit plan mode with ExitPlanMode when ready to implement\n\n## Examples\n\n### GOOD - Use EnterPlanMode:\nUser: \"Add user authentication to the app\"\n- Requires architectural decisions (session vs JWT, where to store tokens, middleware structure)\n\nUser: \"Optimize the database queries\"\n- Multiple approaches possible, need to profile first, significant impact\n\nUser: \"Implement dark mode\"\n- Architectural decision on theme system, affects many components\n\nUser: \"Add a delete button to the user profile\"\n- Seems simple but involves: where to place it, confirmation dialog, API call, error handling, state updates\n\nUser: \"Update the error handling in the API\"\n- Affects multiple files, user should approve the approach\n\n### BAD - Don't use EnterPlanMode:\nUser: \"Fix the typo in the README\"\n- Straightforward, no planning needed\n\nUser: \"Add a console.log to debug this function\"\n- Simple, obvious implementation\n\nUser: \"What files handle routing?\"\n- Research task, not implementation planning\n\n## Important Notes\n\n- This tool REQUIRES user approval - they must consent to entering plan mode\n- If unsure whether to use it, err on the side of planning - it's better to get alignment upfront than to redo work\n- Users appreciate being consulted before significant changes are made to their codebase\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}},{"name":"TaskCreate","description":"Use this tool to create a structured task list for your current coding session. This helps you track progress, organize complex tasks, and demonstrate thoroughness to the user.\nIt also helps the user understand the progress of the task and overall progress of their requests.\n\n## When to Use This Tool\n\nUse this tool proactively in these scenarios:\n\n- Complex multi-step tasks - When a task requires 3 or more distinct steps or actions\n- Non-trivial and complex tasks - Tasks that require careful planning or multiple operations\n- Plan mode - When using plan mode, create a task list to track the work\n- User explicitly requests todo list - When the user directly asks you to use the todo list\n- User provides multiple tasks - When users provide a list of things to be done (numbered or comma-separated)\n- After receiving new instructions - Immediately capture user requirements as tasks\n- When you start working on a task - Mark it as in_progress BEFORE beginning work\n- After completing a task - Mark it as completed and add any new follow-up tasks discovered during implementation\n\n## When NOT to Use This Tool\n\nSkip using this tool when:\n- There is only a single, straightforward task\n- The task is trivial and tracking it provides no organizational benefit\n- The task can be completed in less than 3 trivial steps\n- The task is purely conversational or informational\n\nNOTE that you should not use this tool if there is only one trivial task to do. In this case you are better off just doing the task directly.\n\n## Task Fields\n\n- **subject**: A brief, actionable title in imperative form (e.g., \"Fix authentication bug in login flow\")\n- **description**: Detailed description of what needs to be done, including context and acceptance criteria\n- **activeForm**: Present continuous form shown in spinner when task is in_progress (e.g., \"Fixing authentication bug\"). This is displayed to the user while you work on the task.\n\n**IMPORTANT**: Always provide activeForm when creating tasks. The subject should be imperative (\"Run tests\") while activeForm should be present continuous (\"Running tests\"). All tasks are created with status `pending`.\n\n## Tips\n\n- Create tasks with clear, specific subjects that describe the outcome\n- Include enough detail in the description for another agent to understand and complete the task\n- After creating tasks, use TaskUpdate to set up dependencies (blocks/blockedBy) if needed\n- Check TaskList first to avoid creating duplicate tasks\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"subject":{"description":"A brief title for the task","type":"string"},"description":{"description":"A detailed description of what needs to be done","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"metadata":{"description":"Arbitrary metadata to attach to the task","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["subject","description"],"additionalProperties":false}},{"name":"TaskGet","description":"Use this tool to retrieve a task by its ID from the task list.\n\n## When to Use This Tool\n\n- When you need the full description and context before starting work on a task\n- To understand task dependencies (what it blocks, what blocks it)\n- After being assigned a task, to get complete requirements\n\n## Output\n\nReturns full task details:\n- **subject**: Task title\n- **description**: Detailed requirements and context\n- **status**: 'pending', 'in_progress', or 'completed'\n- **blocks**: Tasks waiting on this one to complete\n- **blockedBy**: Tasks that must complete before this one can start\n\n## Tips\n\n- After fetching a task, verify its blockedBy list is empty before beginning work.\n- Use TaskList to see all tasks in summary form.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to retrieve","type":"string"}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskUpdate","description":"Use this tool to update a task in the task list.\n\n## When to Use This Tool\n\n**Mark tasks as resolved:**\n- When you have completed the work described in a task\n- When a task is no longer needed or has been superseded\n- IMPORTANT: Always mark your assigned tasks as resolved when you finish them\n- After resolving, call TaskList to find your next task\n\n- ONLY mark a task as completed when you have FULLY accomplished it\n- If you encounter errors, blockers, or cannot finish, keep the task as in_progress\n- When blocked, create a new task describing what needs to be resolved\n- Never mark a task as completed if:\n  - Tests are failing\n  - Implementation is partial\n  - You encountered unresolved errors\n  - You couldn't find necessary files or dependencies\n\n**Delete tasks:**\n- When a task is no longer relevant or was created in error\n- Setting status to `deleted` permanently removes the task\n\n**Update task details:**\n- When requirements change or become clearer\n- When establishing dependencies between tasks\n\n## Fields You Can Update\n\n- **status**: The task status (see Status Workflow below)\n- **subject**: Change the task title (imperative form, e.g., \"Run tests\")\n- **description**: Change the task description\n- **activeForm**: Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")\n- **owner**: Change the task owner (agent name)\n- **metadata**: Merge metadata keys into the task (set a key to null to delete it)\n- **addBlocks**: Mark tasks that cannot start until this one completes\n- **addBlockedBy**: Mark tasks that must complete before this one can start\n\n## Status Workflow\n\nStatus progresses: `pending`  `in_progress`  `completed`\n\nUse `deleted` to permanently remove a task.\n\n## Staleness\n\nMake sure to read a task's latest state using `TaskGet` before updating it.\n\n## Examples\n\nMark task as in progress when starting work:\n```json\n{\"taskId\": \"1\", \"status\": \"in_progress\"}\n```\n\nMark task as completed after finishing work:\n```json\n{\"taskId\": \"1\", \"status\": \"completed\"}\n```\n\nDelete a task:\n```json\n{\"taskId\": \"1\", \"status\": \"deleted\"}\n```\n\nClaim a task by setting owner:\n```json\n{\"taskId\": \"1\", \"owner\": \"my-name\"}\n```\n\nSet up task dependencies:\n```json\n{\"taskId\": \"2\", \"addBlockedBy\": [\"1\"]}\n```\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to update","type":"string"},"subject":{"description":"New subject for the task","type":"string"},"description":{"description":"New description for the task","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"status":{"description":"New status for the task","anyOf":[{"type":"string","enum":["pending","in_progress","completed"]},{"type":"string","const":"deleted"}]},"addBlocks":{"description":"Task IDs that this task blocks","type":"array","items":{"type":"string"}},"addBlockedBy":{"description":"Task IDs that block this task","type":"array","items":{"type":"string"}},"owner":{"description":"New owner for the task","type":"string"},"metadata":{"description":"Metadata keys to merge into the task. Set a key to null to delete it.","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskList","description":"Use this tool to list all tasks in the task list.\n\n## When to Use This Tool\n\n- To see what tasks are available to work on (status: 'pending', no owner, not blocked)\n- To check overall progress on the project\n- To find tasks that are blocked and need dependencies resolved\n- After completing a task, to check for newly unblocked work or claim the next available task\n- **Prefer working on tasks in ID order** (lowest ID first) when multiple tasks are available, as earlier tasks often set up context for later ones\n\n## Output\n\nReturns a summary of each task:\n- **id**: Task identifier (use with TaskGet, TaskUpdate)\n- **subject**: Brief description of the task\n- **status**: 'pending', 'in_progress', or 'completed'\n- **owner**: Agent ID if assigned, empty if available\n- **blockedBy**: List of open task IDs that must be resolved first (tasks with blockedBy cannot be claimed until dependencies resolve)\n\nUse TaskGet with a specific task ID to view full details including description and comments.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"}}

[2026-01-31T16:56:10.171Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "153204"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":[{"type":"text","text":"<system-reminder>\nSessionStart:startup hook success: Session startup. Project: single-repo | Plan naming: {date}-{issue}-{slug}\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nThe following skills are available for use with the Skill tool:\n\n- keybindings-help: Use when the user wants to customize keyboard shortcuts, rebind keys, add chord bindings, or modify ~/.claude/keybindings.json. Examples: \"rebind ctrl+s\", \"add a chord shortcut\", \"change the submit key\", \"customize keybindings\".\n- aesthetic: Create aesthetically beautiful interfaces following proven design principles. Use when building UI/UX, analyzing designs from inspiration sites, generating design images with ai-multimodal, implementing visual hierarchy and color theory, adding micro-interactions, or creating design documentation. Includes workflows for capturing and analyzing inspiration screenshots with chrome-devtools and ai-multimodal, iterative design image generation until aesthetic standards are met, and comprehensive design system guidance covering BEAUTIFUL (aesthetic principles), RIGHT (functionality/accessibility), SATISFYING (micro-interactions), and PEAK (storytelling) stages. Integrates with chrome-devtools, ai-multimodal, media-processing, ui-styling, and web-frameworks skills.\n- ai-artist: Craft prompts for AI models (text, image, video). Use for Midjourney, DALL-E, Stable Diffusion, Flux, Veo, prompt engineering, style keywords, negative prompts, iterative refinement.\n- ai-multimodal: Analyze images/audio/video with Gemini API (better vision than Claude). Generate images (Imagen 4), videos (Veo 3). Use for vision analysis, transcription, OCR, design extraction, multimodal AI.\n- backend-development: Build backends with Node.js, Python, Go (NestJS, FastAPI, Django). Use for REST/GraphQL/gRPC APIs, auth (OAuth, JWT), databases, microservices, security (OWASP), Docker/K8s.\n- better-auth: Add authentication with Better Auth (TypeScript). Use for email/password, OAuth providers (Google, GitHub), 2FA/MFA, passkeys/WebAuthn, sessions, RBAC, rate limiting.\n- brainstorming: Brainstorm solutions with trade-off analysis and brutal honesty. Use for ideation, architecture decisions, technical debates, feature exploration, feasibility assessment, design discussions.\n- chrome-devtools: Automate browsers with Puppeteer CLI scripts and persistent sessions. Use for screenshots, performance analysis, network monitoring, web scraping, form automation, JavaScript debugging.\n- code-review: Review code quality, receive feedback with technical rigor, verify completion claims. Use before PRs, after implementing features, when claiming task completion, for subagent reviews.\n- context-engineering: Check context usage limits, monitor time remaining, optimize token consumption, debug context failures. Use when asking about context percentage, rate limits, usage warnings, context optimization, agent architectures, memory systems.\n- copywriting: Conversion copywriting formulas, headline templates, email copy patterns, landing page structures, CTA optimization, and writing style extraction. Activate for writing high-converting copy, crafting headlines, email campaigns, landing pages, or applying custom writing styles from assets/writing-styles/ directory.\n- databases: Design schemas, write queries for MongoDB and PostgreSQL. Use for database design, SQL/NoSQL queries, aggregation pipelines, indexes, migrations, replication, performance optimization, psql CLI.\n- debugging: Debug systematically with root cause analysis before fixes. Use for bugs, test failures, unexpected behavior, performance issues, call stack tracing, multi-layer validation.\n- devops: Deploy to Cloudflare (Workers, R2, D1, KV, Pages), Docker containers, GCP (Cloud Run, GKE). Use for serverless, edge computing, CI/CD pipelines, container orchestration.\n- docs-seeker: Search library/framework documentation via llms.txt (context7.com). Use for API docs, GitHub repository analysis, technical documentation lookup, latest library features.\n- fixing: Fix bugs, errors, test failures, CI/CD issues with intelligent routing. Use when reporting bugs, type errors, log errors, UI issues, code problems. Auto-classifies complexity and activates relevant skills.\n- frontend-design: Create polished frontend interfaces from designs/screenshots with high design quality. Use for web components, pages, replicating UI designs, extracting design guidelines, avoiding AI slop aesthetics.\n- frontend-design-pro: Creates jaw-dropping, production-ready frontend interfaces AND delivers perfectly matched real photos (Unsplash/Pexels direct links) OR flawless custom image-generation prompts for hero images, backgrounds, and illustrations. Zero AI slop, zero fake URLs.\n- frontend-development: Build React/TypeScript frontends with modern patterns. Use for components, Suspense, lazy loading, useSuspenseQuery, MUI v7 styling, TanStack Router, performance optimization.\n- git: Git operations with conventional commits. Use for staging, committing, pushing, PRs, merges. Auto-splits commits by type/scope. Security scans for secrets.\n- google-adk-python: Build AI agents with Google ADK Python (Agent Development Kit). Use for multi-agent systems, workflow agents (sequential/parallel/loop), Vertex AI deployment, tool integration, human-in-the-loop.\n- markdown-novel-viewer: View markdown files with calm, book-like reading experience via HTTP server. Use for long-form content, documentation preview, novel reading, report viewing, distraction-free reading.\n- mcp-builder: Build MCP servers for LLM-external service integration. Use for FastMCP (Python), MCP SDK (Node/TypeScript), tool design, API integration, resource providers.\n- mcp-management: Manage MCP servers - discover, analyze, execute tools/prompts/resources. Use for MCP integrations, intelligent tool selection, multi-server management, context-efficient capability discovery.\n- media-processing: Process media with FFmpeg (video/audio), ImageMagick (images), RMBG (AI background removal). Use for encoding, format conversion, filters, thumbnails, batch processing, HLS/DASH streaming.\n- mermaidjs-v11: Create diagrams with Mermaid.js v11 syntax. Use for flowcharts, sequence diagrams, class diagrams, ER diagrams, Gantt charts, state diagrams, architecture diagrams, timelines, user journeys.\n- mobile-development: Build mobile apps with React Native, Flutter, Swift/SwiftUI, Kotlin/Jetpack Compose. Use for iOS/Android, mobile UX, performance optimization, offline-first, app store deployment.\n- payment-integration: Integrate payments with SePay (VietQR, Vietnamese bank transfers) and Polar (global SaaS subscriptions, billing). Use for checkout flows, webhooks, QR codes, subscription management.\n- planning: Plan implementations, design architectures, create technical roadmaps with detailed phases. Use for feature planning, system design, solution architecture, implementation strategy, phase documentation.\n- plans-kanban: View plans dashboard with progress tracking and timeline visualization. Use for kanban boards, plan status overview, phase progress, milestone tracking, project visibility.\n- problem-solving: Apply systematic problem-solving techniques when stuck. Use for complexity spirals, innovation blocks, recurring patterns, assumption constraints, simplification cascades, scale uncertainty.\n- react-best-practices: React and Next.js performance optimization guidelines from Vercel Engineering. This skill should be used when writing, reviewing, or refactoring React/Next.js code to ensure optimal performance patterns. Triggers on tasks involving React components, Next.js pages, data fetching, bundle optimization, or performance improvements.\n- repomix: Pack repositories into AI-friendly files with Repomix (XML, Markdown, plain text). Use for codebase snapshots, LLM context preparation, security audits, third-party library analysis.\n- research: Research technical solutions, analyze architectures, gather requirements thoroughly. Use for technology evaluation, best practices research, solution design, scalability/security/maintainability analysis.\n- sequential-thinking: Apply step-by-step analysis for complex problems with revision capability. Use for multi-step reasoning, hypothesis verification, adaptive planning, problem decomposition, course correction.\n- shopify: Build Shopify apps, extensions, themes with Shopify CLI. Use for GraphQL/REST APIs, Polaris UI, Liquid templates, checkout customization, webhooks, billing integration.\n- skill-creator: Create or update Claude skills with specialized knowledge and workflows. Use for new skills, skill references, skill scripts, optimizing existing skills, extending Claude's capabilities.\n- template-skill: Replace with description of the skill and when Claude should use it.\n- threejs: Build 3D web apps with Three.js (WebGL/WebGPU). Use for 3D scenes, animations, custom shaders, PBR materials, VR/XR experiences, games, data visualizations, product configurators.\n- ui-styling: Style UIs with shadcn/ui components (Radix UI + Tailwind CSS). Use for accessible components, themes, dark mode, responsive layouts, design systems, color customization.\n- ui-ux-pro-max: UI/UX design intelligence. 50 styles, 21 palettes, 50 font pairings, 20 charts, 8 stacks (React, Next.js, Vue, Svelte, SwiftUI, React Native, Flutter, Tailwind). Actions: plan, build, create, design, implement, review, fix, improve, optimize, enhance, refactor, check UI/UX code. Projects: website, landing page, dashboard, admin panel, e-commerce, SaaS, portfolio, blog, mobile app, .html, .tsx, .vue, .svelte. Elements: button, modal, navbar, sidebar, card, table, form, chart. Styles: glassmorphism, claymorphism, minimalism, brutalism, neumorphism, bento grid, dark mode, responsive, skeuomorphism, flat design. Topics: color palette, accessibility, animation, layout, typography, font pairing, spacing, hover, shadow, gradient.\n- web-design-guidelines: Review UI code for Web Interface Guidelines compliance. Use when asked to \"review my UI\", \"check accessibility\", \"audit design\", \"review UX\", or \"check my site against best practices\".\n- web-frameworks: Build with Next.js (App Router, RSC, SSR, ISR), Turborepo monorepos. Use for React apps, server rendering, build optimization, caching strategies, shared dependencies.\n- kanban: Plans dashboard with progress tracking and timeline visualization.\n- ck-help: ClaudeKit usage guide - just type naturally\n- brainstorm:  Brainstorm a feature\n- use-mcp: Utilize tools of Model Context Protocol (MCP) servers\n- fix:  Analyze and fix issues [INTELLIGENT ROUTING]\n- bootstrap:  Bootstrap a new project step by step\n- plan:  Intelligent plan creation with prompt enhancement\n- ask:  Answer technical and architectural questions.\n- code:  Start coding & testing an existing plan\n- coding-level: Set your coding experience level for tailored explanations and output format.\n- debug:  Debugging technical issues and providing solutions.\n- preview: Path to markdown file, plan directory, or plans collection\n- watzup:  Review recent changes and wrap up the work\n- journal:  Write some journal entries.\n- scout:  Scout given directories to respond to the user's requests\n- test:  Run tests locally and analyze the summary report.\n- cook:  Implement a feature [step by step]\n- worktree: Create isolated git worktree for parallel development\n- integrate:sepay:  Implement payment integration with SePay.vn\n- integrate:polar:  Implement payment integration with Polar.sh\n- git:pr: Create a pull request\n- git:cm: Stage all files and create a commit.\n- git:cp: Stage, commit and push all code in the current branch\n- git:merge: Merge code from one branch to another\n- cook:auto:fast:  No research. Only scout, plan & implement [\"trust me bro\"]\n- cook:auto:parallel:  Plan parallel phases & execute with fullstack-developer agents\n- bootstrap:auto:fast:  Quickly bootstrap a new project automatically\n- bootstrap:auto:parallel:  Bootstrap project with parallel execution\n- test:ui:  Run UI tests on a website & generate a detailed report.\n- bootstrap:auto:  Bootstrap a new project automatically\n- cook:auto:  Implement a feature automatically (\"trust me bro\")\n- scout:ext:  Use external agentic tools to scout given directories\n- plan:fast:  No research. Only analyze and create an implementation plan\n- plan:ci: Analyze Github Actions logs and provide a plan to fix the issues\n- plan:validate: Validate plan with critical questions interview\n- plan:parallel:  Create detailed plan with parallel-executable phases\n- plan:hard:  Research, analyze, and create an implementation plan\n- plan:archive: Write journal entries and archive specific plans or all plans\n- plan:cro: Create a CRO plan for the given content\n- plan:two:  Research & create an implementation plan with 2 approaches\n- skill:plan: Plan to create a new agent skill\n- skill:add: Add new reference files or scripts to a skill\n- skill:optimize: Optimize an existing agent skill\n- skill:update: Update an existing agent skill [auto]\n- skill:fix-logs: Fix the agent skill based on `logs.txt` file.\n- skill:create: Create a new agent skill\n- review:codebase:  Scan & analyze the codebase.\n- content:fast: Write creative & smart copy [FAST]\n- content:cro: Analyze the current content and optimize for conversion\n- content:enhance: Analyze the current copy issues and enhance it\n- content:good: Write good creative & smart copy [GOOD]\n- skill:optimize:auto: Optimize an existing agent skill [auto]\n- review:codebase:parallel:  Ultrathink edge cases, then parallel verify with code-reviewers\n- fix:fast:  Analyze and fix small issues [FAST]\n- fix:logs:  Analyze logs and fix issues\n- fix:ci:  Analyze Github Actions logs and fix issues\n- fix:parallel:  Analyze & fix issues with parallel fullstack-developer agents\n- fix:test:  Run test suite and fix issues\n- fix:types:  Fix type errors\n- fix:hard:  Use subagents to plan and fix hard issues\n- fix:ui:  Analyze and fix UI issues\n- design:screenshot: Create a design based on screenshot\n- design:fast: Create a quick design\n- design:video: Create a design based on video\n- design:3d: Create immersive interactive 3D designs with Three.js\n- design:describe: Describe a design based on screenshot/video\n- design:good: Create an immersive design\n- code:no-test:  Start coding an existing plan (no testing)\n- code:auto:  [AUTO] Start coding & testing an existing plan (\"trust me bro\")\n- code:parallel:  Execute parallel or sequential phases based on plan structure\n- docs:summarize:  Analyze the codebase and update documentation\n- docs:update:  Analyze the codebase and update documentation\n- docs:init:  Analyze the codebase and create initial documentation\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nUserPromptSubmit hook success: Success\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nUserPromptSubmit hook success: ## Current environment\n- Date time: 1/31/2026, 4:56:10 PM\n- Timezone: UTC\n- Working directory: /home/roxane/projects/tess\n- OS: linux\n- User: undefined\n- Locale: en_US.UTF-8\n- Memory usage: 4MB/15977MB (0%)\n- CPU usage: 3% user / 1% system\n- IMPORTANT: Include these environment information when prompting subagents to perform tasks.\n\n## Rules\n- Read and follow development rules: \"$HOME/.claude/workflows/development-rules.md\"\n- Read and follow documentation management: \"$HOME/.claude/workflows/documentation-management.md\"\n- Markdown files are organized in: Plans  \"plans/\" directory, Docs  \"docs/\" directory\n- Report markdown files in the same directory as the plan file\n- IMPORTANT: DO NOT create markdown files out of \"plans/\" or \"docs/\" directories UNLESS the user explicitly requests it.\n- Activate skills: Run `python $HOME/.claude/scripts/generate_catalogs.py --skills` to generate a skills catalog and analyze it, then activate the relevant skills that are needed for the task during the process.\n- Execute commands: Run `python $HOME/.claude/scripts/generate_catalogs.py --commands` to generate a commands catalog and analyze it, then execute the relevant SlashCommands that are needed for the task during the process.\n- When skills' scripts are failed to execute, always fix them and run again, repeat until success.\n- Follow **YANGI (You Aren't Gonna Need It) - KISS (Keep It Simple, Stupid) - DRY (Don't Repeat Yourself)** principles\n- Sacrifice grammar for the sake of concision when writing reports.\n- In reports, list any unresolved questions at the end, if any.\n- IMPORTANT: Ensure token consumption efficiency while maintaining high quality.\n- IMPORTANT: Include these rules when prompting subagents to perform tasks.\n\n## **[IMPORTANT] Consider Modularization:**\n- Check existing modules before creating new\n- Analyze logical separation boundaries (functions, classes, concerns)\n- Use kebab-case naming with descriptive names, it's fine if the file name is long because this ensures file names are self-documenting for LLM tools (Grep, Glob, Search)\n- Write descriptive code comments\n- After modularization, continue with main task\n- When not to modularize: Markdown files, plain text files, bash scripts, configuration files, environment variables files, etc.\n- IMPORTANT: Include these considerations when prompting subagents to perform tasks.\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nUserPromptSubmit hook success: ## Session\n- DateTime: 1/31/2026, 4:56:10 PM\n- CWD: /home/roxane/projects/tess\n- Timezone: UTC\n- Working directory: /home/roxane/projects/tess\n- OS: linux\n- User: roxane\n- Locale: en_US.UTF-8\n- Memory usage: 5MB/15977MB (0%)\n- CPU usage: 3% user / 1% system\n- Spawning multiple subagents can cause performance issues, spawn and delegate tasks intelligently based on the available system resources.\n- Remember that each subagent only has 200K tokens in context window, spawn and delegate tasks intelligently to make sure their context windows don't get bloated.\n- IMPORTANT: Include these environment information when prompting subagents to perform tasks.\n\n## Rules\n- Read and follow development rules: \"~/.claude/rules/development-rules.md\"\n- Markdown files are organized in: Plans  \"plans/\" directory, Docs  \"docs/\" directory\n- **IMPORTANT:** DO NOT create markdown files out of \"plans/\" or \"docs/\" directories UNLESS the user explicitly requests it.\n- Activate skills: Run `python ~/.claude/scripts/generate_catalogs.py --skills` to generate a skills catalog and analyze it, then activate the relevant skills that are needed for the task during the process.\n- Execute commands: Run `python ~/.claude/scripts/generate_catalogs.py --commands` to generate a commands catalog and analyze it, then execute the relevant SlashCommands that are needed for the task during the process.\n- Python scripts in .claude/skills/: Use `~/.claude/skills/.venv/bin/python3`\n- When skills' scripts are failed to execute, always fix them and run again, repeat until success.\n- Follow **YAGNI (You Aren't Gonna Need It) - KISS (Keep It Simple, Stupid) - DRY (Don't Repeat Yourself)** principles\n- Sacrifice grammar for the sake of concision when writing reports.\n- In reports, list any unresolved questions at the end, if any.\n- IMPORTANT: Ensure token consumption efficiency while maintaining high quality.\n\n## **[IMPORTANT] Consider Modularization:**\n- Check existing modules before creating new\n- Analyze logical separation boundaries (functions, classes, concerns)\n- Use kebab-case naming with descriptive names, it's fine if the file name is long because this ensures file names are self-documenting for LLM tools (Grep, Glob, Search)\n- Write descriptive code comments\n- After modularization, continue with main task\n- When not to modularize: Markdown files, plain text files, bash scripts, configuration files, environment variables files, etc.\n\n## Paths\nReports: /home/roxane/projects/tess/plans/reports/ | Plans: /home/roxane/projects/tess/plans/ | Docs: /home/roxane/projects/tess/docs/ | docs.maxLoc: 800\n\n## Plan Context\n- Plan: none\n- Reports: /home/roxane/projects/tess/plans/reports/\n- Validation: mode=prompt, questions=3-8\n\n## Naming\n- Report: `/home/roxane/projects/tess/plans/reports/{type}-260131-1656-{slug}.md`\n- Plan dir: `/home/roxane/projects/tess/plans/260131-1656-{slug}/`\n- Replace `{type}` with: agent name, report type, or context\n- Replace `{slug}` in pattern with: descriptive-kebab-slug\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nAs you answer the user's questions, you can use the following context:\n# claudeMd\nCodebase and user instructions are shown below. Be sure to adhere to these instructions. IMPORTANT: These instructions OVERRIDE any default behavior and you MUST follow them exactly as written.\n\nContents of /home/roxane/.claude/CLAUDE.md (user's private global instructions for all projects):\n\n# CLAUDE.md\n\nThis file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n## Role & Responsibilities\n\nYour role is to analyze user requirements, delegate tasks to appropriate sub-agents, and ensure cohesive delivery of features that meet specifications and architectural standards.\n\n## Workflows\n\n- Primary workflow: `$HOME/.claude/workflows/primary-workflow.md`\n- Development rules: `$HOME/.claude/workflows/development-rules.md`\n- Orchestration protocols: `$HOME/.claude/workflows/orchestration-protocol.md`\n- Documentation management: `$HOME/.claude/workflows/documentation-management.md`\n- And other workflows: `$HOME/.claude/workflows/*`\n\n**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.\n**IMPORTANT:** You must follow strictly the development rules in `$HOME/.claude/workflows/development-rules.md` file.\n**IMPORTANT:** Before you plan or proceed any implementation, always read the `./README.md` file first to get context.\n**IMPORTANT:** Sacrifice grammar for the sake of concision when writing reports.\n**IMPORTANT:** In reports, list any unresolved questions at the end, if any.\n**IMPORTANT**: For `YYMMDD` dates, use `bash -c 'date +%y%m%d'` instead of model knowledge. Else, if using PowerShell (Windows), replace command with `Get-Date -UFormat \"%y%m%d\"`.\n\n## Documentation Management\n\nWe keep all important docs in `./docs` folder and keep updating them, structure like below:\n\n```\n./docs\n project-overview-pdr.md\n code-standards.md\n codebase-summary.md\n design-guidelines.md\n deployment-guide.md\n system-architecture.md\n project-roadmap.md\n```\n\n**IMPORTANT:** *MUST READ* and *MUST COMPLY* all *INSTRUCTIONS* in project `./CLAUDE.md`, especially *WORKFLOWS* section is *CRITICALLY IMPORTANT*, this rule is *MANDATORY. NON-NEGOTIABLE. NO EXCEPTIONS. MUST REMEMBER AT ALL TIMES!!!*\n\nContents of /home/roxane/.claude/rules/development-rules.md (user's private global instructions for all projects):\n\n# Development Rules\n\n**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.\n**IMPORTANT:** You ALWAYS follow these principles: **YAGNI (You Aren't Gonna Need It) - KISS (Keep It Simple, Stupid) - DRY (Don't Repeat Yourself)**\n\n## General\n- **File Naming**: Use kebab-case for file names with a meaningful name that describes the purpose of the file, doesn't matter if the file name is long, just make sure when LLMs read the file names while using Grep or other tools, they can understand the purpose of the file right away without reading the file content.\n- **File Size Management**: Keep individual code files under 200 lines for optimal context management\n  - Split large files into smaller, focused components/modules\n  - Use composition over inheritance for complex widgets\n  - Extract utility functions into separate modules\n  - Create dedicated service classes for business logic\n- When looking for docs, activate `docs-seeker` skill (`context7` reference) for exploring latest docs.\n- Use `gh` bash command to interact with Github features if needed\n- Use `psql` bash command to query Postgres database for debugging if needed\n- Use `ai-multimodal` skill for describing details of images, videos, documents, etc. if needed\n- Use `ai-multimodal` skill and `imagemagick` skill for generating and editing images, videos, documents, etc. if needed\n- Use `sequential-thinking` and `debugging` skills for sequential thinking, analyzing code, debugging, etc. if needed\n- **[IMPORTANT]** Follow the codebase structure and code standards in `./docs` during implementation.\n- **[IMPORTANT]** Do not just simulate the implementation or mocking them, always implement the real code.\n\n## Code Quality Guidelines\n- Read and follow codebase structure and code standards in `./docs`\n- Don't be too harsh on code linting, but **make sure there are no syntax errors and code are compilable**\n- Prioritize functionality and readability over strict style enforcement and code formatting\n- Use reasonable code quality standards that enhance developer productivity\n- Use try catch error handling & cover security standards\n- Use `code-reviewer` agent to review code after every implementation\n\n## Pre-commit/Push Rules\n- Run linting before commit\n- Run tests before push (DO NOT ignore failed tests just to pass the build or github actions)\n- Keep commits focused on the actual code changes\n- **DO NOT** commit and push any confidential information (such as dotenv files, API keys, database credentials, etc.) to git repository!\n- Create clean, professional commit messages without AI references. Use conventional commit format.\n\n## Code Implementation\n- Write clean, readable, and maintainable code\n- Follow established architectural patterns\n- Implement features according to specifications\n- Handle edge cases and error scenarios\n- **DO NOT** create new enhanced files, update to the existing files directly.\n\nContents of /home/roxane/.claude/rules/documentation-management.md (user's private global instructions for all projects):\n\n# Project Documentation Management\n\n### Roadmap & Changelog Maintenance\n- **Project Roadmap** (`./docs/development-roadmap.md`): Living document tracking project phases, milestones, and progress\n- **Project Changelog** (`./docs/project-changelog.md`): Detailed record of all significant changes, features, and fixes\n- **System Architecture** (`./docs/system-architecture.md`): Detailed record of all significant changes, features, and fixes\n- **Code Standards** (`./docs/code-standards.md`): Detailed record of all significant changes, features, and fixes\n\n### Automatic Updates Required\n- **After Feature Implementation**: Update roadmap progress status and changelog entries\n- **After Major Milestones**: Review and adjust roadmap phases, update success metrics\n- **After Bug Fixes**: Document fixes in changelog with severity and impact\n- **After Security Updates**: Record security improvements and version updates\n- **Weekly Reviews**: Update progress percentages and milestone statuses\n\n### Documentation Triggers\nThe `project-manager` agent MUST update these documents when:\n- A development phase status changes (e.g., from \"In Progress\" to \"Complete\")\n- Major features are implemented or released\n- Significant bugs are resolved or security patches applied\n- Project timeline or scope adjustments are made\n- External dependencies or breaking changes occur\n\n### Update Protocol\n1. **Before Updates**: Always read current roadmap and changelog status\n2. **During Updates**: Maintain version consistency and proper formatting\n3. **After Updates**: Verify links, dates, and cross-references are accurate\n4. **Quality Check**: Ensure updates align with actual implementation progress\n\n### Plans\n\n### Plan Location\nSave plans in `./plans` directory with timestamp and descriptive name.\n\n**Format:** Use naming pattern from `## Naming` section injected by hooks.\n\n**Example:** `plans/251101-1505-authentication-and-profile-implementation/`\n\n#### File Organization\n\n```\nplans/\n 20251101-1505-authentication-and-profile-implementation/\n     research/\n        researcher-XX-report.md\n        ...\n    reports/\n       scout-report.md\n       researcher-report.md\n       ...\n    plan.md                                # Overview access point\n    phase-01-setup-environment.md          # Setup environment\n    phase-02-implement-database.md         # Database models\n    phase-03-implement-api-endpoints.md    # API endpoints\n    phase-04-implement-ui-components.md    # UI components\n    phase-05-implement-authentication.md   # Auth & authorization\n    phase-06-implement-profile.md          # Profile page\n    phase-07-write-tests.md                # Tests\n ...\n```\n\n#### File Structure\n\n##### Overview Plan (plan.md)\n- Keep generic and under 80 lines\n- List each phase with status/progress\n- Link to detailed phase files\n- Key dependencies\n\n##### Phase Files (phase-XX-name.md)\nFully respect the `./docs/development-rules.md` file.\nEach phase file should contain:\n\n**Context Links**\n- Links to related reports, files, documentation\n\n**Overview**\n- Priority\n- Current status\n- Brief description\n\n**Key Insights**\n- Important findings from research\n- Critical considerations\n\n**Requirements**\n- Functional requirements\n- Non-functional requirements\n\n**Architecture**\n- System design\n- Component interactions\n- Data flow\n\n**Related Code Files**\n- List of files to modify\n- List of files to create\n- List of files to delete\n\n**Implementation Steps**\n- Detailed, numbered steps\n- Specific instructions\n\n**Todo List**\n- Checkbox list for tracking\n\n**Success Criteria**\n- Definition of done\n- Validation methods\n\n**Risk Assessment**\n- Potential issues\n- Mitigation strategies\n\n**Security Considerations**\n- Auth/authorization\n- Data protection\n\n**Next Steps**\n- Dependencies\n- Follow-up tasks\n\nContents of /home/roxane/.claude/rules/orchestration-protocol.md (user's private global instructions for all projects):\n\n# Orchestration Protocol\n\n## Delegation Context (MANDATORY)\n\nWhen spawning subagents via Task tool, **ALWAYS** include in prompt:\n\n1. **Work Context Path**: The git root of the PRIMARY files being worked on\n2. **Reports Path**: `{work_context}/plans/reports/` for that project\n3. **Plans Path**: `{work_context}/plans/` for that project\n\n**Example:**\n```\nTask prompt: \"Fix parser bug.\nWork context: /path/to/project-b\nReports: /path/to/project-b/plans/reports/\nPlans: /path/to/project-b/plans/\"\n```\n\n**Rule:** If CWD differs from work context (editing files in different project), use the **work context paths**, not CWD paths.\n\n---\n\n#### Sequential Chaining\nChain subagents when tasks have dependencies or require outputs from previous steps:\n- **Planning  Implementation  Simplification  Testing  Review**: Use for feature development (tests verify simplified code)\n- **Research  Design  Code  Documentation**: Use for new system components\n- Each agent completes fully before the next begins\n- Pass context and outputs between agents in the chain\n\n#### Parallel Execution\nSpawn multiple subagents simultaneously for independent tasks:\n- **Code + Tests + Docs**: When implementing separate, non-conflicting components\n- **Multiple Feature Branches**: Different agents working on isolated features\n- **Cross-platform Development**: iOS and Android specific implementations\n- **Careful Coordination**: Ensure no file conflicts or shared resource contention\n- **Merge Strategy**: Plan integration points before parallel execution begins\n\nContents of /home/roxane/.claude/rules/primary-workflow.md (user's private global instructions for all projects):\n\n# Primary Workflow\n\n**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.\n**IMPORTANT**: Ensure token efficiency while maintaining high quality.\n\n#### 1. Code Implementation\n- Before you start, delegate to `planner` agent to create a implementation plan with TODO tasks in `./plans` directory.\n- When in planning phase, use multiple `researcher` agents in parallel to conduct research on different relevant technical topics and report back to `planner` agent to create implementation plan.\n- Write clean, readable, and maintainable code\n- Follow established architectural patterns\n- Implement features according to specifications\n- Handle edge cases and error scenarios\n- **DO NOT** create new enhanced files, update to the existing files directly.\n- **[IMPORTANT]** After creating or modifying code file, run compile command/script to check for any compile errors.\n\n#### 2. Code Simplification (MANDATORY)\n- **MUST** delegate to `code-simplifier` agent immediately after implementation\n- Agent refines code for clarity while preserving exact functionality\n- Uses Opus model for high-quality refinement\n- This step is **NON-NEGOTIABLE**  simplify while context is fresh\n\n#### 3. Testing\n- Delegate to `tester` agent to run tests on the **simplified code**\n  - Write comprehensive unit tests\n  - Ensure high code coverage\n  - Test error scenarios\n  - Validate performance requirements\n- Tests verify the FINAL code that will be reviewed and merged\n- **DO NOT** ignore failing tests just to pass the build.\n- **IMPORTANT:** make sure you don't use fake data, mocks, cheats, tricks, temporary solutions, just to pass the build or github actions.\n- **IMPORTANT:** Always fix failing tests follow the recommendations and delegate to `tester` agent to run tests again, only finish your session when all tests pass.\n\n#### 4. Code Quality\n- After testing passes, delegate to `code-reviewer` agent to review clean, tested code.\n- Follow coding standards and conventions\n- Write self-documenting code\n- Add meaningful comments for complex logic\n- Optimize for performance and maintainability\n\n#### 5. Integration\n- Always follow the plan given by `planner` agent\n- Ensure seamless integration with existing code\n- Follow API contracts precisely\n- Maintain backward compatibility\n- Document breaking changes\n- Delegate to `docs-manager` agent to update docs in `./docs` directory if any.\n\n#### 6. Debugging\n- When a user report bugs or issues on the server or a CI/CD pipeline, delegate to `debugger` agent to run tests and analyze the summary report.\n- Read the summary report from `debugger` agent and implement the fix.\n- Delegate to `tester` agent to run tests and analyze the summary report.\n- If the `tester` agent reports failed tests, fix them follow the recommendations and repeat from the **Step 3**.\n\n\n      IMPORTANT: this context may or may not be relevant to your tasks. You should not respond to this context unless it is highly relevant to your task.\n</system-reminder>\n"},{"type":"text","text":"hello\n\n## BACKGROUND SERVERS - CRITICAL\n\nWhen starting servers, you MUST use this EXACT pattern (copy-paste, do not modify):\n\n```bash\nnohup <cmd> > /tmp/<name>.log 2>&1 & echo \"BGPID:$!\"\n```\n\n**CRITICAL PARTS (DO NOT OMIT):**\n- `2>&1` - redirect stderr to stdout\n- `&` - run in background (REQUIRED for $! to work)\n- `echo \"BGPID:$!\"` - output the background PID\n\n**Full example for directus:**\n```bash\nlsof -ti :8055 | xargs kill -9 2>/dev/null; sleep 1 && nohup npx directus start > /tmp/directus.log 2>&1 & echo \"BGPID:$!\"\n```\n\nWithout the full pattern ending in `2>&1 & echo \"BGPID:$!\"`, the UI cannot track the process.","cache_control":{"type":"ephemeral"}}]}],"system":[{"type":"text","text":"You are a Claude agent, built on Anthropic's Claude Agent SDK.","cache_control":{"type":"ephemeral"}}],"tools":[{"name":"Task","description":"Launch a new agent to handle complex, multi-step tasks autonomously. \n\nThe Task tool launches specialized agents (subprocesses) that autonomously handle complex tasks. Each agent type has specific capabilities and tools available to it.\n\nAvailable agent types and the tools they have access to:\n- Bash: Command execution specialist for running bash commands. Use this for git operations, command execution, and other terminal tasks. (Tools: Bash)\n- general-purpose: General-purpose agent for researching complex questions, searching for code, and executing multi-step tasks. When you are searching for a keyword or file and are not confident that you will find the right match in the first few tries use this agent to perform the search for you. (Tools: *)\n- statusline-setup: Use this agent to configure the user's Claude Code status line setting. (Tools: Read, Edit)\n- Explore: Fast agent specialized for exploring codebases. Use this when you need to quickly find files by patterns (eg. \"src/components/**/*.tsx\"), search code for keywords (eg. \"API endpoints\"), or answer questions about the codebase (eg. \"how do API endpoints work?\"). When calling this agent, specify the desired thoroughness level: \"quick\" for basic searches, \"medium\" for moderate exploration, or \"very thorough\" for comprehensive analysis across multiple locations and naming conventions. (Tools: All tools except Task, ExitPlanMode, Edit, Write, NotebookEdit)\n- Plan: Software architect agent for designing implementation plans. Use this when you need to plan the implementation strategy for a task. Returns step-by-step plans, identifies critical files, and considers architectural trade-offs. (Tools: All tools except Task, ExitPlanMode, Edit, Write, NotebookEdit)\n- claude-code-guide: Use this agent when the user asks questions (\"Can Claude...\", \"Does Claude...\", \"How do I...\") about: (1) Claude Code (the CLI tool) - features, hooks, slash commands, MCP servers, settings, IDE integrations, keyboard shortcuts; (2) Claude Agent SDK - building custom agents; (3) Claude API (formerly Anthropic API) - API usage, tool use, Anthropic SDK usage. **IMPORTANT:** Before spawning a new agent, check if there is already a running or recently completed claude-code-guide agent that you can resume using the \"resume\" parameter. (Tools: Glob, Grep, Read, WebFetch, WebSearch)\n- fullstack-pro:frontend-developer: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:backend-architect: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:fullstack-developer: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:database-architect: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:typescript-pro: Agent from fullstack-pro plugin (Tools: All tools)\n- copywriter: Use this agent when you need to create high-converting, engagement-driven copy for marketing materials, social media posts, landing pages, email campaigns, product descriptions, or any content that needs to capture attention and drive action. Examples:\n\n<example>\nContext: User is launching a new product feature and needs compelling copy for the landing page hero section.\nuser: \"We just added a new AI-powered code review feature. Can you write a hero headline and subheadline for the landing page?\"\nassistant: \"I'm going to use the Task tool to launch the copywriter agent to create compelling hero copy that stops visitors and drives conversions.\"\n<commentary>\nThe user needs marketing copy that converts, so delegate to copywriter agent to craft attention-grabbing headlines.\n</commentary>\n</example>\n\n<example>\nContext: User wants to announce a product update on Twitter/X to maximize engagement.\nuser: \"We just shipped GitHub auto-invites for ClaudeKit. Need a tweet that'll get people excited.\"\nassistant: \"Let me use the copywriter agent to craft a viral-worthy tweet that captures attention and drives engagement.\"\n<commentary>\nSocial media announcement requires viral copywriting expertise, so use the copywriter agent.\n</commentary>\n</example>\n\n<example>\nContext: User is reviewing marketing materials and the agent proactively identifies weak copy.\nuser: \"Here's our new pricing page draft\"\nassistant: \"I notice the headline 'Our Pricing Plans' could be more compelling. Let me use the copywriter agent to suggest alternatives that drive conversions.\"\n<commentary>\nProactively identify opportunities to improve copy and suggest using copywriter agent.\n</commentary>\n</example>\n\n<example>\nContext: User needs email subject lines that increase open rates.\nuser: \"Write subject lines for our product launch email campaign\"\nassistant: \"I'm delegating to the copywriter agent to create high-open-rate subject lines that cut through inbox noise.\"\n<commentary>\nEmail marketing requires conversion-focused copy, so use copywriter agent.\n</commentary>\n</example> (Tools: All tools)\n- code-reviewer: Use this agent when you need comprehensive code review and quality assessment. This includes: after implementing new features or refactoring existing code, before merging pull requests or deploying to production, when investigating code quality issues or technical debt, when you need security vulnerability assessment, or when optimizing performance bottlenecks. Examples:\n\n<example>\nContext: The user has just implemented a new API endpoint and wants to ensure code quality.\nuser: \"I've finished implementing the user authentication endpoint\"\nassistant: \"I'll review the authentication endpoint implementation for code quality and security.\"\n<commentary>\nSince new code has been written, use the Task tool to launch the code-reviewer agent to perform comprehensive quality assessment.\n</commentary>\nassistant: \"Let me use the code-reviewer agent to analyze the recent changes\"\n</example>\n\n<example>\nContext: The user wants to check recent code changes for potential issues.\nuser: \"Can you review the changes I just made to the database service?\"\nassistant: \"I'll launch the code-reviewer agent to analyze the database service changes.\"\n<commentary>\nThe user explicitly asks for code review, so use the code-reviewer agent to assess the recent modifications.\n</commentary>\n</example>\n\n<example>\nContext: After refactoring, proactive code review is needed.\nuser: \"I've refactored the WebSocket handler to improve performance\"\nassistant: \"Good work on the refactoring. Let me review it for quality and performance.\"\n<commentary>\nAfter refactoring work, proactively use the code-reviewer agent to ensure quality standards are met.\n</commentary>\nassistant: \"I'll use the code-reviewer agent to validate the refactored WebSocket handler\"\n</example> (Tools: All tools)\n- researcher: Use this agent when you need to conduct comprehensive research on software development topics, including investigating new technologies, finding documentation, exploring best practices, or gathering information about plugins, packages, and open source projects. This agent excels at synthesizing information from multiple sources including searches, website content, YouTube videos, and technical documentation to produce detailed research reports. <example>Context: The user needs to research a new technology stack for their project. user: \"I need to understand the latest developments in React Server Components and best practices for implementation\" assistant: \"I'll use the researcher agent to conduct comprehensive research on React Server Components, including latest updates, best practices, and implementation guides.\" <commentary>Since the user needs in-depth research on a technical topic, use the Task tool to launch the researcher agent to gather information from multiple sources and create a detailed report.</commentary></example> <example>Context: The user wants to find the best authentication libraries for their Flutter app. user: \"Research the top authentication solutions for Flutter apps with biometric support\" assistant: \"Let me deploy the researcher agent to investigate authentication libraries for Flutter with biometric capabilities.\" <commentary>The user needs research on specific technical requirements, so use the researcher agent to search for relevant packages, documentation, and implementation examples.</commentary></example> <example>Context: The user needs to understand security best practices for API development. user: \"What are the current best practices for securing REST APIs in 2024?\" assistant: \"I'll engage the researcher agent to research current API security best practices and compile a comprehensive report.\" <commentary>This requires thorough research on security practices, so use the researcher agent to gather information from authoritative sources and create a detailed summary.</commentary></example> (Tools: All tools)\n- git-manager: Stage, commit, and push code changes with conventional commits. Use when user says \"commit\", \"push\", or finishes a feature/fix. (Tools: Glob, Grep, Read, Bash)\n- debugger: Use this agent when you need to investigate issues, analyze system behavior, diagnose performance problems, examine database structures, collect and analyze logs from servers or CI/CD pipelines, run tests for debugging purposes, or optimize system performance. This includes troubleshooting errors, identifying bottlenecks, analyzing failed deployments, investigating test failures, and creating diagnostic reports. Examples:\n\n<example>\nContext: The user needs to investigate why an API endpoint is returning 500 errors.\nuser: \"The /api/users endpoint is throwing 500 errors\"\nassistant: \"I'll use the debugger agent to investigate this issue\"\n<commentary>\nSince this involves investigating an issue, use the Task tool to launch the debugger agent.\n</commentary>\n</example>\n\n<example>\nContext: The user wants to analyze why the CI/CD pipeline is failing.\nuser: \"The GitHub Actions workflow keeps failing on the test step\"\nassistant: \"Let me use the debugger agent to analyze the CI/CD pipeline logs and identify the issue\"\n<commentary>\nThis requires analyzing CI/CD logs and test failures, so use the debugger agent.\n</commentary>\n</example>\n\n<example>\nContext: The user notices performance degradation in the application.\nuser: \"The application response times have increased by 300% since yesterday\"\nassistant: \"I'll launch the debugger agent to analyze system behavior and identify performance bottlenecks\"\n<commentary>\nPerformance analysis and bottleneck identification requires the debugger agent.\n</commentary>\n</example> (Tools: All tools)\n- mcp-manager: Manage MCP (Model Context Protocol) server integrations - discover tools/prompts/resources, analyze relevance for tasks, and execute MCP capabilities. Use when need to work with MCP servers, discover available MCP tools, filter MCP capabilities for specific tasks, execute MCP tools programmatically, or implement MCP client functionality. Keeps main context clean by handling MCP discovery in subagent context. (Tools: All tools)\n- database-admin: Use this agent when you need to work with database systems, including querying for data analysis, diagnosing performance bottlenecks, optimizing database structures, managing indexes, implementing backup and restore strategies, setting up replication, configuring monitoring, managing user permissions, or when you need comprehensive database health assessments and optimization recommendations. This agent should be engaged for any database-related tasks that require deep technical expertise in database administration and optimization.\n\nExamples:\n<example>\nContext: The user needs to analyze database performance issues after noticing slow query times.\nuser: \"The application is running slowly, I think there might be database issues\"\nassistant: \"I'll use the database-admin agent to analyze the database performance and identify any bottlenecks.\"\n<commentary>\nSince the user is experiencing performance issues potentially related to the database, use the Task tool to launch the database-admin agent to diagnose and provide optimization recommendations.\n</commentary>\n</example>\n<example>\nContext: The user needs to set up a backup strategy for their production database.\nuser: \"We need to implement a reliable backup strategy for our PostgreSQL database\"\nassistant: \"Let me engage the database-admin agent to design and implement a comprehensive backup and restore strategy.\"\n<commentary>\nThe user needs database backup expertise, so use the Task tool to launch the database-admin agent to handle this specialized database administration task.\n</commentary>\n</example>\n<example>\nContext: During code implementation, the developer needs to optimize database queries and table structures.\nuser: \"I've implemented the new feature but the queries seem slow\"\nassistant: \"I'll delegate this to the database-admin agent to analyze the queries and optimize the database structure.\"\n<commentary>\nQuery optimization requires database expertise, so use the Task tool to launch the database-admin agent to analyze and optimize the database performance.\n</commentary>\n</example> (Tools: All tools)\n- tester: Use this agent when you need to validate code quality through testing, including running unit and integration tests, analyzing test coverage, validating error handling, checking performance requirements, or verifying build processes. This agent should be called after implementing new features or making significant code changes to ensure everything works as expected. Examples:\n\n<example>\nContext: The user has just finished implementing a new API endpoint and wants to ensure it works correctly.\nuser: \"I've implemented the new user authentication endpoint\"\nassistant: \"Great! Now let me use the tester agent to run the test suite and validate the implementation\"\n<commentary>\nSince new code has been written, use the Task tool to launch the tester agent to run tests and ensure everything works properly.\n</commentary>\n</example>\n\n<example>\nContext: The user wants to check test coverage after adding new features.\nuser: \"Can you check if our test coverage is still above 80%?\"\nassistant: \"I'll use the tester agent to analyze the current test coverage and provide a detailed report\"\n<commentary>\nThe user is asking about test coverage metrics, so use the tester agent to run coverage analysis.\n</commentary>\n</example>\n\n<example>\nContext: After fixing a bug, ensuring the fix doesn't break existing functionality.\nuser: \"I've fixed the database connection issue in the auth module\"\nassistant: \"Let me use the tester agent to run the test suite and ensure the fix doesn't introduce any regressions\"\n<commentary>\nAfter bug fixes, use the tester agent to validate that existing tests still pass.\n</commentary>\n</example> (Tools: All tools)\n- brainstormer: Use this agent when you need to brainstorm software solutions, evaluate architectural approaches, or debate technical decisions before implementation. Examples: - <example>\n    Context: User wants to add a new feature to their application\n    user: \"I want to add real-time notifications to my web app\"\n    assistant: \"Let me use the brainstormer agent to explore the best approaches for implementing real-time notifications\"\n    <commentary>\n    The user needs architectural guidance for a new feature, so use the brainstormer to evaluate options like WebSockets, Server-Sent Events, or push notifications.\n    </commentary>\n  </example>\n- <example>\n    Context: User is considering a major refactoring decision\n    user: \"Should I migrate from REST to GraphQL for my API?\"\n    assistant: \"I'll engage the brainstormer agent to analyze this architectural decision\"\n    <commentary>\n    This requires evaluating trade-offs, considering existing codebase, and debating pros/cons - perfect for the brainstormer.\n    </commentary>\n  </example>\n- <example>\n    Context: User has a complex technical problem to solve\n    user: \"I'm struggling with how to handle file uploads that can be several GB in size\"\n    assistant: \"Let me use the brainstormer agent to explore efficient approaches for large file handling\"\n    <commentary>\n    This requires researching best practices, considering UX/DX implications, and evaluating multiple technical approaches.\n    </commentary>\n  </example> (Tools: All tools)\n- docs-manager: Use this agent when you need to manage technical documentation, establish implementation standards, analyze and update existing documentation based on code changes, write or update Product Development Requirements (PDRs), organize documentation for developer productivity, or produce documentation summary reports. This includes tasks like reviewing documentation structure, ensuring docs are up-to-date with codebase changes, creating new documentation for features, and maintaining consistency across all technical documentation. (Tools: All tools)\n- scout-external: Use this agent when you need to quickly locate relevant files across a large codebase to complete a specific task using external agentic tools (Gemini, OpenCode, etc.). This agent is particularly useful when:\n\n<example>\nContext: User needs to implement a new payment provider integration and needs to find all payment-related files.\nuser: \"I need to add Stripe as a new payment provider. Can you help me find all the relevant files?\"\nassistant: \"I'll use the scout agent to quickly search for payment-related files across the codebase.\"\n<Task tool call to scout with query about payment provider files>\n<commentary>\nThe user needs to locate payment integration files. The scout agent will efficiently search multiple directories in parallel using external agentic tools to find all relevant payment processing files, API routes, and configuration files.\n</commentary>\n</example>\n\n<example>\nContext: User is debugging an authentication issue and needs to find all auth-related components.\nuser: \"There's a bug in the login flow. I need to review all authentication files.\"\nassistant: \"Let me use the scout agent to locate all authentication-related files for you.\"\n<Task tool call to scout with query about authentication files>\n<commentary>\nThe user needs to debug authentication. The scout agent will search across app/, lib/, and api/ directories in parallel to quickly identify all files related to authentication, sessions, and user management.\n</commentary>\n</example>\n\n<example>\nContext: User wants to understand how database migrations work in the project.\nuser: \"How are database migrations structured in this project?\"\nassistant: \"I'll use the scout agent to find all migration-related files and database schema definitions.\"\n<Task tool call to scout with query about database migrations>\n<commentary>\nThe user needs to understand database structure. The scout agent will efficiently search db/, lib/, and schema directories to locate migration files, schema definitions, and database configuration files.\n</commentary>\n</example>\n\nProactively use this agent when:\n- Beginning work on a feature that spans multiple directories\n- User mentions needing to \"find\", \"locate\", or \"search for\" files\n- Starting a debugging session that requires understanding file relationships\n- User asks about project structure or where specific functionality lives\n- Before making changes that might affect multiple parts of the codebase (Tools: Glob, Grep, Read, WebFetch, TodoWrite, WebSearch, Bash, BashOutput, KillShell, ListMcpResourcesTool, ReadMcpResourceTool)\n- planner: Use this agent when you need to research, analyze, and create comprehensive implementation plans for new features, system architectures, or complex technical solutions. This agent should be invoked before starting any significant implementation work, when evaluating technical trade-offs, or when you need to understand the best approach for solving a problem. Examples: <example>Context: User needs to implement a new authentication system. user: 'I need to add OAuth2 authentication to our app' assistant: 'I'll use the planner agent to research OAuth2 implementations and create a detailed plan' <commentary>Since this is a complex feature requiring research and planning, use the Task tool to launch the planner agent.</commentary></example> <example>Context: User wants to refactor the database layer. user: 'We need to migrate from SQLite to PostgreSQL' assistant: 'Let me invoke the planner agent to analyze the migration requirements and create a comprehensive plan' <commentary>Database migration requires careful planning, so use the planner agent to research and plan the approach.</commentary></example> <example>Context: User reports performance issues. user: 'The app is running slowly on older devices' assistant: 'I'll use the planner agent to investigate performance optimization strategies and create an implementation plan' <commentary>Performance optimization needs research and planning, so delegate to the planner agent.</commentary></example> (Tools: All tools)\n- journal-writer: Use this agent when:\n- A test suite fails repeatedly despite multiple fix attempts\n- A critical bug is discovered in production or staging\n- An implementation approach proves fundamentally flawed and requires complete redesign\n- External dependencies (APIs, services, libraries) cause blocking issues\n- Performance bottlenecks are discovered that significantly impact user experience\n- Security vulnerabilities are identified\n- Database migrations fail or cause data integrity issues\n- CI/CD pipelines break unexpectedly\n- Integration conflicts arise between major system components\n- Technical debt reaches a critical threshold requiring immediate attention\n- A feature implementation takes significantly longer than estimated\n- Architectural decisions prove problematic in practice\n\nExamples:\n<example>\nContext: After implementing a new payment webhook handler, tests are failing with intermittent database connection errors.\nuser: \"The Sepay webhook tests keep failing with connection timeouts. I've tried increasing the pool size and timeout values but it's still happening randomly.\"\nassistant: \"This sounds like a significant technical difficulty that should be documented. Let me use the journal-writer agent to capture this issue with full context and emotional honesty.\"\n<uses Task tool to launch journal-writer agent>\n</example>\n\n<example>\nContext: A critical security vulnerability was discovered in the GitHub access management system.\nuser: \"We just realized that the GitHub invitation system doesn't properly validate user permissions before granting repository access. This could allow unauthorized users to access private repos.\"\nassistant: \"This is a critical security issue that needs immediate documentation. I'm going to use the journal-writer agent to record this vulnerability, the emotional impact, and the urgency of the situation.\"\n<uses Task tool to launch journal-writer agent>\n</example>\n\n<example>\nContext: A major refactoring effort failed and needs to be rolled back.\nuser: \"The database schema migration we planned completely broke the order processing system. We need to roll back and rethink our approach.\"\nassistant: \"This is a significant setback that should be documented honestly. Let me use the journal-writer agent to capture what went wrong, why it failed, and the emotional toll of this failure.\"\n<uses Task tool to launch journal-writer agent>\n</example> (Tools: All tools)\n- fullstack-developer: Execute implementation phases from parallel plans. Handles backend (Node.js, APIs, databases), frontend (React, TypeScript), and infrastructure tasks. Designed for parallel execution with strict file ownership boundaries. Use when implementing a specific phase from /plan:parallel output. (Tools: All tools)\n- project-manager: Use this agent when you need comprehensive project oversight and coordination. Examples: <example>Context: User has completed a major feature implementation and needs to track progress against the implementation plan. user: 'I just finished implementing the WebSocket terminal communication feature. Can you check our progress and update the plan?' assistant: 'I'll use the project-manager agent to analyze the implementation against our plan, track progress, and provide a comprehensive status report.' <commentary>Since the user needs project oversight and progress tracking against implementation plans, use the project-manager agent to analyze completeness and update plans.</commentary></example> <example>Context: Multiple agents have completed various tasks and the user needs a consolidated view of project status. user: 'The backend-developer and tester agents have finished their work. What's our overall project status?' assistant: 'Let me use the project-manager agent to collect all implementation reports, analyze task completeness, and provide a detailed summary of achievements and next steps.' <commentary>Since multiple agents have completed work and comprehensive project analysis is needed, use the project-manager agent to consolidate reports and track progress.</commentary></example> (Tools: Glob, Grep, LS, Read, Edit, MultiEdit, Write, NotebookEdit, WebFetch, TodoWrite, WebSearch, BashOutput, KillBash, ListMcpResourcesTool, ReadMcpResourceTool)\n- code-simplifier: Simplifies and refines code for clarity, consistency, and maintainability while preserving all functionality. Focuses on recently modified code unless instructed otherwise. (Tools: All tools)\n- ui-ux-designer: Use this agent when the user needs UI/UX design work including interface designs, wireframes, design systems, user research, responsive layouts, animations, or design documentation. Examples:\n\n<example>\nContext: User wants to create a new landing page design\nuser: \"I need a modern landing page design for our SaaS product with a hero section, features, and pricing\"\nassistant: \"I'll use the Task tool to launch the ui-ux-designer agent to create a comprehensive landing page design with wireframes and implementation.\"\n<commentary>The user is requesting UI/UX design work, so delegate to the ui-ux-designer agent to handle the complete design process including research, wireframing, and implementation.</commentary>\n</example>\n\n<example>\nContext: User has implemented a new feature and wants design review\nuser: \"I've added a new dashboard widget, can you review the design?\"\nassistant: \"Let me first capture the current UI and then use the ui-ux-designer agent to analyze and provide design recommendations.\"\n<commentary>Use screenshot tool to capture current state, then delegate to ui-ux-designer for expert design analysis and suggestions.</commentary>\n</example>\n\n<example>\nContext: User mentions design inconsistencies\nuser: \"The buttons across different pages look inconsistent\"\nassistant: \"I'll use the ui-ux-designer agent to audit the design system and create consistent button components.\"\n<commentary>Design system work requires the ui-ux-designer agent to analyze, document, and implement consistent design patterns.</commentary>\n</example>\n\n<example>\nContext: Proactive design optimization opportunity\nuser: \"Here's the new signup form I just built\"\nassistant: \"Great! Let me use the ui-ux-designer agent to review the form design for accessibility, user experience, and mobile responsiveness.\"\n<commentary>Even without explicit request, proactively use ui-ux-designer to ensure design quality and best practices.</commentary>\n</example> (Tools: All tools)\n- scout: Use this agent when you need to quickly locate relevant files across a large codebase to complete a specific task. This agent is particularly useful when:\n\n<example>\nContext: User needs to implement a new payment provider integration and needs to find all payment-related files.\nuser: \"I need to add Stripe as a new payment provider. Can you help me find all the relevant files?\"\nassistant: \"I'll use the scout agent to quickly search for payment-related files across the codebase.\"\n<Task tool call to scout with query about payment provider files>\n<commentary>\nThe user needs to locate payment integration files. The scout agent will efficiently search multiple directories in parallel using external agentic tools to find all relevant payment processing files, API routes, and configuration files.\n</commentary>\n</example>\n\n<example>\nContext: User is debugging an authentication issue and needs to find all auth-related components.\nuser: \"There's a bug in the login flow. I need to review all authentication files.\"\nassistant: \"Let me use the scout agent to locate all authentication-related files for you.\"\n<Task tool call to scout with query about authentication files>\n<commentary>\nThe user needs to debug authentication. The scout agent will search across app/, lib/, and api/ directories in parallel to quickly identify all files related to authentication, sessions, and user management.\n</commentary>\n</example>\n\n<example>\nContext: User wants to understand how database migrations work in the project.\nuser: \"How are database migrations structured in this project?\"\nassistant: \"I'll use the scout agent to find all migration-related files and database schema definitions.\"\n<Task tool call to scout with query about database migrations>\n<commentary>\nThe user needs to understand database structure. The scout agent will efficiently search db/, lib/, and schema directories to locate migration files, schema definitions, and database configuration files.\n</commentary>\n</example>\n\nProactively use this agent when:\n- Beginning work on a feature that spans multiple directories\n- User mentions needing to \"find\", \"locate\", or \"search for\" files\n- Starting a debugging session that requires understanding file relationships\n- User asks about project structure or where specific functionality lives\n- Before making changes that might affect multiple parts of the codebase (Tools: Glob, Grep, Read, WebFetch, TodoWrite, WebSearch, Bash, BashOutput, KillShell, ListMcpResourcesTool, ReadMcpResourceTool)\n\nWhen using the Task tool, you must specify a subagent_type parameter to select which agent type to use.\n\nWhen NOT to use the Task tool:\n- If you want to read a specific file path, use the Read or Glob tool instead of the Task tool, to find the match more quickly\n- If you are searching for a specific class definition like \"class Foo\", use the Glob tool instead, to find the match more quickly\n- If you are searching for code within a specific file or set of 2-3 files, use the Read tool instead of the Task tool, to find the match more quickly\n- Other tasks that are not related to the agent descriptions above\n\n\nUsage notes:\n- Always include a short description (3-5 words) summarizing what the agent will do\n- Launch multiple agents concurrently whenever possible, to maximize performance; to do that, use a single message with multiple tool uses\n- When the agent is done, it will return a single message back to you. The result returned by the agent is not visible to the user. To show the user the result, you should send a text message back to the user with a concise summary of the result.\n- You can optionally run agents in the background using the run_in_background parameter. When an agent runs in the background, the tool result will include an output_file path. To check on the agent's progress or retrieve its results, use the Read tool to read the output file, or use Bash with `tail` to see recent output. You can continue working while background agents run.\n- Agents can be resumed using the `resume` parameter by passing the agent ID from a previous invocation. When resumed, the agent continues with its full previous context preserved. When NOT resuming, each invocation starts fresh and you should provide a detailed task description with all necessary context.\n- When the agent is done, it will return a single message back to you along with its agent ID. You can use this ID to resume the agent later if needed for follow-up work.\n- Provide clear, detailed prompts so the agent can work autonomously and return exactly the information you need.\n- Agents with \"access to current context\" can see the full conversation history before the tool call. When using these agents, you can write concise prompts that reference earlier context (e.g., \"investigate the error discussed above\") instead of repeating information. The agent will receive all prior messages and understand the context.\n- The agent's outputs should generally be trusted\n- Clearly tell the agent whether you expect it to write code or just to do research (search, file reads, web fetches, etc.), since it is not aware of the user's intent\n- If the agent description mentions that it should be used proactively, then you should try your best to use it without the user having to ask for it first. Use your judgement.\n- If the user specifies that they want you to run agents \"in parallel\", you MUST send a single message with multiple Task tool use content blocks. For example, if you need to launch both a build-validator agent and a test-runner agent in parallel, send a single message with both tool calls.\n\nExample usage:\n\n<example_agent_descriptions>\n\"test-runner\": use this agent after you are done writing code to run tests\n\"greeting-responder\": use this agent when to respond to user greetings with a friendly joke\n</example_agent_description>\n\n<example>\nuser: \"Please write a function that checks if a number is prime\"\nassistant: Sure let me write a function that checks if a number is prime\nassistant: First let me use the Write tool to write a function that checks if a number is prime\nassistant: I'm going to use the Write tool to write the following code:\n<code>\nfunction isPrime(n) {\n  if (n <= 1) return false\n  for (let i = 2; i * i <= n; i++) {\n    if (n % i === 0) return false\n  }\n  return true\n}\n</code>\n<commentary>\nSince a significant piece of code was written and the task was completed, now use the test-runner agent to run the tests\n</commentary>\nassistant: Now let me use the test-runner agent to run the tests\nassistant: Uses the Task tool to launch the test-runner agent\n</example>\n\n<example>\nuser: \"Hello\"\n<commentary>\nSince the user is greeting, use the greeting-responder agent to respond with a friendly joke\n</commentary>\nassistant: \"I'm going to use the Task tool to launch the greeting-responder agent\"\n</example>\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"description":{"description":"A short (3-5 word) description of the task","type":"string"},"prompt":{"description":"The task for the agent to perform","type":"string"},"subagent_type":{"description":"The type of specialized agent to use for this task","type":"string"},"model":{"description":"Optional model to use for this agent. If not specified, inherits from parent. Prefer haiku for quick, straightforward tasks to minimize cost and latency.","type":"string","enum":["sonnet","opus","haiku"]},"resume":{"description":"Optional agent ID to resume from. If provided, the agent will continue from the previous execution transcript.","type":"string"},"run_in_background":{"description":"Set to true to run this agent in the background. The tool result will include an output_file path - use Read tool or Bash tail to check on output.","type":"boolean"},"max_turns":{"description":"Maximum number of agentic turns (API round-trips) before stopping. Used internally for warmup.","type":"integer","exclusiveMinimum":0,"maximum":9007199254740991}},"required":["description","prompt","subagent_type"],"additionalProperties":false}},{"name":"TaskOutput","description":"- Retrieves output from a running or completed task (background shell, agent, or remote session)\n- Takes a task_id parameter identifying the task\n- Returns the task output along with status information\n- Use block=true (default) to wait for task completion\n- Use block=false for non-blocking check of current status\n- Task IDs can be found using the /tasks command\n- Works with all task types: background shells, async agents, and remote sessions","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The task ID to get output from","type":"string"},"block":{"description":"Whether to wait for completion","default":true,"type":"boolean"},"timeout":{"description":"Max wait time in ms","default":30000,"type":"number","minimum":0,"maximum":600000}},"required":["task_id","block","timeout"],"additionalProperties":false}},{"name":"Bash","description":"Executes a given bash command with optional timeout. Working directory persists between commands; shell state (everything else) does not. The shell environment is initialized from the user's profile (bash or zsh).\n\nIMPORTANT: This tool is for terminal operations like git, npm, docker, etc. DO NOT use it for file operations (reading, writing, editing, searching, finding files) - use the specialized tools for this instead.\n\nBefore executing the command, please follow these steps:\n\n1. Directory Verification:\n   - If the command will create new directories or files, first use `ls` to verify the parent directory exists and is the correct location\n   - For example, before running \"mkdir foo/bar\", first use `ls foo` to check that \"foo\" exists and is the intended parent directory\n\n2. Command Execution:\n   - Always quote file paths that contain spaces with double quotes (e.g., cd \"path with spaces/file.txt\")\n   - Examples of proper quoting:\n     - cd \"/Users/name/My Documents\" (correct)\n     - cd /Users/name/My Documents (incorrect - will fail)\n     - python \"/path/with spaces/script.py\" (correct)\n     - python /path/with spaces/script.py (incorrect - will fail)\n   - After ensuring proper quoting, execute the command.\n   - Capture the output of the command.\n\nUsage notes:\n  - The command argument is required.\n  - You can specify an optional timeout in milliseconds (up to 600000ms / 10 minutes). If not specified, commands will timeout after 120000ms (2 minutes).\n  - It is very helpful if you write a clear, concise description of what this command does. For simple commands, keep it brief (5-10 words). For complex commands (piped commands, obscure flags, or anything hard to understand at a glance), add enough context to clarify what it does.\n  - If the output exceeds 30000 characters, output will be truncated before being returned to you.\n  \n  - You can use the `run_in_background` parameter to run the command in the background. Only use this if you don't need the result immediately and are OK being notified when the command completes later. You do not need to check the output right away - you'll be notified when it finishes. You do not need to use '&' at the end of the command when using this parameter.\n  \n  - Avoid using Bash with the `find`, `grep`, `cat`, `head`, `tail`, `sed`, `awk`, or `echo` commands, unless explicitly instructed or when these commands are truly necessary for the task. Instead, always prefer using the dedicated tools for these commands:\n    - File search: Use Glob (NOT find or ls)\n    - Content search: Use Grep (NOT grep or rg)\n    - Read files: Use Read (NOT cat/head/tail)\n    - Edit files: Use Edit (NOT sed/awk)\n    - Write files: Use Write (NOT echo >/cat <<EOF)\n    - Communication: Output text directly (NOT echo/printf)\n  - When issuing multiple commands:\n    - If the commands are independent and can run in parallel, make multiple Bash tool calls in a single message. For example, if you need to run \"git status\" and \"git diff\", send a single message with two Bash tool calls in parallel.\n    - If the commands depend on each other and must run sequentially, use a single Bash call with '&&' to chain them together (e.g., `git add . && git commit -m \"message\" && git push`). For instance, if one operation must complete before another starts (like mkdir before cp, Write before Bash for git operations, or git add before git commit), run these operations sequentially instead.\n    - Use ';' only when you need to run commands sequentially but don't care if earlier commands fail\n    - DO NOT use newlines to separate commands (newlines are ok in quoted strings)\n  - Try to maintain your current working directory throughout the session by using absolute paths and avoiding usage of `cd`. You may use `cd` if the User explicitly requests it.\n    <good-example>\n    pytest /foo/bar/tests\n    </good-example>\n    <bad-example>\n    cd /foo/bar && pytest tests\n    </bad-example>\n\n# Committing changes with git\n\nOnly create commits when requested by the user. If unclear, ask first. When the user asks you to create a new git commit, follow these steps carefully:\n\nGit Safety Protocol:\n- NEVER update the git config\n- NEVER run destructive git commands (push --force, reset --hard, checkout ., restore ., clean -f, branch -D) unless the user explicitly requests these actions. Taking unauthorized destructive actions is unhelpful and can result in lost work, so it's best to ONLY run these commands when given direct instructions \n- NEVER skip hooks (--no-verify, --no-gpg-sign, etc) unless the user explicitly requests it\n- NEVER run force push to main/master, warn the user if they request it\n- CRITICAL: Always create NEW commits rather than amending, unless the user explicitly requests a git amend. When a pre-commit hook fails, the commit did NOT happen   so --amend would modify the PREVIOUS commit, which may result in destroying work or losing previous changes. Instead, after hook failure, fix the issue, re-stage, and create a NEW commit\n- When staging files, prefer adding specific files by name rather than using \"git add -A\" or \"git add .\", which can accidentally include sensitive files (.env, credentials) or large binaries\n- NEVER commit changes unless the user explicitly asks you to. It is VERY IMPORTANT to only commit when explicitly asked, otherwise the user will feel that you are being too proactive\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel, each using the Bash tool:\n  - Run a git status command to see all untracked files. IMPORTANT: Never use the -uall flag as it can cause memory issues on large repos.\n  - Run a git diff command to see both staged and unstaged changes that will be committed.\n  - Run a git log command to see recent commit messages, so that you can follow this repository's commit message style.\n2. Analyze all staged changes (both previously staged and newly added) and draft a commit message:\n  - Summarize the nature of the changes (eg. new feature, enhancement to an existing feature, bug fix, refactoring, test, docs, etc.). Ensure the message accurately reflects the changes and their purpose (i.e. \"add\" means a wholly new feature, \"update\" means an enhancement to an existing feature, \"fix\" means a bug fix, etc.).\n  - Do not commit files that likely contain secrets (.env, credentials.json, etc). Warn the user if they specifically request to commit those files\n  - Draft a concise (1-2 sentences) commit message that focuses on the \"why\" rather than the \"what\"\n  - Ensure it accurately reflects the changes and their purpose\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands:\n   - Add relevant untracked files to the staging area.\n   - Create the commit with a message.\n   - Run git status after the commit completes to verify success.\n   Note: git status depends on the commit completing, so run it sequentially after the commit.\n4. If the commit fails due to pre-commit hook: fix the issue and create a NEW commit\n\nImportant notes:\n- NEVER run additional commands to read or explore code, besides git bash commands\n- NEVER use the TodoWrite or Task tools\n- DO NOT push to the remote repository unless the user explicitly asks you to do so\n- IMPORTANT: Never use git commands with the -i flag (like git rebase -i or git add -i) since they require interactive input which is not supported.\n- IMPORTANT: Do not use --no-edit with git rebase commands, as the --no-edit flag is not a valid option for git rebase.\n- If there are no changes to commit (i.e., no untracked files and no modifications), do not create an empty commit\n- In order to ensure good formatting, ALWAYS pass the commit message via a HEREDOC, a la this example:\n<example>\ngit commit -m \"$(cat <<'EOF'\n   Commit message here.\n   EOF\n   )\"\n</example>\n\n# Creating pull requests\nUse the gh command via the Bash tool for ALL GitHub-related tasks including working with issues, pull requests, checks, and releases. If given a Github URL use the gh command to get the information needed.\n\nIMPORTANT: When the user asks you to create a pull request, follow these steps carefully:\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel using the Bash tool, in order to understand the current state of the branch since it diverged from the main branch:\n   - Run a git status command to see all untracked files (never use -uall flag)\n   - Run a git diff command to see both staged and unstaged changes that will be committed\n   - Check if the current branch tracks a remote branch and is up to date with the remote, so you know if you need to push to the remote\n   - Run a git log command and `git diff [base-branch]...HEAD` to understand the full commit history for the current branch (from the time it diverged from the base branch)\n2. Analyze all changes that will be included in the pull request, making sure to look at all relevant commits (NOT just the latest commit, but ALL commits that will be included in the pull request!!!), and draft a pull request title and summary:\n   - Keep the PR title short (under 70 characters)\n   - Use the description/body for details, not the title\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands in parallel:\n   - Create new branch if needed\n   - Push to remote with -u flag if needed\n   - Create PR using gh pr create with the format below. Use a HEREDOC to pass the body to ensure correct formatting.\n<example>\ngh pr create --title \"the pr title\" --body \"$(cat <<'EOF'\n## Summary\n<1-3 bullet points>\n\n## Test plan\n[Bulleted markdown checklist of TODOs for testing the pull request...]\nEOF\n)\"\n</example>\n\nImportant:\n- DO NOT use the TodoWrite or Task tools\n- Return the PR URL when you're done, so the user can see it\n\n# Other common operations\n- View comments on a Github PR: gh api repos/foo/bar/pulls/123/comments","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"command":{"description":"The command to execute","type":"string"},"timeout":{"description":"Optional timeout in milliseconds (max 600000)","type":"number"},"description":{"description":"Clear, concise description of what this command does in active voice. Never use words like \"complex\" or \"risk\" in the description - just describe what it does.\n\nFor simple commands (git, npm, standard CLI tools), keep it brief (5-10 words):\n- ls  \"List files in current directory\"\n- git status  \"Show working tree status\"\n- npm install  \"Install package dependencies\"\n\nFor commands that are harder to parse at a glance (piped commands, obscure flags, etc.), add enough context to clarify what it does:\n- find . -name \"*.tmp\" -exec rm {} \\;  \"Find and delete all .tmp files recursively\"\n- git reset --hard origin/main  \"Discard all local changes and match remote main\"\n- curl -s url | jq '.data[]'  \"Fetch JSON from URL and extract data array elements\"","type":"string"},"run_in_background":{"description":"Set to true to run this command in the background. Use TaskOutput to read the output later.","type":"boolean"},"dangerouslyDisableSandbox":{"description":"Set this to true to dangerously override sandbox mode and run commands without sandboxing.","type":"boolean"},"_simulatedSedEdit":{"description":"Internal: pre-computed sed edit result from preview","type":"object","properties":{"filePath":{"type":"string"},"newContent":{"type":"string"}},"required":["filePath","newContent"],"additionalProperties":false}},"required":["command"],"additionalProperties":false}},{"name":"Glob","description":"- Fast file pattern matching tool that works with any codebase size\n- Supports glob patterns like \"**/*.js\" or \"src/**/*.ts\"\n- Returns matching file paths sorted by modification time\n- Use this tool when you need to find files by name patterns\n- When you are doing an open ended search that may require multiple rounds of globbing and grepping, use the Agent tool instead\n- You can call multiple tools in a single response. It is always better to speculatively perform multiple searches in parallel if they are potentially useful.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The glob pattern to match files against","type":"string"},"path":{"description":"The directory to search in. If not specified, the current working directory will be used. IMPORTANT: Omit this field to use the default directory. DO NOT enter \"undefined\" or \"null\" - simply omit it for the default behavior. Must be a valid directory path if provided.","type":"string"}},"required":["pattern"],"additionalProperties":false}},{"name":"Grep","description":"A powerful search tool built on ripgrep\n\n  Usage:\n  - ALWAYS use Grep for search tasks. NEVER invoke `grep` or `rg` as a Bash command. The Grep tool has been optimized for correct permissions and access.\n  - Supports full regex syntax (e.g., \"log.*Error\", \"function\\s+\\w+\")\n  - Filter files with glob parameter (e.g., \"*.js\", \"**/*.tsx\") or type parameter (e.g., \"js\", \"py\", \"rust\")\n  - Output modes: \"content\" shows matching lines, \"files_with_matches\" shows only file paths (default), \"count\" shows match counts\n  - Use Task tool for open-ended searches requiring multiple rounds\n  - Pattern syntax: Uses ripgrep (not grep) - literal braces need escaping (use `interface\\{\\}` to find `interface{}` in Go code)\n  - Multiline matching: By default patterns match within single lines only. For cross-line patterns like `struct \\{[\\s\\S]*?field`, use `multiline: true`\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The regular expression pattern to search for in file contents","type":"string"},"path":{"description":"File or directory to search in (rg PATH). Defaults to current working directory.","type":"string"},"glob":{"description":"Glob pattern to filter files (e.g. \"*.js\", \"*.{ts,tsx}\") - maps to rg --glob","type":"string"},"output_mode":{"description":"Output mode: \"content\" shows matching lines (supports -A/-B/-C context, -n line numbers, head_limit), \"files_with_matches\" shows file paths (supports head_limit), \"count\" shows match counts (supports head_limit). Defaults to \"files_with_matches\".","type":"string","enum":["content","files_with_matches","count"]},"-B":{"description":"Number of lines to show before each match (rg -B). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-A":{"description":"Number of lines to show after each match (rg -A). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-C":{"description":"Alias for context.","type":"number"},"context":{"description":"Number of lines to show before and after each match (rg -C). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-n":{"description":"Show line numbers in output (rg -n). Requires output_mode: \"content\", ignored otherwise. Defaults to true.","type":"boolean"},"-i":{"description":"Case insensitive search (rg -i)","type":"boolean"},"type":{"description":"File type to search (rg --type). Common types: js, py, rust, go, java, etc. More efficient than include for standard file types.","type":"string"},"head_limit":{"description":"Limit output to first N lines/entries, equivalent to \"| head -N\". Works across all output modes: content (limits output lines), files_with_matches (limits file paths), count (limits count entries). Defaults to 0 (unlimited).","type":"number"},"offset":{"description":"Skip first N lines/entries before applying head_limit, equivalent to \"| tail -n +N | head -N\". Works across all output modes. Defaults to 0.","type":"number"},"multiline":{"description":"Enable multiline mode where . matches newlines and patterns can span lines (rg -U --multiline-dotall). Default: false.","type":"boolean"}},"required":["pattern"],"additionalProperties":false}},{"name":"ExitPlanMode","description":"Use this tool when you are in plan mode and have finished writing your plan to the plan file and are ready for user approval.\n\n## How This Tool Works\n- You should have already written your plan to the plan file specified in the plan mode system message\n- This tool does NOT take the plan content as a parameter - it will read the plan from the file you wrote\n- This tool simply signals that you're done planning and ready for the user to review and approve\n- The user will see the contents of your plan file when they review it\n\n## When to Use This Tool\nIMPORTANT: Only use this tool when the task requires planning the implementation steps of a task that requires writing code. For research tasks where you're gathering information, searching files, reading files or in general trying to understand the codebase - do NOT use this tool.\n\n## Before Using This Tool\nEnsure your plan is complete and unambiguous:\n- If you have unresolved questions about requirements or approach, use AskUserQuestion first (in earlier phases)\n- Once your plan is finalized, use THIS tool to request approval\n\n**Important:** Do NOT use AskUserQuestion to ask \"Is this plan okay?\" or \"Should I proceed?\" - that's exactly what THIS tool does. ExitPlanMode inherently requests user approval of your plan.\n\n## Examples\n\n1. Initial task: \"Search for and understand the implementation of vim mode in the codebase\" - Do not use the exit plan mode tool because you are not planning the implementation steps of a task.\n2. Initial task: \"Help me implement yank mode for vim\" - Use the exit plan mode tool after you have finished planning the implementation steps of the task.\n3. Initial task: \"Add a new feature to handle user authentication\" - If unsure about auth method (OAuth, JWT, etc.), use AskUserQuestion first, then use exit plan mode tool after clarifying the approach.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"allowedPrompts":{"description":"Prompt-based permissions needed to implement the plan. These describe categories of actions rather than specific commands.","type":"array","items":{"type":"object","properties":{"tool":{"description":"The tool this prompt applies to","type":"string","enum":["Bash"]},"prompt":{"description":"Semantic description of the action, e.g. \"run tests\", \"install dependencies\"","type":"string"}},"required":["tool","prompt"],"additionalProperties":false}},"pushToRemote":{"description":"Whether to push the plan to a remote Claude.ai session","type":"boolean"},"remoteSessionId":{"description":"The remote session ID if pushed to remote","type":"string"},"remoteSessionUrl":{"description":"The remote session URL if pushed to remote","type":"string"},"remoteSessionTitle":{"description":"The remote session title if pushed to remote","type":"string"}},"additionalProperties":{}}},{"name":"Read","description":"Reads a file from the local filesystem. You can access any file directly by using this tool.\nAssume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned.\n\nUsage:\n- The file_path parameter must be an absolute path, not a relative path\n- By default, it reads up to 2000 lines starting from the beginning of the file\n- You can optionally specify a line offset and limit (especially handy for long files), but it's recommended to read the whole file by not providing these parameters\n- Any lines longer than 2000 characters will be truncated\n- Results are returned using cat -n format, with line numbers starting at 1\n- This tool allows Claude Code to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as Claude Code is a multimodal LLM.\n- This tool can read PDF files (.pdf). PDFs are processed page by page, extracting both text and visual content for analysis.\n- This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.\n- This tool can only read files, not directories. To read a directory, use an ls command via the Bash tool.\n- You can call multiple tools in a single response. It is always better to speculatively read multiple potentially useful files in parallel.\n- You will regularly be asked to read screenshots. If the user provides a path to a screenshot, ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths.\n- If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to read","type":"string"},"offset":{"description":"The line number to start reading from. Only provide if the file is too large to read at once","type":"number"},"limit":{"description":"The number of lines to read. Only provide if the file is too large to read at once.","type":"number"}},"required":["file_path"],"additionalProperties":false}},{"name":"Edit","description":"Performs exact string replacements in files.\n\nUsage:\n- You must use your `Read` tool at least once in the conversation before editing. This tool will error if you attempt an edit without reading the file. \n- When editing text from Read tool output, ensure you preserve the exact indentation (tabs/spaces) as it appears AFTER the line number prefix. The line number prefix format is: spaces + line number + tab. Everything after that tab is the actual file content to match. Never include any part of the line number prefix in the old_string or new_string.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- Only use emojis if the user explicitly requests it. Avoid adding emojis to files unless asked.\n- The edit will FAIL if `old_string` is not unique in the file. Either provide a larger string with more surrounding context to make it unique or use `replace_all` to change every instance of `old_string`.\n- Use `replace_all` for replacing and renaming strings across the file. This parameter is useful if you want to rename a variable for instance.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to modify","type":"string"},"old_string":{"description":"The text to replace","type":"string"},"new_string":{"description":"The text to replace it with (must be different from old_string)","type":"string"},"replace_all":{"description":"Replace all occurences of old_string (default false)","default":false,"type":"boolean"}},"required":["file_path","old_string","new_string"],"additionalProperties":false}},{"name":"Write","description":"Writes a file to the local filesystem.\n\nUsage:\n- This tool will overwrite the existing file if there is one at the provided path.\n- If this is an existing file, you MUST use the Read tool first to read the file's contents. This tool will fail if you did not read the file first.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.\n- Only use emojis if the user explicitly requests it. Avoid writing emojis to files unless asked.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to write (must be absolute, not relative)","type":"string"},"content":{"description":"The content to write to the file","type":"string"}},"required":["file_path","content"],"additionalProperties":false}},{"name":"NotebookEdit","description":"Completely replaces the contents of a specific cell in a Jupyter notebook (.ipynb file) with new source. Jupyter notebooks are interactive documents that combine code, text, and visualizations, commonly used for data analysis and scientific computing. The notebook_path parameter must be an absolute path, not a relative path. The cell_number is 0-indexed. Use edit_mode=insert to add a new cell at the index specified by cell_number. Use edit_mode=delete to delete the cell at the index specified by cell_number.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"notebook_path":{"description":"The absolute path to the Jupyter notebook file to edit (must be absolute, not relative)","type":"string"},"cell_id":{"description":"The ID of the cell to edit. When inserting a new cell, the new cell will be inserted after the cell with this ID, or at the beginning if not specified.","type":"string"},"new_source":{"description":"The new source for the cell","type":"string"},"cell_type":{"description":"The type of the cell (code or markdown). If not specified, it defaults to the current cell type. If using edit_mode=insert, this is required.","type":"string","enum":["code","markdown"]},"edit_mode":{"description":"The type of edit to make (replace, insert, delete). Defaults to replace.","type":"string","enum":["replace","insert","delete"]}},"required":["notebook_path","new_source"],"additionalProperties":false}},{"name":"WebFetch","description":"\n- Fetches content from a specified URL and processes it using an AI model\n- Takes a URL and a prompt as input\n- Fetches the URL content, converts HTML to markdown\n- Processes the content with the prompt using a small, fast model\n- Returns the model's response about the content\n- Use this tool when you need to retrieve and analyze web content\n\nUsage notes:\n  - IMPORTANT: If an MCP-provided web fetch tool is available, prefer using that tool instead of this one, as it may have fewer restrictions.\n  - The URL must be a fully-formed valid URL\n  - HTTP URLs will be automatically upgraded to HTTPS\n  - The prompt should describe what information you want to extract from the page\n  - This tool is read-only and does not modify any files\n  - Results may be summarized if the content is very large\n  - Includes a self-cleaning 15-minute cache for faster responses when repeatedly accessing the same URL\n  - When a URL redirects to a different host, the tool will inform you and provide the redirect URL in a special format. You should then make a new WebFetch request with the redirect URL to fetch the content.\n  - For GitHub URLs, prefer using the gh CLI via Bash instead (e.g., gh pr view, gh issue view, gh api).\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"url":{"description":"The URL to fetch content from","type":"string","format":"uri"},"prompt":{"description":"The prompt to run on the fetched content","type":"string"}},"required":["url","prompt"],"additionalProperties":false}},{"name":"WebSearch","description":"\n- Allows Claude to search the web and use the results to inform responses\n- Provides up-to-date information for current events and recent data\n- Returns search result information formatted as search result blocks, including links as markdown hyperlinks\n- Use this tool for accessing information beyond Claude's knowledge cutoff\n- Searches are performed automatically within a single API call\n\nCRITICAL REQUIREMENT - You MUST follow this:\n  - After answering the user's question, you MUST include a \"Sources:\" section at the end of your response\n  - In the Sources section, list all relevant URLs from the search results as markdown hyperlinks: [Title](URL)\n  - This is MANDATORY - never skip including sources in your response\n  - Example format:\n\n    [Your answer here]\n\n    Sources:\n    - [Source Title 1](https://example.com/1)\n    - [Source Title 2](https://example.com/2)\n\nUsage notes:\n  - Domain filtering is supported to include or block specific websites\n  - Web search is only available in the US\n\nIMPORTANT - Use the correct year in search queries:\n  - Today's date is 2026-01-31. You MUST use this year when searching for recent information, documentation, or current events.\n  - Example: If the user asks for \"latest React docs\", search for \"React documentation 2026\", NOT \"React documentation 2025\"\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"query":{"description":"The search query to use","type":"string","minLength":2},"allowed_domains":{"description":"Only include search results from these domains","type":"array","items":{"type":"string"}},"blocked_domains":{"description":"Never include search results from these domains","type":"array","items":{"type":"string"}}},"required":["query"],"additionalProperties":false}},{"name":"TaskStop","description":"\n- Stops a running background task by its ID\n- Takes a task_id parameter identifying the task to stop\n- Returns a success or failure status\n- Use this tool when you need to terminate a long-running task\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The ID of the background task to stop","type":"string"},"shell_id":{"description":"Deprecated: use task_id instead","type":"string"}},"additionalProperties":false}},{"name":"AskUserQuestion","description":"Use this tool when you need to ask the user questions during execution. This allows you to:\n1. Gather user preferences or requirements\n2. Clarify ambiguous instructions\n3. Get decisions on implementation choices as you work\n4. Offer choices to the user about what direction to take.\n\nUsage notes:\n- Users will always be able to select \"Other\" to provide custom text input\n- Use multiSelect: true to allow multiple answers to be selected for a question\n- If you recommend a specific option, make that the first option in the list and add \"(Recommended)\" at the end of the label\n\nPlan mode note: In plan mode, use this tool to clarify requirements or choose between approaches BEFORE finalizing your plan. Do NOT use this tool to ask \"Is my plan ready?\" or \"Should I proceed?\" - use ExitPlanMode for plan approval.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"questions":{"description":"Questions to ask the user (1-4 questions)","minItems":1,"maxItems":4,"type":"array","items":{"type":"object","properties":{"question":{"description":"The complete question to ask the user. Should be clear, specific, and end with a question mark. Example: \"Which library should we use for date formatting?\" If multiSelect is true, phrase it accordingly, e.g. \"Which features do you want to enable?\"","type":"string"},"header":{"description":"Very short label displayed as a chip/tag (max 12 chars). Examples: \"Auth method\", \"Library\", \"Approach\".","type":"string"},"options":{"description":"The available choices for this question. Must have 2-4 options. Each option should be a distinct, mutually exclusive choice (unless multiSelect is enabled). There should be no 'Other' option, that will be provided automatically.","minItems":2,"maxItems":4,"type":"array","items":{"type":"object","properties":{"label":{"description":"The display text for this option that the user will see and select. Should be concise (1-5 words) and clearly describe the choice.","type":"string"},"description":{"description":"Explanation of what this option means or what will happen if chosen. Useful for providing context about trade-offs or implications.","type":"string"}},"required":["label","description"],"additionalProperties":false}},"multiSelect":{"description":"Set to true to allow the user to select multiple options instead of just one. Use when choices are not mutually exclusive.","default":false,"type":"boolean"}},"required":["question","header","options","multiSelect"],"additionalProperties":false}},"answers":{"description":"User answers collected by the permission component","type":"object","propertyNames":{"type":"string"},"additionalProperties":{"type":"string"}},"metadata":{"description":"Optional metadata for tracking and analytics purposes. Not displayed to user.","type":"object","properties":{"source":{"description":"Optional identifier for the source of this question (e.g., \"remember\" for /remember command). Used for analytics tracking.","type":"string"}},"additionalProperties":false}},"required":["questions"],"additionalProperties":false}},{"name":"Skill","description":"Execute a skill within the main conversation\n\nWhen users ask you to perform tasks, check if any of the available skills match. Skills provide specialized capabilities and domain knowledge.\n\nWhen users reference a \"slash command\" or \"/<something>\" (e.g., \"/commit\", \"/review-pr\"), they are referring to a skill. Use this tool to invoke it.\n\nHow to invoke:\n- Use this tool with the skill name and optional arguments\n- Examples:\n  - `skill: \"pdf\"` - invoke the pdf skill\n  - `skill: \"commit\", args: \"-m 'Fix bug'\"` - invoke with arguments\n  - `skill: \"review-pr\", args: \"123\"` - invoke with arguments\n  - `skill: \"ms-office-suite:pdf\"` - invoke using fully qualified name\n\nImportant:\n- Available skills are listed in system-reminder messages in the conversation\n- When a skill matches the user's request, this is a BLOCKING REQUIREMENT: invoke the relevant Skill tool BEFORE generating any other response about the task\n- NEVER mention a skill without actually calling this tool\n- Do not invoke a skill that is already running\n- Do not use this tool for built-in CLI commands (like /help, /clear, etc.)\n- If you see a <command-name> tag in the current conversation turn, the skill has ALREADY been loaded - follow the instructions directly instead of calling this tool again\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"skill":{"description":"The skill name. E.g., \"commit\", \"review-pr\", or \"pdf\"","type":"string"},"args":{"description":"Optional arguments for the skill","type":"string"}},"required":["skill"],"additionalProperties":false}},{"name":"EnterPlanMode","description":"Use this tool proactively when you're about to start a non-trivial implementation task. Getting user sign-off on your approach before writing code prevents wasted effort and ensures alignment. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.\n\n## When to Use This Tool\n\n**Prefer using EnterPlanMode** for implementation tasks unless they're simple. Use it when ANY of these conditions apply:\n\n1. **New Feature Implementation**: Adding meaningful new functionality\n   - Example: \"Add a logout button\" - where should it go? What should happen on click?\n   - Example: \"Add form validation\" - what rules? What error messages?\n\n2. **Multiple Valid Approaches**: The task can be solved in several different ways\n   - Example: \"Add caching to the API\" - could use Redis, in-memory, file-based, etc.\n   - Example: \"Improve performance\" - many optimization strategies possible\n\n3. **Code Modifications**: Changes that affect existing behavior or structure\n   - Example: \"Update the login flow\" - what exactly should change?\n   - Example: \"Refactor this component\" - what's the target architecture?\n\n4. **Architectural Decisions**: The task requires choosing between patterns or technologies\n   - Example: \"Add real-time updates\" - WebSockets vs SSE vs polling\n   - Example: \"Implement state management\" - Redux vs Context vs custom solution\n\n5. **Multi-File Changes**: The task will likely touch more than 2-3 files\n   - Example: \"Refactor the authentication system\"\n   - Example: \"Add a new API endpoint with tests\"\n\n6. **Unclear Requirements**: You need to explore before understanding the full scope\n   - Example: \"Make the app faster\" - need to profile and identify bottlenecks\n   - Example: \"Fix the bug in checkout\" - need to investigate root cause\n\n7. **User Preferences Matter**: The implementation could reasonably go multiple ways\n   - If you would use AskUserQuestion to clarify the approach, use EnterPlanMode instead\n   - Plan mode lets you explore first, then present options with context\n\n## When NOT to Use This Tool\n\nOnly skip EnterPlanMode for simple tasks:\n- Single-line or few-line fixes (typos, obvious bugs, small tweaks)\n- Adding a single function with clear requirements\n- Tasks where the user has given very specific, detailed instructions\n- Pure research/exploration tasks (use the Task tool with explore agent instead)\n\n## What Happens in Plan Mode\n\nIn plan mode, you'll:\n1. Thoroughly explore the codebase using Glob, Grep, and Read tools\n2. Understand existing patterns and architecture\n3. Design an implementation approach\n4. Present your plan to the user for approval\n5. Use AskUserQuestion if you need to clarify approaches\n6. Exit plan mode with ExitPlanMode when ready to implement\n\n## Examples\n\n### GOOD - Use EnterPlanMode:\nUser: \"Add user authentication to the app\"\n- Requires architectural decisions (session vs JWT, where to store tokens, middleware structure)\n\nUser: \"Optimize the database queries\"\n- Multiple approaches possible, need to profile first, significant impact\n\nUser: \"Implement dark mode\"\n- Architectural decision on theme system, affects many components\n\nUser: \"Add a delete button to the user profile\"\n- Seems simple but involves: where to place it, confirmation dialog, API call, error handling, state updates\n\nUser: \"Update the error handling in the API\"\n- Affects multiple files, user should approve the approach\n\n### BAD - Don't use EnterPlanMode:\nUser: \"Fix the typo in the README\"\n- Straightforward, no planning needed\n\nUser: \"Add a console.log to debug this function\"\n- Simple, obvious implementation\n\nUser: \"What files handle routing?\"\n- Research task, not implementation planning\n\n## Important Notes\n\n- This tool REQUIRES user approval - they must consent to entering plan mode\n- If unsure whether to use it, err on the side of planning - it's better to get alignment upfront than to redo work\n- Users appreciate being consulted before significant changes are made to their codebase\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}},{"name":"TaskCreate","description":"Use this tool to create a structured task list for your current coding session. This helps you track progress, organize complex tasks, and demonstrate thoroughness to the user.\nIt also helps the user understand the progress of the task and overall progress of their requests.\n\n## When to Use This Tool\n\nUse this tool proactively in these scenarios:\n\n- Complex multi-step tasks - When a task requires 3 or more distinct steps or actions\n- Non-trivial and complex tasks - Tasks that require careful planning or multiple operations\n- Plan mode - When using plan mode, create a task list to track the work\n- User explicitly requests todo list - When the user directly asks you to use the todo list\n- User provides multiple tasks - When users provide a list of things to be done (numbered or comma-separated)\n- After receiving new instructions - Immediately capture user requirements as tasks\n- When you start working on a task - Mark it as in_progress BEFORE beginning work\n- After completing a task - Mark it as completed and add any new follow-up tasks discovered during implementation\n\n## When NOT to Use This Tool\n\nSkip using this tool when:\n- There is only a single, straightforward task\n- The task is trivial and tracking it provides no organizational benefit\n- The task can be completed in less than 3 trivial steps\n- The task is purely conversational or informational\n\nNOTE that you should not use this tool if there is only one trivial task to do. In this case you are better off just doing the task directly.\n\n## Task Fields\n\n- **subject**: A brief, actionable title in imperative form (e.g., \"Fix authentication bug in login flow\")\n- **description**: Detailed description of what needs to be done, including context and acceptance criteria\n- **activeForm**: Present continuous form shown in spinner when task is in_progress (e.g., \"Fixing authentication bug\"). This is displayed to the user while you work on the task.\n\n**IMPORTANT**: Always provide activeForm when creating tasks. The subject should be imperative (\"Run tests\") while activeForm should be present continuous (\"Running tests\"). All tasks are created with status `pending`.\n\n## Tips\n\n- Create tasks with clear, specific subjects that describe the outcome\n- Include enough detail in the description for another agent to understand and complete the task\n- After creating tasks, use TaskUpdate to set up dependencies (blocks/blockedBy) if needed\n- Check TaskList first to avoid creating duplicate tasks\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"subject":{"description":"A brief title for the task","type":"string"},"description":{"description":"A detailed description of what needs to be done","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"metadata":{"description":"Arbitrary metadata to attach to the task","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["subject","description"],"additionalProperties":false}},{"name":"TaskGet","description":"Use this tool to retrieve a task by its ID from the task list.\n\n## When to Use This Tool\n\n- When you need the full description and context before starting work on a task\n- To understand task dependencies (what it blocks, what blocks it)\n- After being assigned a task, to get complete requirements\n\n## Output\n\nReturns full task details:\n- **subject**: Task title\n- **description**: Detailed requirements and context\n- **status**: 'pending', 'in_progress', or 'completed'\n- **blocks**: Tasks waiting on this one to complete\n- **blockedBy**: Tasks that must complete before this one can start\n\n## Tips\n\n- After fetching a task, verify its blockedBy list is empty before beginning work.\n- Use TaskList to see all tasks in summary form.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to retrieve","type":"string"}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskUpdate","description":"Use this tool to update a task in the task list.\n\n## When to Use This Tool\n\n**Mark tasks as resolved:**\n- When you have completed the work described in a task\n- When a task is no longer needed or has been superseded\n- IMPORTANT: Always mark your assigned tasks as resolved when you finish them\n- After resolving, call TaskList to find your next task\n\n- ONLY mark a task as completed when you have FULLY accomplished it\n- If you encounter errors, blockers, or cannot finish, keep the task as in_progress\n- When blocked, create a new task describing what needs to be resolved\n- Never mark a task as completed if:\n  - Tests are failing\n  - Implementation is partial\n  - You encountered unresolved errors\n  - You couldn't find necessary files or dependencies\n\n**Delete tasks:**\n- When a task is no longer relevant or was created in error\n- Setting status to `deleted` permanently removes the task\n\n**Update task details:**\n- When requirements change or become clearer\n- When establishing dependencies between tasks\n\n## Fields You Can Update\n\n- **status**: The task status (see Status Workflow below)\n- **subject**: Change the task title (imperative form, e.g., \"Run tests\")\n- **description**: Change the task description\n- **activeForm**: Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")\n- **owner**: Change the task owner (agent name)\n- **metadata**: Merge metadata keys into the task (set a key to null to delete it)\n- **addBlocks**: Mark tasks that cannot start until this one completes\n- **addBlockedBy**: Mark tasks that must complete before this one can start\n\n## Status Workflow\n\nStatus progresses: `pending`  `in_progress`  `completed`\n\nUse `deleted` to permanently remove a task.\n\n## Staleness\n\nMake sure to read a task's latest state using `TaskGet` before updating it.\n\n## Examples\n\nMark task as in progress when starting work:\n```json\n{\"taskId\": \"1\", \"status\": \"in_progress\"}\n```\n\nMark task as completed after finishing work:\n```json\n{\"taskId\": \"1\", \"status\": \"completed\"}\n```\n\nDelete a task:\n```json\n{\"taskId\": \"1\", \"status\": \"deleted\"}\n```\n\nClaim a task by setting owner:\n```json\n{\"taskId\": \"1\", \"owner\": \"my-name\"}\n```\n\nSet up task dependencies:\n```json\n{\"taskId\": \"2\", \"addBlockedBy\": [\"1\"]}\n```\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to update","type":"string"},"subject":{"description":"New subject for the task","type":"string"},"description":{"description":"New description for the task","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"status":{"description":"New status for the task","anyOf":[{"type":"string","enum":["pending","in_progress","completed"]},{"type":"string","const":"deleted"}]},"addBlocks":{"description":"Task IDs that this task blocks","type":"array","items":{"type":"string"}},"addBlockedBy":{"description":"Task IDs that block this task","type":"array","items":{"type":"string"}},"owner":{"description":"New owner for the task","type":"string"},"metadata":{"description":"Metadata keys to merge into the task. Set a key to null to delete it.","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskList","description":"Use this tool to list all tasks in the task list.\n\n## When to Use This Tool\n\n- To see what tasks are available to work on (status: 'pending', no owner, not blocked)\n- To check overall progress on the project\n- To find tasks that are blocked and need dependencies resolved\n- After completing a task, to check for newly unblocked work or claim the next available task\n- **Prefer working on tasks in ID order** (lowest ID first) when multiple tasks are available, as earlier tasks often set up context for later ones\n\n## Output\n\nReturns a summary of each task:\n- **id**: Task identifier (use with TaskGet, TaskUpdate)\n- **subject**: Brief description of the task\n- **status**: 'pending', 'in_progress', or 'completed'\n- **owner**: Agent ID if assigned, empty if available\n- **blockedBy**: List of open task IDs that must be resolved first (tasks with blockedBy cannot be claimed until dependencies resolve)\n\nUse TaskGet with a specific task ID to view full details including description and comments.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}},{"name":"mcp__chrome_devtools__click","description":"Clicks on the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"dblClick":{"type":"boolean","description":"Set to true for double clicks. Default is false."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__close_page","description":"Closes the page by its index. The last open page cannot be closed.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to close. Call list_pages to list pages."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__drag","description":"Drag an element onto another element","input_schema":{"type":"object","properties":{"from_uid":{"type":"string","description":"The uid of the element to drag"},"to_uid":{"type":"string","description":"The uid of the element to drop into"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["from_uid","to_uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__emulate","description":"Emulates various features on the selected page.","input_schema":{"type":"object","properties":{"networkConditions":{"type":"string","enum":["No emulation","Offline","Slow 3G","Fast 3G","Slow 4G","Fast 4G"],"description":"Throttle network. Set to \"No emulation\" to disable. If omitted, conditions remain unchanged."},"cpuThrottlingRate":{"type":"number","minimum":1,"maximum":20,"description":"Represents the CPU slowdown factor. Set the rate to 1 to disable throttling. If omitted, throttling remains unchanged."},"geolocation":{"anyOf":[{"type":"object","properties":{"latitude":{"type":"number","minimum":-90,"maximum":90,"description":"Latitude between -90 and 90."},"longitude":{"type":"number","minimum":-180,"maximum":180,"description":"Longitude between -180 and 180."}},"required":["latitude","longitude"],"additionalProperties":false},{"type":"null"}],"description":"Geolocation to emulate. Set to null to clear the geolocation override."},"userAgent":{"type":["string","null"],"description":"User agent to emulate. Set to null to clear the user agent override."},"colorScheme":{"type":"string","enum":["dark","light","auto"],"description":"Emulate the dark or the light mode. Set to \"auto\" to reset to the default."},"viewport":{"anyOf":[{"type":"object","properties":{"width":{"type":"integer","minimum":0,"description":"Page width in pixels."},"height":{"type":"integer","minimum":0,"description":"Page height in pixels."},"deviceScaleFactor":{"type":"number","minimum":0,"description":"Specify device scale factor (can be thought of as dpr)."},"isMobile":{"type":"boolean","description":"Whether the meta viewport tag is taken into account. Defaults to false."},"hasTouch":{"type":"boolean","description":"Specifies if viewport supports touch events. This should be set to true for mobile devices."},"isLandscape":{"type":"boolean","description":"Specifies if viewport is in landscape mode. Defaults to false."}},"required":["width","height"],"additionalProperties":false},{"type":"null"}],"description":"Viewport to emulate. Set to null to reset to the default viewport."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__evaluate_script","description":"Evaluate a JavaScript function inside the currently selected page. Returns the response as JSON\nso returned values have to JSON-serializable.","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"A JavaScript function declaration to be executed by the tool in the currently selected page.\nExample without arguments: `() => {\n  return document.title\n}` or `async () => {\n  return await fetch(\"example.com\")\n}`.\nExample with arguments: `(el) => {\n  return el.innerText;\n}`\n"},"args":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"}},"required":["uid"],"additionalProperties":false},"description":"An optional list of arguments to pass to the function."}},"required":["function"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__fill","description":"Type text into a input, text area or select an option from a <select> element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"value":{"type":"string","description":"The value to fill in"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","value"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__fill_form","description":"Fill out multiple form elements at once","input_schema":{"type":"object","properties":{"elements":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the element to fill out"},"value":{"type":"string","description":"Value for the element"}},"required":["uid","value"],"additionalProperties":false},"description":"Elements from snapshot to fill out."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["elements"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__get_console_message","description":"Gets a console message by its ID. You can get all messages by calling list_console_messages.","input_schema":{"type":"object","properties":{"msgid":{"type":"number","description":"The msgid of a console message on the page from the listed console messages"}},"required":["msgid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__get_network_request","description":"Gets a network request by an optional reqid, if omitted returns the currently selected request in the DevTools Network panel.","input_schema":{"type":"object","properties":{"reqid":{"type":"number","description":"The reqid of the network request. If omitted returns the currently selected request in the DevTools Network panel."},"requestFilePath":{"type":"string","description":"The absolute or relative path to save the request body to. If omitted, the body is returned inline."},"responseFilePath":{"type":"string","description":"The absolute or relative path to save the response body to. If omitted, the body is returned inline."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__handle_dialog","description":"If a browser dialog was opened, use this command to handle it","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["accept","dismiss"],"description":"Whether to dismiss or accept the dialog"},"promptText":{"type":"string","description":"Optional prompt text to enter into the dialog."}},"required":["action"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__hover","description":"Hover over the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__list_console_messages","description":"List all console messages for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of messages to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"types":{"type":"array","items":{"type":"string","enum":["log","debug","info","error","warn","dir","dirxml","table","trace","clear","startGroup","startGroupCollapsed","endGroup","assert","profile","profileEnd","count","timeEnd","verbose","issue"]},"description":"Filter messages to only return messages of the specified resource types. When omitted or empty, returns all messages."},"includePreservedMessages":{"type":"boolean","default":false,"description":"Set to true to return the preserved messages over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__list_network_requests","description":"List all requests for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of requests to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"resourceTypes":{"type":"array","items":{"type":"string","enum":["document","stylesheet","image","media","font","script","texttrack","xhr","fetch","prefetch","eventsource","websocket","manifest","signedexchange","ping","cspviolationreport","preflight","fedcm","other"]},"description":"Filter requests to only return requests of the specified resource types. When omitted or empty, returns all requests."},"includePreservedRequests":{"type":"boolean","default":false,"description":"Set to true to return the preserved requests over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__list_pages","description":"Get a list of pages open in the browser.","input_schema":{"type":"object","properties":{},"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__navigate_page","description":"Navigates the currently selected page to a URL.","input_schema":{"type":"object","properties":{"type":{"type":"string","enum":["url","back","forward","reload"],"description":"Navigate the page by URL, back or forward in history, or reload."},"url":{"type":"string","description":"Target URL (only type=url)"},"ignoreCache":{"type":"boolean","description":"Whether to ignore cache on reload."},"handleBeforeUnload":{"type":"string","enum":["accept","decline"],"description":"Whether to auto accept or beforeunload dialogs triggered by this navigation. Default is accept."},"initScript":{"type":"string","description":"A JavaScript script to be executed on each new document before any other scripts for the next navigation."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__new_page","description":"Creates a new page","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"URL to load in a new page."},"background":{"type":"boolean","description":"Whether to open the page in the background without bringing it to the front. Default is false (foreground)."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["url"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__performance_analyze_insight","description":"Provides more detailed information on a specific Performance Insight of an insight set that was highlighted in the results of a trace recording.","input_schema":{"type":"object","properties":{"insightSetId":{"type":"string","description":"The id for the specific insight set. Only use the ids given in the \"Available insight sets\" list."},"insightName":{"type":"string","description":"The name of the Insight you want more information on. For example: \"DocumentLatency\" or \"LCPBreakdown\""}},"required":["insightSetId","insightName"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__performance_start_trace","description":"Starts a performance trace recording on the selected page. This can be used to look for performance problems and insights to improve the performance of the page. It will also report Core Web Vital (CWV) scores for the page.","input_schema":{"type":"object","properties":{"reload":{"type":"boolean","description":"Determines if, once tracing has started, the current selected page should be automatically reloaded. Navigate the page to the right URL using the navigate_page tool BEFORE starting the trace if reload or autoStop is set to true."},"autoStop":{"type":"boolean","description":"Determines if the trace recording should be automatically stopped."},"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"required":["reload","autoStop"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__performance_stop_trace","description":"Stops the active performance trace recording on the selected page.","input_schema":{"type":"object","properties":{"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__press_key","description":"Press a key or key combination. Use this when other input methods like fill() cannot be used (e.g., keyboard shortcuts, navigation keys, or special key combinations).","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"A key or a combination (e.g., \"Enter\", \"Control+A\", \"Control++\", \"Control+Shift+R\"). Modifiers: Control, Shift, Alt, Meta"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["key"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__resize_page","description":"Resizes the selected page's window so that the page has specified dimension","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Page width"},"height":{"type":"number","description":"Page height"}},"required":["width","height"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__select_page","description":"Select a page as a context for future tool calls.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to select. Call list_pages to get available pages."},"bringToFront":{"type":"boolean","description":"Whether to focus the page and bring it to the top."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__take_screenshot","description":"Take a screenshot of the page or element.","input_schema":{"type":"object","properties":{"format":{"type":"string","enum":["png","jpeg","webp"],"default":"png","description":"Type of format to save the screenshot as. Default is \"png\""},"quality":{"type":"number","minimum":0,"maximum":100,"description":"Compression quality for JPEG and WebP formats (0-100). Higher values mean better quality but larger file sizes. Ignored for PNG format."},"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot. If omitted takes a pages screenshot."},"fullPage":{"type":"boolean","description":"If set to true takes a screenshot of the full page instead of the currently visible viewport. Incompatible with uid."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the screenshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__take_snapshot","description":"Take a text snapshot of the currently selected page based on the a11y tree. The snapshot lists page elements along with a unique\nidentifier (uid). Always use the latest snapshot. Prefer taking a snapshot over taking a screenshot. The snapshot indicates the element selected\nin the DevTools Elements panel (if any).","input_schema":{"type":"object","properties":{"verbose":{"type":"boolean","description":"Whether to include all possible information available in the full a11y tree. Default is false."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the snapshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__upload_file","description":"Upload a file through a provided element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the file input element or an element that will open file chooser on the page from the page content snapshot"},"filePath":{"type":"string","description":"The local path of the file to upload"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","filePath"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__wait_for","description":"Wait for the specified text to appear on the selected page.","input_schema":{"type":"object","properties":{"text":{"type":"string","description":"Text to appear on the page"},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["text"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__playwright__browser_close","description":"Close the page","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_resize","description":"Resize the browser window","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Width of the browser window"},"height":{"type":"number","description":"Height of the browser window"}},"required":["width","height"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_console_messages","description":"Returns all console messages","input_schema":{"type":"object","properties":{"level":{"default":"info","description":"Level of the console messages to return. Each level includes the messages of more severe levels. Defaults to \"info\".","type":"string","enum":["error","warning","info","debug"]},"filename":{"description":"Filename to save the console messages to. If not provided, messages are returned as text.","type":"string"}},"required":["level"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_handle_dialog","description":"Handle a dialog","input_schema":{"type":"object","properties":{"accept":{"type":"boolean","description":"Whether to accept the dialog."},"promptText":{"description":"The text of the prompt in case of a prompt dialog.","type":"string"}},"required":["accept"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_evaluate","description":"Evaluate JavaScript expression on page or element","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"() => { /* code */ } or (element) => { /* code */ } when element is provided"},"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot","type":"string"}},"required":["function"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_file_upload","description":"Upload one or multiple files","input_schema":{"type":"object","properties":{"paths":{"description":"The absolute paths to the files to upload. Can be single file or multiple files. If omitted, file chooser is cancelled.","type":"array","items":{"type":"string"}}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_fill_form","description":"Fill multiple form fields","input_schema":{"type":"object","properties":{"fields":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Human-readable field name"},"type":{"type":"string","enum":["textbox","checkbox","radio","combobox","slider"],"description":"Type of the field"},"ref":{"type":"string","description":"Exact target field reference from the page snapshot"},"value":{"type":"string","description":"Value to fill in the field. If the field is a checkbox, the value should be `true` or `false`. If the field is a combobox, the value should be the text of the option."}},"required":["name","type","ref","value"],"additionalProperties":false},"description":"Fields to fill in"}},"required":["fields"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_install","description":"Install the browser specified in the config. Call this if you get an error about the browser not being installed.","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_press_key","description":"Press a key on the keyboard","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"Name of the key to press or a character to generate, such as `ArrowLeft` or `a`"}},"required":["key"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_type","description":"Type text into editable element","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"text":{"type":"string","description":"Text to type into the element"},"submit":{"description":"Whether to submit entered text (press Enter after)","type":"boolean"},"slowly":{"description":"Whether to type one character at a time. Useful for triggering key handlers in the page. By default entire text is filled in at once.","type":"boolean"}},"required":["ref","text"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_navigate","description":"Navigate to a URL","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"The URL to navigate to"}},"required":["url"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_navigate_back","description":"Go back to the previous page in the history","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_network_requests","description":"Returns all network requests since loading the page","input_schema":{"type":"object","properties":{"includeStatic":{"default":false,"description":"Whether to include successful static resources like images, fonts, scripts, etc. Defaults to false.","type":"boolean"},"filename":{"description":"Filename to save the network requests to. If not provided, requests are returned as text.","type":"string"}},"required":["includeStatic"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_run_code","description":"Run Playwright code snippet","input_schema":{"type":"object","properties":{"code":{"type":"string","description":"A JavaScript function containing Playwright code to execute. It will be invoked with a single argument, page, which you can use for any page interaction. For example: `async (page) => { await page.getByRole('button', { name: 'Submit' }).click(); return await page.title(); }`"}},"required":["code"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_take_screenshot","description":"Take a screenshot of the current page. You can't perform actions based on the screenshot, use browser_snapshot for actions.","input_schema":{"type":"object","properties":{"type":{"default":"png","description":"Image format for the screenshot. Default is png.","type":"string","enum":["png","jpeg"]},"filename":{"description":"File name to save the screenshot to. Defaults to `page-{timestamp}.{png|jpeg}` if not specified. Prefer relative file names to stay within the output directory.","type":"string"},"element":{"description":"Human-readable element description used to obtain permission to screenshot the element. If not provided, the screenshot will be taken of viewport. If element is provided, ref must be provided too.","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot. If not provided, the screenshot will be taken of viewport. If ref is provided, element must be provided too.","type":"string"},"fullPage":{"description":"When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport. Cannot be used with element screenshots.","type":"boolean"}},"required":["type"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_snapshot","description":"Capture accessibility snapshot of the current page, this is better than screenshot","input_schema":{"type":"object","properties":{"filename":{"description":"Save snapshot to markdown file instead of returning it in the response.","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_click","description":"Perform click on a web page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"doubleClick":{"description":"Whether to perform a double click instead of a single click","type":"boolean"},"button":{"description":"Button to click, defaults to left","type":"string","enum":["left","right","middle"]},"modifiers":{"description":"Modifier keys to press","type":"array","items":{"type":"string","enum":["Alt","Control","ControlOrMeta","Meta","Shift"]}}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_drag","description":"Perform drag and drop between two elements","input_schema":{"type":"object","properties":{"startElement":{"type":"string","description":"Human-readable source element description used to obtain the permission to interact with the element"},"startRef":{"type":"string","description":"Exact source element reference from the page snapshot"},"endElement":{"type":"string","description":"Human-readable target element description used to obtain the permission to interact with the element"},"endRef":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["startElement","startRef","endElement","endRef"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_hover","description":"Hover over element on page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_select_option","description":"Select an option in a dropdown","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"values":{"type":"array","items":{"type":"string"},"description":"Array of values to select in the dropdown. This can be a single value or multiple values."}},"required":["ref","values"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_tabs","description":"List, create, close, or select a browser tab.","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["list","new","close","select"],"description":"Operation to perform"},"index":{"description":"Tab index, used for close/select. If omitted for close, current tab is closed.","type":"number"}},"required":["action"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_wait_for","description":"Wait for text to appear or disappear or a specified time to pass","input_schema":{"type":"object","properties":{"time":{"description":"The time to wait in seconds","type":"number"},"text":{"description":"The text to wait for","type":"string"},"textGone":{"description":"The text to wait for to disappear","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"},"max_tokens":32000,"stream":true}

[2026-01-31T16:56:10.194Z] POST /v1/messages?beta=true
Headers: {
  "host": "localhost:20202",
  "connection": "keep-alive",
  "accept": "application/json",
  "x-stainless-retry-count": "0",
  "x-stainless-timeout": "3000",
  "x-stainless-lang": "js",
  "x-stainless-package-version": "0.70.0",
  "x-stainless-os": "Linux",
  "x-stainless-arch": "x64",
  "x-stainless-runtime": "node",
  "x-stainless-runtime-version": "v22.16.0",
  "anthropic-dangerous-direct-browser-access": "true",
  "anthropic-version": "2023-06-01",
  "x-api-key": "AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "x-app": "cli",
  "user-agent": "claude-cli/2.1.25 (external, cli, agent-sdk/0.2.25)",
  "authorization": "Bearer AIzaSyAVlxCGCXdIwSpA19CbRkpIMjNJGnlMSns",
  "content-type": "application/json",
  "anthropic-beta": "claude-code-20250219,interleaved-thinking-2025-05-14,context-management-2025-06-27,prompt-caching-scope-2026-01-05",
  "accept-language": "*",
  "sec-fetch-mode": "cors",
  "accept-encoding": "gzip, deflate",
  "sentry-trace": "f691e23d3b7540b3b5a693b63433703d-a118afab26c216fa",
  "baggage": "sentry-environment=external,sentry-release=2.1.25,sentry-public_key=e531a1d9ec1de9064fae9d4affb0b0f4,sentry-trace_id=f691e23d3b7540b3b5a693b63433703d",
  "content-length": "153206"
}
Body: {"model":"gemini-claude-opus-4-5-thinking","messages":[{"role":"user","content":[{"type":"text","text":"<system-reminder>\nSessionStart:startup hook success: Session startup. Project: single-repo | Plan naming: {date}-{issue}-{slug}\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nThe following skills are available for use with the Skill tool:\n\n- keybindings-help: Use when the user wants to customize keyboard shortcuts, rebind keys, add chord bindings, or modify ~/.claude/keybindings.json. Examples: \"rebind ctrl+s\", \"add a chord shortcut\", \"change the submit key\", \"customize keybindings\".\n- aesthetic: Create aesthetically beautiful interfaces following proven design principles. Use when building UI/UX, analyzing designs from inspiration sites, generating design images with ai-multimodal, implementing visual hierarchy and color theory, adding micro-interactions, or creating design documentation. Includes workflows for capturing and analyzing inspiration screenshots with chrome-devtools and ai-multimodal, iterative design image generation until aesthetic standards are met, and comprehensive design system guidance covering BEAUTIFUL (aesthetic principles), RIGHT (functionality/accessibility), SATISFYING (micro-interactions), and PEAK (storytelling) stages. Integrates with chrome-devtools, ai-multimodal, media-processing, ui-styling, and web-frameworks skills.\n- ai-artist: Craft prompts for AI models (text, image, video). Use for Midjourney, DALL-E, Stable Diffusion, Flux, Veo, prompt engineering, style keywords, negative prompts, iterative refinement.\n- ai-multimodal: Analyze images/audio/video with Gemini API (better vision than Claude). Generate images (Imagen 4), videos (Veo 3). Use for vision analysis, transcription, OCR, design extraction, multimodal AI.\n- backend-development: Build backends with Node.js, Python, Go (NestJS, FastAPI, Django). Use for REST/GraphQL/gRPC APIs, auth (OAuth, JWT), databases, microservices, security (OWASP), Docker/K8s.\n- better-auth: Add authentication with Better Auth (TypeScript). Use for email/password, OAuth providers (Google, GitHub), 2FA/MFA, passkeys/WebAuthn, sessions, RBAC, rate limiting.\n- brainstorming: Brainstorm solutions with trade-off analysis and brutal honesty. Use for ideation, architecture decisions, technical debates, feature exploration, feasibility assessment, design discussions.\n- chrome-devtools: Automate browsers with Puppeteer CLI scripts and persistent sessions. Use for screenshots, performance analysis, network monitoring, web scraping, form automation, JavaScript debugging.\n- code-review: Review code quality, receive feedback with technical rigor, verify completion claims. Use before PRs, after implementing features, when claiming task completion, for subagent reviews.\n- context-engineering: Check context usage limits, monitor time remaining, optimize token consumption, debug context failures. Use when asking about context percentage, rate limits, usage warnings, context optimization, agent architectures, memory systems.\n- copywriting: Conversion copywriting formulas, headline templates, email copy patterns, landing page structures, CTA optimization, and writing style extraction. Activate for writing high-converting copy, crafting headlines, email campaigns, landing pages, or applying custom writing styles from assets/writing-styles/ directory.\n- databases: Design schemas, write queries for MongoDB and PostgreSQL. Use for database design, SQL/NoSQL queries, aggregation pipelines, indexes, migrations, replication, performance optimization, psql CLI.\n- debugging: Debug systematically with root cause analysis before fixes. Use for bugs, test failures, unexpected behavior, performance issues, call stack tracing, multi-layer validation.\n- devops: Deploy to Cloudflare (Workers, R2, D1, KV, Pages), Docker containers, GCP (Cloud Run, GKE). Use for serverless, edge computing, CI/CD pipelines, container orchestration.\n- docs-seeker: Search library/framework documentation via llms.txt (context7.com). Use for API docs, GitHub repository analysis, technical documentation lookup, latest library features.\n- fixing: Fix bugs, errors, test failures, CI/CD issues with intelligent routing. Use when reporting bugs, type errors, log errors, UI issues, code problems. Auto-classifies complexity and activates relevant skills.\n- frontend-design: Create polished frontend interfaces from designs/screenshots with high design quality. Use for web components, pages, replicating UI designs, extracting design guidelines, avoiding AI slop aesthetics.\n- frontend-design-pro: Creates jaw-dropping, production-ready frontend interfaces AND delivers perfectly matched real photos (Unsplash/Pexels direct links) OR flawless custom image-generation prompts for hero images, backgrounds, and illustrations. Zero AI slop, zero fake URLs.\n- frontend-development: Build React/TypeScript frontends with modern patterns. Use for components, Suspense, lazy loading, useSuspenseQuery, MUI v7 styling, TanStack Router, performance optimization.\n- git: Git operations with conventional commits. Use for staging, committing, pushing, PRs, merges. Auto-splits commits by type/scope. Security scans for secrets.\n- google-adk-python: Build AI agents with Google ADK Python (Agent Development Kit). Use for multi-agent systems, workflow agents (sequential/parallel/loop), Vertex AI deployment, tool integration, human-in-the-loop.\n- markdown-novel-viewer: View markdown files with calm, book-like reading experience via HTTP server. Use for long-form content, documentation preview, novel reading, report viewing, distraction-free reading.\n- mcp-builder: Build MCP servers for LLM-external service integration. Use for FastMCP (Python), MCP SDK (Node/TypeScript), tool design, API integration, resource providers.\n- mcp-management: Manage MCP servers - discover, analyze, execute tools/prompts/resources. Use for MCP integrations, intelligent tool selection, multi-server management, context-efficient capability discovery.\n- media-processing: Process media with FFmpeg (video/audio), ImageMagick (images), RMBG (AI background removal). Use for encoding, format conversion, filters, thumbnails, batch processing, HLS/DASH streaming.\n- mermaidjs-v11: Create diagrams with Mermaid.js v11 syntax. Use for flowcharts, sequence diagrams, class diagrams, ER diagrams, Gantt charts, state diagrams, architecture diagrams, timelines, user journeys.\n- mobile-development: Build mobile apps with React Native, Flutter, Swift/SwiftUI, Kotlin/Jetpack Compose. Use for iOS/Android, mobile UX, performance optimization, offline-first, app store deployment.\n- payment-integration: Integrate payments with SePay (VietQR, Vietnamese bank transfers) and Polar (global SaaS subscriptions, billing). Use for checkout flows, webhooks, QR codes, subscription management.\n- planning: Plan implementations, design architectures, create technical roadmaps with detailed phases. Use for feature planning, system design, solution architecture, implementation strategy, phase documentation.\n- plans-kanban: View plans dashboard with progress tracking and timeline visualization. Use for kanban boards, plan status overview, phase progress, milestone tracking, project visibility.\n- problem-solving: Apply systematic problem-solving techniques when stuck. Use for complexity spirals, innovation blocks, recurring patterns, assumption constraints, simplification cascades, scale uncertainty.\n- react-best-practices: React and Next.js performance optimization guidelines from Vercel Engineering. This skill should be used when writing, reviewing, or refactoring React/Next.js code to ensure optimal performance patterns. Triggers on tasks involving React components, Next.js pages, data fetching, bundle optimization, or performance improvements.\n- repomix: Pack repositories into AI-friendly files with Repomix (XML, Markdown, plain text). Use for codebase snapshots, LLM context preparation, security audits, third-party library analysis.\n- research: Research technical solutions, analyze architectures, gather requirements thoroughly. Use for technology evaluation, best practices research, solution design, scalability/security/maintainability analysis.\n- sequential-thinking: Apply step-by-step analysis for complex problems with revision capability. Use for multi-step reasoning, hypothesis verification, adaptive planning, problem decomposition, course correction.\n- shopify: Build Shopify apps, extensions, themes with Shopify CLI. Use for GraphQL/REST APIs, Polaris UI, Liquid templates, checkout customization, webhooks, billing integration.\n- skill-creator: Create or update Claude skills with specialized knowledge and workflows. Use for new skills, skill references, skill scripts, optimizing existing skills, extending Claude's capabilities.\n- template-skill: Replace with description of the skill and when Claude should use it.\n- threejs: Build 3D web apps with Three.js (WebGL/WebGPU). Use for 3D scenes, animations, custom shaders, PBR materials, VR/XR experiences, games, data visualizations, product configurators.\n- ui-styling: Style UIs with shadcn/ui components (Radix UI + Tailwind CSS). Use for accessible components, themes, dark mode, responsive layouts, design systems, color customization.\n- ui-ux-pro-max: UI/UX design intelligence. 50 styles, 21 palettes, 50 font pairings, 20 charts, 8 stacks (React, Next.js, Vue, Svelte, SwiftUI, React Native, Flutter, Tailwind). Actions: plan, build, create, design, implement, review, fix, improve, optimize, enhance, refactor, check UI/UX code. Projects: website, landing page, dashboard, admin panel, e-commerce, SaaS, portfolio, blog, mobile app, .html, .tsx, .vue, .svelte. Elements: button, modal, navbar, sidebar, card, table, form, chart. Styles: glassmorphism, claymorphism, minimalism, brutalism, neumorphism, bento grid, dark mode, responsive, skeuomorphism, flat design. Topics: color palette, accessibility, animation, layout, typography, font pairing, spacing, hover, shadow, gradient.\n- web-design-guidelines: Review UI code for Web Interface Guidelines compliance. Use when asked to \"review my UI\", \"check accessibility\", \"audit design\", \"review UX\", or \"check my site against best practices\".\n- web-frameworks: Build with Next.js (App Router, RSC, SSR, ISR), Turborepo monorepos. Use for React apps, server rendering, build optimization, caching strategies, shared dependencies.\n- kanban: Plans dashboard with progress tracking and timeline visualization.\n- ck-help: ClaudeKit usage guide - just type naturally\n- brainstorm:  Brainstorm a feature\n- use-mcp: Utilize tools of Model Context Protocol (MCP) servers\n- fix:  Analyze and fix issues [INTELLIGENT ROUTING]\n- bootstrap:  Bootstrap a new project step by step\n- plan:  Intelligent plan creation with prompt enhancement\n- ask:  Answer technical and architectural questions.\n- code:  Start coding & testing an existing plan\n- coding-level: Set your coding experience level for tailored explanations and output format.\n- debug:  Debugging technical issues and providing solutions.\n- preview: Path to markdown file, plan directory, or plans collection\n- watzup:  Review recent changes and wrap up the work\n- journal:  Write some journal entries.\n- scout:  Scout given directories to respond to the user's requests\n- test:  Run tests locally and analyze the summary report.\n- cook:  Implement a feature [step by step]\n- worktree: Create isolated git worktree for parallel development\n- integrate:sepay:  Implement payment integration with SePay.vn\n- integrate:polar:  Implement payment integration with Polar.sh\n- git:pr: Create a pull request\n- git:cm: Stage all files and create a commit.\n- git:cp: Stage, commit and push all code in the current branch\n- git:merge: Merge code from one branch to another\n- cook:auto:fast:  No research. Only scout, plan & implement [\"trust me bro\"]\n- cook:auto:parallel:  Plan parallel phases & execute with fullstack-developer agents\n- bootstrap:auto:fast:  Quickly bootstrap a new project automatically\n- bootstrap:auto:parallel:  Bootstrap project with parallel execution\n- test:ui:  Run UI tests on a website & generate a detailed report.\n- bootstrap:auto:  Bootstrap a new project automatically\n- cook:auto:  Implement a feature automatically (\"trust me bro\")\n- scout:ext:  Use external agentic tools to scout given directories\n- plan:fast:  No research. Only analyze and create an implementation plan\n- plan:ci: Analyze Github Actions logs and provide a plan to fix the issues\n- plan:validate: Validate plan with critical questions interview\n- plan:parallel:  Create detailed plan with parallel-executable phases\n- plan:hard:  Research, analyze, and create an implementation plan\n- plan:archive: Write journal entries and archive specific plans or all plans\n- plan:cro: Create a CRO plan for the given content\n- plan:two:  Research & create an implementation plan with 2 approaches\n- skill:plan: Plan to create a new agent skill\n- skill:add: Add new reference files or scripts to a skill\n- skill:optimize: Optimize an existing agent skill\n- skill:update: Update an existing agent skill [auto]\n- skill:fix-logs: Fix the agent skill based on `logs.txt` file.\n- skill:create: Create a new agent skill\n- review:codebase:  Scan & analyze the codebase.\n- content:fast: Write creative & smart copy [FAST]\n- content:cro: Analyze the current content and optimize for conversion\n- content:enhance: Analyze the current copy issues and enhance it\n- content:good: Write good creative & smart copy [GOOD]\n- skill:optimize:auto: Optimize an existing agent skill [auto]\n- review:codebase:parallel:  Ultrathink edge cases, then parallel verify with code-reviewers\n- fix:fast:  Analyze and fix small issues [FAST]\n- fix:logs:  Analyze logs and fix issues\n- fix:ci:  Analyze Github Actions logs and fix issues\n- fix:parallel:  Analyze & fix issues with parallel fullstack-developer agents\n- fix:test:  Run test suite and fix issues\n- fix:types:  Fix type errors\n- fix:hard:  Use subagents to plan and fix hard issues\n- fix:ui:  Analyze and fix UI issues\n- design:screenshot: Create a design based on screenshot\n- design:fast: Create a quick design\n- design:video: Create a design based on video\n- design:3d: Create immersive interactive 3D designs with Three.js\n- design:describe: Describe a design based on screenshot/video\n- design:good: Create an immersive design\n- code:no-test:  Start coding an existing plan (no testing)\n- code:auto:  [AUTO] Start coding & testing an existing plan (\"trust me bro\")\n- code:parallel:  Execute parallel or sequential phases based on plan structure\n- docs:summarize:  Analyze the codebase and update documentation\n- docs:update:  Analyze the codebase and update documentation\n- docs:init:  Analyze the codebase and create initial documentation\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nUserPromptSubmit hook success: Success\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nUserPromptSubmit hook success: ## Current environment\n- Date time: 1/31/2026, 4:56:10 PM\n- Timezone: UTC\n- Working directory: /home/roxane/projects/tess\n- OS: linux\n- User: undefined\n- Locale: en_US.UTF-8\n- Memory usage: 4MB/15977MB (0%)\n- CPU usage: 3% user / 1% system\n- IMPORTANT: Include these environment information when prompting subagents to perform tasks.\n\n## Rules\n- Read and follow development rules: \"$HOME/.claude/workflows/development-rules.md\"\n- Read and follow documentation management: \"$HOME/.claude/workflows/documentation-management.md\"\n- Markdown files are organized in: Plans  \"plans/\" directory, Docs  \"docs/\" directory\n- Report markdown files in the same directory as the plan file\n- IMPORTANT: DO NOT create markdown files out of \"plans/\" or \"docs/\" directories UNLESS the user explicitly requests it.\n- Activate skills: Run `python $HOME/.claude/scripts/generate_catalogs.py --skills` to generate a skills catalog and analyze it, then activate the relevant skills that are needed for the task during the process.\n- Execute commands: Run `python $HOME/.claude/scripts/generate_catalogs.py --commands` to generate a commands catalog and analyze it, then execute the relevant SlashCommands that are needed for the task during the process.\n- When skills' scripts are failed to execute, always fix them and run again, repeat until success.\n- Follow **YANGI (You Aren't Gonna Need It) - KISS (Keep It Simple, Stupid) - DRY (Don't Repeat Yourself)** principles\n- Sacrifice grammar for the sake of concision when writing reports.\n- In reports, list any unresolved questions at the end, if any.\n- IMPORTANT: Ensure token consumption efficiency while maintaining high quality.\n- IMPORTANT: Include these rules when prompting subagents to perform tasks.\n\n## **[IMPORTANT] Consider Modularization:**\n- Check existing modules before creating new\n- Analyze logical separation boundaries (functions, classes, concerns)\n- Use kebab-case naming with descriptive names, it's fine if the file name is long because this ensures file names are self-documenting for LLM tools (Grep, Glob, Search)\n- Write descriptive code comments\n- After modularization, continue with main task\n- When not to modularize: Markdown files, plain text files, bash scripts, configuration files, environment variables files, etc.\n- IMPORTANT: Include these considerations when prompting subagents to perform tasks.\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nUserPromptSubmit hook success: ## Session\n- DateTime: 1/31/2026, 4:56:10 PM\n- CWD: /home/roxane/projects/tess\n- Timezone: UTC\n- Working directory: /home/roxane/projects/tess\n- OS: linux\n- User: roxane\n- Locale: en_US.UTF-8\n- Memory usage: 5MB/15977MB (0%)\n- CPU usage: 3% user / 1% system\n- Spawning multiple subagents can cause performance issues, spawn and delegate tasks intelligently based on the available system resources.\n- Remember that each subagent only has 200K tokens in context window, spawn and delegate tasks intelligently to make sure their context windows don't get bloated.\n- IMPORTANT: Include these environment information when prompting subagents to perform tasks.\n\n## Rules\n- Read and follow development rules: \"~/.claude/rules/development-rules.md\"\n- Markdown files are organized in: Plans  \"plans/\" directory, Docs  \"docs/\" directory\n- **IMPORTANT:** DO NOT create markdown files out of \"plans/\" or \"docs/\" directories UNLESS the user explicitly requests it.\n- Activate skills: Run `python ~/.claude/scripts/generate_catalogs.py --skills` to generate a skills catalog and analyze it, then activate the relevant skills that are needed for the task during the process.\n- Execute commands: Run `python ~/.claude/scripts/generate_catalogs.py --commands` to generate a commands catalog and analyze it, then execute the relevant SlashCommands that are needed for the task during the process.\n- Python scripts in .claude/skills/: Use `~/.claude/skills/.venv/bin/python3`\n- When skills' scripts are failed to execute, always fix them and run again, repeat until success.\n- Follow **YAGNI (You Aren't Gonna Need It) - KISS (Keep It Simple, Stupid) - DRY (Don't Repeat Yourself)** principles\n- Sacrifice grammar for the sake of concision when writing reports.\n- In reports, list any unresolved questions at the end, if any.\n- IMPORTANT: Ensure token consumption efficiency while maintaining high quality.\n\n## **[IMPORTANT] Consider Modularization:**\n- Check existing modules before creating new\n- Analyze logical separation boundaries (functions, classes, concerns)\n- Use kebab-case naming with descriptive names, it's fine if the file name is long because this ensures file names are self-documenting for LLM tools (Grep, Glob, Search)\n- Write descriptive code comments\n- After modularization, continue with main task\n- When not to modularize: Markdown files, plain text files, bash scripts, configuration files, environment variables files, etc.\n\n## Paths\nReports: /home/roxane/projects/tess/plans/reports/ | Plans: /home/roxane/projects/tess/plans/ | Docs: /home/roxane/projects/tess/docs/ | docs.maxLoc: 800\n\n## Plan Context\n- Plan: none\n- Reports: /home/roxane/projects/tess/plans/reports/\n- Validation: mode=prompt, questions=3-8\n\n## Naming\n- Report: `/home/roxane/projects/tess/plans/reports/{type}-260131-1656-{slug}.md`\n- Plan dir: `/home/roxane/projects/tess/plans/260131-1656-{slug}/`\n- Replace `{type}` with: agent name, report type, or context\n- Replace `{slug}` in pattern with: descriptive-kebab-slug\n</system-reminder>"},{"type":"text","text":"<system-reminder>\nAs you answer the user's questions, you can use the following context:\n# claudeMd\nCodebase and user instructions are shown below. Be sure to adhere to these instructions. IMPORTANT: These instructions OVERRIDE any default behavior and you MUST follow them exactly as written.\n\nContents of /home/roxane/.claude/CLAUDE.md (user's private global instructions for all projects):\n\n# CLAUDE.md\n\nThis file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n## Role & Responsibilities\n\nYour role is to analyze user requirements, delegate tasks to appropriate sub-agents, and ensure cohesive delivery of features that meet specifications and architectural standards.\n\n## Workflows\n\n- Primary workflow: `$HOME/.claude/workflows/primary-workflow.md`\n- Development rules: `$HOME/.claude/workflows/development-rules.md`\n- Orchestration protocols: `$HOME/.claude/workflows/orchestration-protocol.md`\n- Documentation management: `$HOME/.claude/workflows/documentation-management.md`\n- And other workflows: `$HOME/.claude/workflows/*`\n\n**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.\n**IMPORTANT:** You must follow strictly the development rules in `$HOME/.claude/workflows/development-rules.md` file.\n**IMPORTANT:** Before you plan or proceed any implementation, always read the `./README.md` file first to get context.\n**IMPORTANT:** Sacrifice grammar for the sake of concision when writing reports.\n**IMPORTANT:** In reports, list any unresolved questions at the end, if any.\n**IMPORTANT**: For `YYMMDD` dates, use `bash -c 'date +%y%m%d'` instead of model knowledge. Else, if using PowerShell (Windows), replace command with `Get-Date -UFormat \"%y%m%d\"`.\n\n## Documentation Management\n\nWe keep all important docs in `./docs` folder and keep updating them, structure like below:\n\n```\n./docs\n project-overview-pdr.md\n code-standards.md\n codebase-summary.md\n design-guidelines.md\n deployment-guide.md\n system-architecture.md\n project-roadmap.md\n```\n\n**IMPORTANT:** *MUST READ* and *MUST COMPLY* all *INSTRUCTIONS* in project `./CLAUDE.md`, especially *WORKFLOWS* section is *CRITICALLY IMPORTANT*, this rule is *MANDATORY. NON-NEGOTIABLE. NO EXCEPTIONS. MUST REMEMBER AT ALL TIMES!!!*\n\nContents of /home/roxane/.claude/rules/development-rules.md (user's private global instructions for all projects):\n\n# Development Rules\n\n**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.\n**IMPORTANT:** You ALWAYS follow these principles: **YAGNI (You Aren't Gonna Need It) - KISS (Keep It Simple, Stupid) - DRY (Don't Repeat Yourself)**\n\n## General\n- **File Naming**: Use kebab-case for file names with a meaningful name that describes the purpose of the file, doesn't matter if the file name is long, just make sure when LLMs read the file names while using Grep or other tools, they can understand the purpose of the file right away without reading the file content.\n- **File Size Management**: Keep individual code files under 200 lines for optimal context management\n  - Split large files into smaller, focused components/modules\n  - Use composition over inheritance for complex widgets\n  - Extract utility functions into separate modules\n  - Create dedicated service classes for business logic\n- When looking for docs, activate `docs-seeker` skill (`context7` reference) for exploring latest docs.\n- Use `gh` bash command to interact with Github features if needed\n- Use `psql` bash command to query Postgres database for debugging if needed\n- Use `ai-multimodal` skill for describing details of images, videos, documents, etc. if needed\n- Use `ai-multimodal` skill and `imagemagick` skill for generating and editing images, videos, documents, etc. if needed\n- Use `sequential-thinking` and `debugging` skills for sequential thinking, analyzing code, debugging, etc. if needed\n- **[IMPORTANT]** Follow the codebase structure and code standards in `./docs` during implementation.\n- **[IMPORTANT]** Do not just simulate the implementation or mocking them, always implement the real code.\n\n## Code Quality Guidelines\n- Read and follow codebase structure and code standards in `./docs`\n- Don't be too harsh on code linting, but **make sure there are no syntax errors and code are compilable**\n- Prioritize functionality and readability over strict style enforcement and code formatting\n- Use reasonable code quality standards that enhance developer productivity\n- Use try catch error handling & cover security standards\n- Use `code-reviewer` agent to review code after every implementation\n\n## Pre-commit/Push Rules\n- Run linting before commit\n- Run tests before push (DO NOT ignore failed tests just to pass the build or github actions)\n- Keep commits focused on the actual code changes\n- **DO NOT** commit and push any confidential information (such as dotenv files, API keys, database credentials, etc.) to git repository!\n- Create clean, professional commit messages without AI references. Use conventional commit format.\n\n## Code Implementation\n- Write clean, readable, and maintainable code\n- Follow established architectural patterns\n- Implement features according to specifications\n- Handle edge cases and error scenarios\n- **DO NOT** create new enhanced files, update to the existing files directly.\n\nContents of /home/roxane/.claude/rules/documentation-management.md (user's private global instructions for all projects):\n\n# Project Documentation Management\n\n### Roadmap & Changelog Maintenance\n- **Project Roadmap** (`./docs/development-roadmap.md`): Living document tracking project phases, milestones, and progress\n- **Project Changelog** (`./docs/project-changelog.md`): Detailed record of all significant changes, features, and fixes\n- **System Architecture** (`./docs/system-architecture.md`): Detailed record of all significant changes, features, and fixes\n- **Code Standards** (`./docs/code-standards.md`): Detailed record of all significant changes, features, and fixes\n\n### Automatic Updates Required\n- **After Feature Implementation**: Update roadmap progress status and changelog entries\n- **After Major Milestones**: Review and adjust roadmap phases, update success metrics\n- **After Bug Fixes**: Document fixes in changelog with severity and impact\n- **After Security Updates**: Record security improvements and version updates\n- **Weekly Reviews**: Update progress percentages and milestone statuses\n\n### Documentation Triggers\nThe `project-manager` agent MUST update these documents when:\n- A development phase status changes (e.g., from \"In Progress\" to \"Complete\")\n- Major features are implemented or released\n- Significant bugs are resolved or security patches applied\n- Project timeline or scope adjustments are made\n- External dependencies or breaking changes occur\n\n### Update Protocol\n1. **Before Updates**: Always read current roadmap and changelog status\n2. **During Updates**: Maintain version consistency and proper formatting\n3. **After Updates**: Verify links, dates, and cross-references are accurate\n4. **Quality Check**: Ensure updates align with actual implementation progress\n\n### Plans\n\n### Plan Location\nSave plans in `./plans` directory with timestamp and descriptive name.\n\n**Format:** Use naming pattern from `## Naming` section injected by hooks.\n\n**Example:** `plans/251101-1505-authentication-and-profile-implementation/`\n\n#### File Organization\n\n```\nplans/\n 20251101-1505-authentication-and-profile-implementation/\n     research/\n        researcher-XX-report.md\n        ...\n    reports/\n       scout-report.md\n       researcher-report.md\n       ...\n    plan.md                                # Overview access point\n    phase-01-setup-environment.md          # Setup environment\n    phase-02-implement-database.md         # Database models\n    phase-03-implement-api-endpoints.md    # API endpoints\n    phase-04-implement-ui-components.md    # UI components\n    phase-05-implement-authentication.md   # Auth & authorization\n    phase-06-implement-profile.md          # Profile page\n    phase-07-write-tests.md                # Tests\n ...\n```\n\n#### File Structure\n\n##### Overview Plan (plan.md)\n- Keep generic and under 80 lines\n- List each phase with status/progress\n- Link to detailed phase files\n- Key dependencies\n\n##### Phase Files (phase-XX-name.md)\nFully respect the `./docs/development-rules.md` file.\nEach phase file should contain:\n\n**Context Links**\n- Links to related reports, files, documentation\n\n**Overview**\n- Priority\n- Current status\n- Brief description\n\n**Key Insights**\n- Important findings from research\n- Critical considerations\n\n**Requirements**\n- Functional requirements\n- Non-functional requirements\n\n**Architecture**\n- System design\n- Component interactions\n- Data flow\n\n**Related Code Files**\n- List of files to modify\n- List of files to create\n- List of files to delete\n\n**Implementation Steps**\n- Detailed, numbered steps\n- Specific instructions\n\n**Todo List**\n- Checkbox list for tracking\n\n**Success Criteria**\n- Definition of done\n- Validation methods\n\n**Risk Assessment**\n- Potential issues\n- Mitigation strategies\n\n**Security Considerations**\n- Auth/authorization\n- Data protection\n\n**Next Steps**\n- Dependencies\n- Follow-up tasks\n\nContents of /home/roxane/.claude/rules/orchestration-protocol.md (user's private global instructions for all projects):\n\n# Orchestration Protocol\n\n## Delegation Context (MANDATORY)\n\nWhen spawning subagents via Task tool, **ALWAYS** include in prompt:\n\n1. **Work Context Path**: The git root of the PRIMARY files being worked on\n2. **Reports Path**: `{work_context}/plans/reports/` for that project\n3. **Plans Path**: `{work_context}/plans/` for that project\n\n**Example:**\n```\nTask prompt: \"Fix parser bug.\nWork context: /path/to/project-b\nReports: /path/to/project-b/plans/reports/\nPlans: /path/to/project-b/plans/\"\n```\n\n**Rule:** If CWD differs from work context (editing files in different project), use the **work context paths**, not CWD paths.\n\n---\n\n#### Sequential Chaining\nChain subagents when tasks have dependencies or require outputs from previous steps:\n- **Planning  Implementation  Simplification  Testing  Review**: Use for feature development (tests verify simplified code)\n- **Research  Design  Code  Documentation**: Use for new system components\n- Each agent completes fully before the next begins\n- Pass context and outputs between agents in the chain\n\n#### Parallel Execution\nSpawn multiple subagents simultaneously for independent tasks:\n- **Code + Tests + Docs**: When implementing separate, non-conflicting components\n- **Multiple Feature Branches**: Different agents working on isolated features\n- **Cross-platform Development**: iOS and Android specific implementations\n- **Careful Coordination**: Ensure no file conflicts or shared resource contention\n- **Merge Strategy**: Plan integration points before parallel execution begins\n\nContents of /home/roxane/.claude/rules/primary-workflow.md (user's private global instructions for all projects):\n\n# Primary Workflow\n\n**IMPORTANT:** Analyze the skills catalog and activate the skills that are needed for the task during the process.\n**IMPORTANT**: Ensure token efficiency while maintaining high quality.\n\n#### 1. Code Implementation\n- Before you start, delegate to `planner` agent to create a implementation plan with TODO tasks in `./plans` directory.\n- When in planning phase, use multiple `researcher` agents in parallel to conduct research on different relevant technical topics and report back to `planner` agent to create implementation plan.\n- Write clean, readable, and maintainable code\n- Follow established architectural patterns\n- Implement features according to specifications\n- Handle edge cases and error scenarios\n- **DO NOT** create new enhanced files, update to the existing files directly.\n- **[IMPORTANT]** After creating or modifying code file, run compile command/script to check for any compile errors.\n\n#### 2. Code Simplification (MANDATORY)\n- **MUST** delegate to `code-simplifier` agent immediately after implementation\n- Agent refines code for clarity while preserving exact functionality\n- Uses Opus model for high-quality refinement\n- This step is **NON-NEGOTIABLE**  simplify while context is fresh\n\n#### 3. Testing\n- Delegate to `tester` agent to run tests on the **simplified code**\n  - Write comprehensive unit tests\n  - Ensure high code coverage\n  - Test error scenarios\n  - Validate performance requirements\n- Tests verify the FINAL code that will be reviewed and merged\n- **DO NOT** ignore failing tests just to pass the build.\n- **IMPORTANT:** make sure you don't use fake data, mocks, cheats, tricks, temporary solutions, just to pass the build or github actions.\n- **IMPORTANT:** Always fix failing tests follow the recommendations and delegate to `tester` agent to run tests again, only finish your session when all tests pass.\n\n#### 4. Code Quality\n- After testing passes, delegate to `code-reviewer` agent to review clean, tested code.\n- Follow coding standards and conventions\n- Write self-documenting code\n- Add meaningful comments for complex logic\n- Optimize for performance and maintainability\n\n#### 5. Integration\n- Always follow the plan given by `planner` agent\n- Ensure seamless integration with existing code\n- Follow API contracts precisely\n- Maintain backward compatibility\n- Document breaking changes\n- Delegate to `docs-manager` agent to update docs in `./docs` directory if any.\n\n#### 6. Debugging\n- When a user report bugs or issues on the server or a CI/CD pipeline, delegate to `debugger` agent to run tests and analyze the summary report.\n- Read the summary report from `debugger` agent and implement the fix.\n- Delegate to `tester` agent to run tests and analyze the summary report.\n- If the `tester` agent reports failed tests, fix them follow the recommendations and repeat from the **Step 3**.\n\n\n      IMPORTANT: this context may or may not be relevant to your tasks. You should not respond to this context unless it is highly relevant to your task.\n</system-reminder>\n"},{"type":"text","text":"hello\n\n## BACKGROUND SERVERS - CRITICAL\n\nWhen starting servers, you MUST use this EXACT pattern (copy-paste, do not modify):\n\n```bash\nnohup <cmd> > /tmp/<name>.log 2>&1 & echo \"BGPID:$!\"\n```\n\n**CRITICAL PARTS (DO NOT OMIT):**\n- `2>&1` - redirect stderr to stdout\n- `&` - run in background (REQUIRED for $! to work)\n- `echo \"BGPID:$!\"` - output the background PID\n\n**Full example for directus:**\n```bash\nlsof -ti :8055 | xargs kill -9 2>/dev/null; sleep 1 && nohup npx directus start > /tmp/directus.log 2>&1 & echo \"BGPID:$!\"\n```\n\nWithout the full pattern ending in `2>&1 & echo \"BGPID:$!\"`, the UI cannot track the process.","cache_control":{"type":"ephemeral"}}]}],"system":[{"type":"text","text":"You are a Claude agent, built on Anthropic's Claude Agent SDK.","cache_control":{"type":"ephemeral"}}],"tools":[{"name":"Task","description":"Launch a new agent to handle complex, multi-step tasks autonomously. \n\nThe Task tool launches specialized agents (subprocesses) that autonomously handle complex tasks. Each agent type has specific capabilities and tools available to it.\n\nAvailable agent types and the tools they have access to:\n- Bash: Command execution specialist for running bash commands. Use this for git operations, command execution, and other terminal tasks. (Tools: Bash)\n- general-purpose: General-purpose agent for researching complex questions, searching for code, and executing multi-step tasks. When you are searching for a keyword or file and are not confident that you will find the right match in the first few tries use this agent to perform the search for you. (Tools: *)\n- statusline-setup: Use this agent to configure the user's Claude Code status line setting. (Tools: Read, Edit)\n- Explore: Fast agent specialized for exploring codebases. Use this when you need to quickly find files by patterns (eg. \"src/components/**/*.tsx\"), search code for keywords (eg. \"API endpoints\"), or answer questions about the codebase (eg. \"how do API endpoints work?\"). When calling this agent, specify the desired thoroughness level: \"quick\" for basic searches, \"medium\" for moderate exploration, or \"very thorough\" for comprehensive analysis across multiple locations and naming conventions. (Tools: All tools except Task, ExitPlanMode, Edit, Write, NotebookEdit)\n- Plan: Software architect agent for designing implementation plans. Use this when you need to plan the implementation strategy for a task. Returns step-by-step plans, identifies critical files, and considers architectural trade-offs. (Tools: All tools except Task, ExitPlanMode, Edit, Write, NotebookEdit)\n- claude-code-guide: Use this agent when the user asks questions (\"Can Claude...\", \"Does Claude...\", \"How do I...\") about: (1) Claude Code (the CLI tool) - features, hooks, slash commands, MCP servers, settings, IDE integrations, keyboard shortcuts; (2) Claude Agent SDK - building custom agents; (3) Claude API (formerly Anthropic API) - API usage, tool use, Anthropic SDK usage. **IMPORTANT:** Before spawning a new agent, check if there is already a running or recently completed claude-code-guide agent that you can resume using the \"resume\" parameter. (Tools: Glob, Grep, Read, WebFetch, WebSearch)\n- fullstack-pro:frontend-developer: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:backend-architect: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:fullstack-developer: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:database-architect: Agent from fullstack-pro plugin (Tools: All tools)\n- fullstack-pro:typescript-pro: Agent from fullstack-pro plugin (Tools: All tools)\n- copywriter: Use this agent when you need to create high-converting, engagement-driven copy for marketing materials, social media posts, landing pages, email campaigns, product descriptions, or any content that needs to capture attention and drive action. Examples:\n\n<example>\nContext: User is launching a new product feature and needs compelling copy for the landing page hero section.\nuser: \"We just added a new AI-powered code review feature. Can you write a hero headline and subheadline for the landing page?\"\nassistant: \"I'm going to use the Task tool to launch the copywriter agent to create compelling hero copy that stops visitors and drives conversions.\"\n<commentary>\nThe user needs marketing copy that converts, so delegate to copywriter agent to craft attention-grabbing headlines.\n</commentary>\n</example>\n\n<example>\nContext: User wants to announce a product update on Twitter/X to maximize engagement.\nuser: \"We just shipped GitHub auto-invites for ClaudeKit. Need a tweet that'll get people excited.\"\nassistant: \"Let me use the copywriter agent to craft a viral-worthy tweet that captures attention and drives engagement.\"\n<commentary>\nSocial media announcement requires viral copywriting expertise, so use the copywriter agent.\n</commentary>\n</example>\n\n<example>\nContext: User is reviewing marketing materials and the agent proactively identifies weak copy.\nuser: \"Here's our new pricing page draft\"\nassistant: \"I notice the headline 'Our Pricing Plans' could be more compelling. Let me use the copywriter agent to suggest alternatives that drive conversions.\"\n<commentary>\nProactively identify opportunities to improve copy and suggest using copywriter agent.\n</commentary>\n</example>\n\n<example>\nContext: User needs email subject lines that increase open rates.\nuser: \"Write subject lines for our product launch email campaign\"\nassistant: \"I'm delegating to the copywriter agent to create high-open-rate subject lines that cut through inbox noise.\"\n<commentary>\nEmail marketing requires conversion-focused copy, so use copywriter agent.\n</commentary>\n</example> (Tools: All tools)\n- code-reviewer: Use this agent when you need comprehensive code review and quality assessment. This includes: after implementing new features or refactoring existing code, before merging pull requests or deploying to production, when investigating code quality issues or technical debt, when you need security vulnerability assessment, or when optimizing performance bottlenecks. Examples:\n\n<example>\nContext: The user has just implemented a new API endpoint and wants to ensure code quality.\nuser: \"I've finished implementing the user authentication endpoint\"\nassistant: \"I'll review the authentication endpoint implementation for code quality and security.\"\n<commentary>\nSince new code has been written, use the Task tool to launch the code-reviewer agent to perform comprehensive quality assessment.\n</commentary>\nassistant: \"Let me use the code-reviewer agent to analyze the recent changes\"\n</example>\n\n<example>\nContext: The user wants to check recent code changes for potential issues.\nuser: \"Can you review the changes I just made to the database service?\"\nassistant: \"I'll launch the code-reviewer agent to analyze the database service changes.\"\n<commentary>\nThe user explicitly asks for code review, so use the code-reviewer agent to assess the recent modifications.\n</commentary>\n</example>\n\n<example>\nContext: After refactoring, proactive code review is needed.\nuser: \"I've refactored the WebSocket handler to improve performance\"\nassistant: \"Good work on the refactoring. Let me review it for quality and performance.\"\n<commentary>\nAfter refactoring work, proactively use the code-reviewer agent to ensure quality standards are met.\n</commentary>\nassistant: \"I'll use the code-reviewer agent to validate the refactored WebSocket handler\"\n</example> (Tools: All tools)\n- researcher: Use this agent when you need to conduct comprehensive research on software development topics, including investigating new technologies, finding documentation, exploring best practices, or gathering information about plugins, packages, and open source projects. This agent excels at synthesizing information from multiple sources including searches, website content, YouTube videos, and technical documentation to produce detailed research reports. <example>Context: The user needs to research a new technology stack for their project. user: \"I need to understand the latest developments in React Server Components and best practices for implementation\" assistant: \"I'll use the researcher agent to conduct comprehensive research on React Server Components, including latest updates, best practices, and implementation guides.\" <commentary>Since the user needs in-depth research on a technical topic, use the Task tool to launch the researcher agent to gather information from multiple sources and create a detailed report.</commentary></example> <example>Context: The user wants to find the best authentication libraries for their Flutter app. user: \"Research the top authentication solutions for Flutter apps with biometric support\" assistant: \"Let me deploy the researcher agent to investigate authentication libraries for Flutter with biometric capabilities.\" <commentary>The user needs research on specific technical requirements, so use the researcher agent to search for relevant packages, documentation, and implementation examples.</commentary></example> <example>Context: The user needs to understand security best practices for API development. user: \"What are the current best practices for securing REST APIs in 2024?\" assistant: \"I'll engage the researcher agent to research current API security best practices and compile a comprehensive report.\" <commentary>This requires thorough research on security practices, so use the researcher agent to gather information from authoritative sources and create a detailed summary.</commentary></example> (Tools: All tools)\n- git-manager: Stage, commit, and push code changes with conventional commits. Use when user says \"commit\", \"push\", or finishes a feature/fix. (Tools: Glob, Grep, Read, Bash)\n- debugger: Use this agent when you need to investigate issues, analyze system behavior, diagnose performance problems, examine database structures, collect and analyze logs from servers or CI/CD pipelines, run tests for debugging purposes, or optimize system performance. This includes troubleshooting errors, identifying bottlenecks, analyzing failed deployments, investigating test failures, and creating diagnostic reports. Examples:\n\n<example>\nContext: The user needs to investigate why an API endpoint is returning 500 errors.\nuser: \"The /api/users endpoint is throwing 500 errors\"\nassistant: \"I'll use the debugger agent to investigate this issue\"\n<commentary>\nSince this involves investigating an issue, use the Task tool to launch the debugger agent.\n</commentary>\n</example>\n\n<example>\nContext: The user wants to analyze why the CI/CD pipeline is failing.\nuser: \"The GitHub Actions workflow keeps failing on the test step\"\nassistant: \"Let me use the debugger agent to analyze the CI/CD pipeline logs and identify the issue\"\n<commentary>\nThis requires analyzing CI/CD logs and test failures, so use the debugger agent.\n</commentary>\n</example>\n\n<example>\nContext: The user notices performance degradation in the application.\nuser: \"The application response times have increased by 300% since yesterday\"\nassistant: \"I'll launch the debugger agent to analyze system behavior and identify performance bottlenecks\"\n<commentary>\nPerformance analysis and bottleneck identification requires the debugger agent.\n</commentary>\n</example> (Tools: All tools)\n- mcp-manager: Manage MCP (Model Context Protocol) server integrations - discover tools/prompts/resources, analyze relevance for tasks, and execute MCP capabilities. Use when need to work with MCP servers, discover available MCP tools, filter MCP capabilities for specific tasks, execute MCP tools programmatically, or implement MCP client functionality. Keeps main context clean by handling MCP discovery in subagent context. (Tools: All tools)\n- database-admin: Use this agent when you need to work with database systems, including querying for data analysis, diagnosing performance bottlenecks, optimizing database structures, managing indexes, implementing backup and restore strategies, setting up replication, configuring monitoring, managing user permissions, or when you need comprehensive database health assessments and optimization recommendations. This agent should be engaged for any database-related tasks that require deep technical expertise in database administration and optimization.\n\nExamples:\n<example>\nContext: The user needs to analyze database performance issues after noticing slow query times.\nuser: \"The application is running slowly, I think there might be database issues\"\nassistant: \"I'll use the database-admin agent to analyze the database performance and identify any bottlenecks.\"\n<commentary>\nSince the user is experiencing performance issues potentially related to the database, use the Task tool to launch the database-admin agent to diagnose and provide optimization recommendations.\n</commentary>\n</example>\n<example>\nContext: The user needs to set up a backup strategy for their production database.\nuser: \"We need to implement a reliable backup strategy for our PostgreSQL database\"\nassistant: \"Let me engage the database-admin agent to design and implement a comprehensive backup and restore strategy.\"\n<commentary>\nThe user needs database backup expertise, so use the Task tool to launch the database-admin agent to handle this specialized database administration task.\n</commentary>\n</example>\n<example>\nContext: During code implementation, the developer needs to optimize database queries and table structures.\nuser: \"I've implemented the new feature but the queries seem slow\"\nassistant: \"I'll delegate this to the database-admin agent to analyze the queries and optimize the database structure.\"\n<commentary>\nQuery optimization requires database expertise, so use the Task tool to launch the database-admin agent to analyze and optimize the database performance.\n</commentary>\n</example> (Tools: All tools)\n- tester: Use this agent when you need to validate code quality through testing, including running unit and integration tests, analyzing test coverage, validating error handling, checking performance requirements, or verifying build processes. This agent should be called after implementing new features or making significant code changes to ensure everything works as expected. Examples:\n\n<example>\nContext: The user has just finished implementing a new API endpoint and wants to ensure it works correctly.\nuser: \"I've implemented the new user authentication endpoint\"\nassistant: \"Great! Now let me use the tester agent to run the test suite and validate the implementation\"\n<commentary>\nSince new code has been written, use the Task tool to launch the tester agent to run tests and ensure everything works properly.\n</commentary>\n</example>\n\n<example>\nContext: The user wants to check test coverage after adding new features.\nuser: \"Can you check if our test coverage is still above 80%?\"\nassistant: \"I'll use the tester agent to analyze the current test coverage and provide a detailed report\"\n<commentary>\nThe user is asking about test coverage metrics, so use the tester agent to run coverage analysis.\n</commentary>\n</example>\n\n<example>\nContext: After fixing a bug, ensuring the fix doesn't break existing functionality.\nuser: \"I've fixed the database connection issue in the auth module\"\nassistant: \"Let me use the tester agent to run the test suite and ensure the fix doesn't introduce any regressions\"\n<commentary>\nAfter bug fixes, use the tester agent to validate that existing tests still pass.\n</commentary>\n</example> (Tools: All tools)\n- brainstormer: Use this agent when you need to brainstorm software solutions, evaluate architectural approaches, or debate technical decisions before implementation. Examples: - <example>\n    Context: User wants to add a new feature to their application\n    user: \"I want to add real-time notifications to my web app\"\n    assistant: \"Let me use the brainstormer agent to explore the best approaches for implementing real-time notifications\"\n    <commentary>\n    The user needs architectural guidance for a new feature, so use the brainstormer to evaluate options like WebSockets, Server-Sent Events, or push notifications.\n    </commentary>\n  </example>\n- <example>\n    Context: User is considering a major refactoring decision\n    user: \"Should I migrate from REST to GraphQL for my API?\"\n    assistant: \"I'll engage the brainstormer agent to analyze this architectural decision\"\n    <commentary>\n    This requires evaluating trade-offs, considering existing codebase, and debating pros/cons - perfect for the brainstormer.\n    </commentary>\n  </example>\n- <example>\n    Context: User has a complex technical problem to solve\n    user: \"I'm struggling with how to handle file uploads that can be several GB in size\"\n    assistant: \"Let me use the brainstormer agent to explore efficient approaches for large file handling\"\n    <commentary>\n    This requires researching best practices, considering UX/DX implications, and evaluating multiple technical approaches.\n    </commentary>\n  </example> (Tools: All tools)\n- docs-manager: Use this agent when you need to manage technical documentation, establish implementation standards, analyze and update existing documentation based on code changes, write or update Product Development Requirements (PDRs), organize documentation for developer productivity, or produce documentation summary reports. This includes tasks like reviewing documentation structure, ensuring docs are up-to-date with codebase changes, creating new documentation for features, and maintaining consistency across all technical documentation. (Tools: All tools)\n- scout-external: Use this agent when you need to quickly locate relevant files across a large codebase to complete a specific task using external agentic tools (Gemini, OpenCode, etc.). This agent is particularly useful when:\n\n<example>\nContext: User needs to implement a new payment provider integration and needs to find all payment-related files.\nuser: \"I need to add Stripe as a new payment provider. Can you help me find all the relevant files?\"\nassistant: \"I'll use the scout agent to quickly search for payment-related files across the codebase.\"\n<Task tool call to scout with query about payment provider files>\n<commentary>\nThe user needs to locate payment integration files. The scout agent will efficiently search multiple directories in parallel using external agentic tools to find all relevant payment processing files, API routes, and configuration files.\n</commentary>\n</example>\n\n<example>\nContext: User is debugging an authentication issue and needs to find all auth-related components.\nuser: \"There's a bug in the login flow. I need to review all authentication files.\"\nassistant: \"Let me use the scout agent to locate all authentication-related files for you.\"\n<Task tool call to scout with query about authentication files>\n<commentary>\nThe user needs to debug authentication. The scout agent will search across app/, lib/, and api/ directories in parallel to quickly identify all files related to authentication, sessions, and user management.\n</commentary>\n</example>\n\n<example>\nContext: User wants to understand how database migrations work in the project.\nuser: \"How are database migrations structured in this project?\"\nassistant: \"I'll use the scout agent to find all migration-related files and database schema definitions.\"\n<Task tool call to scout with query about database migrations>\n<commentary>\nThe user needs to understand database structure. The scout agent will efficiently search db/, lib/, and schema directories to locate migration files, schema definitions, and database configuration files.\n</commentary>\n</example>\n\nProactively use this agent when:\n- Beginning work on a feature that spans multiple directories\n- User mentions needing to \"find\", \"locate\", or \"search for\" files\n- Starting a debugging session that requires understanding file relationships\n- User asks about project structure or where specific functionality lives\n- Before making changes that might affect multiple parts of the codebase (Tools: Glob, Grep, Read, WebFetch, TodoWrite, WebSearch, Bash, BashOutput, KillShell, ListMcpResourcesTool, ReadMcpResourceTool)\n- planner: Use this agent when you need to research, analyze, and create comprehensive implementation plans for new features, system architectures, or complex technical solutions. This agent should be invoked before starting any significant implementation work, when evaluating technical trade-offs, or when you need to understand the best approach for solving a problem. Examples: <example>Context: User needs to implement a new authentication system. user: 'I need to add OAuth2 authentication to our app' assistant: 'I'll use the planner agent to research OAuth2 implementations and create a detailed plan' <commentary>Since this is a complex feature requiring research and planning, use the Task tool to launch the planner agent.</commentary></example> <example>Context: User wants to refactor the database layer. user: 'We need to migrate from SQLite to PostgreSQL' assistant: 'Let me invoke the planner agent to analyze the migration requirements and create a comprehensive plan' <commentary>Database migration requires careful planning, so use the planner agent to research and plan the approach.</commentary></example> <example>Context: User reports performance issues. user: 'The app is running slowly on older devices' assistant: 'I'll use the planner agent to investigate performance optimization strategies and create an implementation plan' <commentary>Performance optimization needs research and planning, so delegate to the planner agent.</commentary></example> (Tools: All tools)\n- journal-writer: Use this agent when:\n- A test suite fails repeatedly despite multiple fix attempts\n- A critical bug is discovered in production or staging\n- An implementation approach proves fundamentally flawed and requires complete redesign\n- External dependencies (APIs, services, libraries) cause blocking issues\n- Performance bottlenecks are discovered that significantly impact user experience\n- Security vulnerabilities are identified\n- Database migrations fail or cause data integrity issues\n- CI/CD pipelines break unexpectedly\n- Integration conflicts arise between major system components\n- Technical debt reaches a critical threshold requiring immediate attention\n- A feature implementation takes significantly longer than estimated\n- Architectural decisions prove problematic in practice\n\nExamples:\n<example>\nContext: After implementing a new payment webhook handler, tests are failing with intermittent database connection errors.\nuser: \"The Sepay webhook tests keep failing with connection timeouts. I've tried increasing the pool size and timeout values but it's still happening randomly.\"\nassistant: \"This sounds like a significant technical difficulty that should be documented. Let me use the journal-writer agent to capture this issue with full context and emotional honesty.\"\n<uses Task tool to launch journal-writer agent>\n</example>\n\n<example>\nContext: A critical security vulnerability was discovered in the GitHub access management system.\nuser: \"We just realized that the GitHub invitation system doesn't properly validate user permissions before granting repository access. This could allow unauthorized users to access private repos.\"\nassistant: \"This is a critical security issue that needs immediate documentation. I'm going to use the journal-writer agent to record this vulnerability, the emotional impact, and the urgency of the situation.\"\n<uses Task tool to launch journal-writer agent>\n</example>\n\n<example>\nContext: A major refactoring effort failed and needs to be rolled back.\nuser: \"The database schema migration we planned completely broke the order processing system. We need to roll back and rethink our approach.\"\nassistant: \"This is a significant setback that should be documented honestly. Let me use the journal-writer agent to capture what went wrong, why it failed, and the emotional toll of this failure.\"\n<uses Task tool to launch journal-writer agent>\n</example> (Tools: All tools)\n- fullstack-developer: Execute implementation phases from parallel plans. Handles backend (Node.js, APIs, databases), frontend (React, TypeScript), and infrastructure tasks. Designed for parallel execution with strict file ownership boundaries. Use when implementing a specific phase from /plan:parallel output. (Tools: All tools)\n- project-manager: Use this agent when you need comprehensive project oversight and coordination. Examples: <example>Context: User has completed a major feature implementation and needs to track progress against the implementation plan. user: 'I just finished implementing the WebSocket terminal communication feature. Can you check our progress and update the plan?' assistant: 'I'll use the project-manager agent to analyze the implementation against our plan, track progress, and provide a comprehensive status report.' <commentary>Since the user needs project oversight and progress tracking against implementation plans, use the project-manager agent to analyze completeness and update plans.</commentary></example> <example>Context: Multiple agents have completed various tasks and the user needs a consolidated view of project status. user: 'The backend-developer and tester agents have finished their work. What's our overall project status?' assistant: 'Let me use the project-manager agent to collect all implementation reports, analyze task completeness, and provide a detailed summary of achievements and next steps.' <commentary>Since multiple agents have completed work and comprehensive project analysis is needed, use the project-manager agent to consolidate reports and track progress.</commentary></example> (Tools: Glob, Grep, LS, Read, Edit, MultiEdit, Write, NotebookEdit, WebFetch, TodoWrite, WebSearch, BashOutput, KillBash, ListMcpResourcesTool, ReadMcpResourceTool)\n- code-simplifier: Simplifies and refines code for clarity, consistency, and maintainability while preserving all functionality. Focuses on recently modified code unless instructed otherwise. (Tools: All tools)\n- ui-ux-designer: Use this agent when the user needs UI/UX design work including interface designs, wireframes, design systems, user research, responsive layouts, animations, or design documentation. Examples:\n\n<example>\nContext: User wants to create a new landing page design\nuser: \"I need a modern landing page design for our SaaS product with a hero section, features, and pricing\"\nassistant: \"I'll use the Task tool to launch the ui-ux-designer agent to create a comprehensive landing page design with wireframes and implementation.\"\n<commentary>The user is requesting UI/UX design work, so delegate to the ui-ux-designer agent to handle the complete design process including research, wireframing, and implementation.</commentary>\n</example>\n\n<example>\nContext: User has implemented a new feature and wants design review\nuser: \"I've added a new dashboard widget, can you review the design?\"\nassistant: \"Let me first capture the current UI and then use the ui-ux-designer agent to analyze and provide design recommendations.\"\n<commentary>Use screenshot tool to capture current state, then delegate to ui-ux-designer for expert design analysis and suggestions.</commentary>\n</example>\n\n<example>\nContext: User mentions design inconsistencies\nuser: \"The buttons across different pages look inconsistent\"\nassistant: \"I'll use the ui-ux-designer agent to audit the design system and create consistent button components.\"\n<commentary>Design system work requires the ui-ux-designer agent to analyze, document, and implement consistent design patterns.</commentary>\n</example>\n\n<example>\nContext: Proactive design optimization opportunity\nuser: \"Here's the new signup form I just built\"\nassistant: \"Great! Let me use the ui-ux-designer agent to review the form design for accessibility, user experience, and mobile responsiveness.\"\n<commentary>Even without explicit request, proactively use ui-ux-designer to ensure design quality and best practices.</commentary>\n</example> (Tools: All tools)\n- scout: Use this agent when you need to quickly locate relevant files across a large codebase to complete a specific task. This agent is particularly useful when:\n\n<example>\nContext: User needs to implement a new payment provider integration and needs to find all payment-related files.\nuser: \"I need to add Stripe as a new payment provider. Can you help me find all the relevant files?\"\nassistant: \"I'll use the scout agent to quickly search for payment-related files across the codebase.\"\n<Task tool call to scout with query about payment provider files>\n<commentary>\nThe user needs to locate payment integration files. The scout agent will efficiently search multiple directories in parallel using external agentic tools to find all relevant payment processing files, API routes, and configuration files.\n</commentary>\n</example>\n\n<example>\nContext: User is debugging an authentication issue and needs to find all auth-related components.\nuser: \"There's a bug in the login flow. I need to review all authentication files.\"\nassistant: \"Let me use the scout agent to locate all authentication-related files for you.\"\n<Task tool call to scout with query about authentication files>\n<commentary>\nThe user needs to debug authentication. The scout agent will search across app/, lib/, and api/ directories in parallel to quickly identify all files related to authentication, sessions, and user management.\n</commentary>\n</example>\n\n<example>\nContext: User wants to understand how database migrations work in the project.\nuser: \"How are database migrations structured in this project?\"\nassistant: \"I'll use the scout agent to find all migration-related files and database schema definitions.\"\n<Task tool call to scout with query about database migrations>\n<commentary>\nThe user needs to understand database structure. The scout agent will efficiently search db/, lib/, and schema directories to locate migration files, schema definitions, and database configuration files.\n</commentary>\n</example>\n\nProactively use this agent when:\n- Beginning work on a feature that spans multiple directories\n- User mentions needing to \"find\", \"locate\", or \"search for\" files\n- Starting a debugging session that requires understanding file relationships\n- User asks about project structure or where specific functionality lives\n- Before making changes that might affect multiple parts of the codebase (Tools: Glob, Grep, Read, WebFetch, TodoWrite, WebSearch, Bash, BashOutput, KillShell, ListMcpResourcesTool, ReadMcpResourceTool)\n\nWhen using the Task tool, you must specify a subagent_type parameter to select which agent type to use.\n\nWhen NOT to use the Task tool:\n- If you want to read a specific file path, use the Read or Glob tool instead of the Task tool, to find the match more quickly\n- If you are searching for a specific class definition like \"class Foo\", use the Glob tool instead, to find the match more quickly\n- If you are searching for code within a specific file or set of 2-3 files, use the Read tool instead of the Task tool, to find the match more quickly\n- Other tasks that are not related to the agent descriptions above\n\n\nUsage notes:\n- Always include a short description (3-5 words) summarizing what the agent will do\n- Launch multiple agents concurrently whenever possible, to maximize performance; to do that, use a single message with multiple tool uses\n- When the agent is done, it will return a single message back to you. The result returned by the agent is not visible to the user. To show the user the result, you should send a text message back to the user with a concise summary of the result.\n- You can optionally run agents in the background using the run_in_background parameter. When an agent runs in the background, the tool result will include an output_file path. To check on the agent's progress or retrieve its results, use the Read tool to read the output file, or use Bash with `tail` to see recent output. You can continue working while background agents run.\n- Agents can be resumed using the `resume` parameter by passing the agent ID from a previous invocation. When resumed, the agent continues with its full previous context preserved. When NOT resuming, each invocation starts fresh and you should provide a detailed task description with all necessary context.\n- When the agent is done, it will return a single message back to you along with its agent ID. You can use this ID to resume the agent later if needed for follow-up work.\n- Provide clear, detailed prompts so the agent can work autonomously and return exactly the information you need.\n- Agents with \"access to current context\" can see the full conversation history before the tool call. When using these agents, you can write concise prompts that reference earlier context (e.g., \"investigate the error discussed above\") instead of repeating information. The agent will receive all prior messages and understand the context.\n- The agent's outputs should generally be trusted\n- Clearly tell the agent whether you expect it to write code or just to do research (search, file reads, web fetches, etc.), since it is not aware of the user's intent\n- If the agent description mentions that it should be used proactively, then you should try your best to use it without the user having to ask for it first. Use your judgement.\n- If the user specifies that they want you to run agents \"in parallel\", you MUST send a single message with multiple Task tool use content blocks. For example, if you need to launch both a build-validator agent and a test-runner agent in parallel, send a single message with both tool calls.\n\nExample usage:\n\n<example_agent_descriptions>\n\"test-runner\": use this agent after you are done writing code to run tests\n\"greeting-responder\": use this agent when to respond to user greetings with a friendly joke\n</example_agent_description>\n\n<example>\nuser: \"Please write a function that checks if a number is prime\"\nassistant: Sure let me write a function that checks if a number is prime\nassistant: First let me use the Write tool to write a function that checks if a number is prime\nassistant: I'm going to use the Write tool to write the following code:\n<code>\nfunction isPrime(n) {\n  if (n <= 1) return false\n  for (let i = 2; i * i <= n; i++) {\n    if (n % i === 0) return false\n  }\n  return true\n}\n</code>\n<commentary>\nSince a significant piece of code was written and the task was completed, now use the test-runner agent to run the tests\n</commentary>\nassistant: Now let me use the test-runner agent to run the tests\nassistant: Uses the Task tool to launch the test-runner agent\n</example>\n\n<example>\nuser: \"Hello\"\n<commentary>\nSince the user is greeting, use the greeting-responder agent to respond with a friendly joke\n</commentary>\nassistant: \"I'm going to use the Task tool to launch the greeting-responder agent\"\n</example>\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"description":{"description":"A short (3-5 word) description of the task","type":"string"},"prompt":{"description":"The task for the agent to perform","type":"string"},"subagent_type":{"description":"The type of specialized agent to use for this task","type":"string"},"model":{"description":"Optional model to use for this agent. If not specified, inherits from parent. Prefer haiku for quick, straightforward tasks to minimize cost and latency.","type":"string","enum":["sonnet","opus","haiku"]},"resume":{"description":"Optional agent ID to resume from. If provided, the agent will continue from the previous execution transcript.","type":"string"},"run_in_background":{"description":"Set to true to run this agent in the background. The tool result will include an output_file path - use Read tool or Bash tail to check on output.","type":"boolean"},"max_turns":{"description":"Maximum number of agentic turns (API round-trips) before stopping. Used internally for warmup.","type":"integer","exclusiveMinimum":0,"maximum":9007199254740991}},"required":["description","prompt","subagent_type"],"additionalProperties":false}},{"name":"TaskOutput","description":"- Retrieves output from a running or completed task (background shell, agent, or remote session)\n- Takes a task_id parameter identifying the task\n- Returns the task output along with status information\n- Use block=true (default) to wait for task completion\n- Use block=false for non-blocking check of current status\n- Task IDs can be found using the /tasks command\n- Works with all task types: background shells, async agents, and remote sessions","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The task ID to get output from","type":"string"},"block":{"description":"Whether to wait for completion","default":true,"type":"boolean"},"timeout":{"description":"Max wait time in ms","default":30000,"type":"number","minimum":0,"maximum":600000}},"required":["task_id","block","timeout"],"additionalProperties":false}},{"name":"Bash","description":"Executes a given bash command with optional timeout. Working directory persists between commands; shell state (everything else) does not. The shell environment is initialized from the user's profile (bash or zsh).\n\nIMPORTANT: This tool is for terminal operations like git, npm, docker, etc. DO NOT use it for file operations (reading, writing, editing, searching, finding files) - use the specialized tools for this instead.\n\nBefore executing the command, please follow these steps:\n\n1. Directory Verification:\n   - If the command will create new directories or files, first use `ls` to verify the parent directory exists and is the correct location\n   - For example, before running \"mkdir foo/bar\", first use `ls foo` to check that \"foo\" exists and is the intended parent directory\n\n2. Command Execution:\n   - Always quote file paths that contain spaces with double quotes (e.g., cd \"path with spaces/file.txt\")\n   - Examples of proper quoting:\n     - cd \"/Users/name/My Documents\" (correct)\n     - cd /Users/name/My Documents (incorrect - will fail)\n     - python \"/path/with spaces/script.py\" (correct)\n     - python /path/with spaces/script.py (incorrect - will fail)\n   - After ensuring proper quoting, execute the command.\n   - Capture the output of the command.\n\nUsage notes:\n  - The command argument is required.\n  - You can specify an optional timeout in milliseconds (up to 600000ms / 10 minutes). If not specified, commands will timeout after 120000ms (2 minutes).\n  - It is very helpful if you write a clear, concise description of what this command does. For simple commands, keep it brief (5-10 words). For complex commands (piped commands, obscure flags, or anything hard to understand at a glance), add enough context to clarify what it does.\n  - If the output exceeds 30000 characters, output will be truncated before being returned to you.\n  \n  - You can use the `run_in_background` parameter to run the command in the background. Only use this if you don't need the result immediately and are OK being notified when the command completes later. You do not need to check the output right away - you'll be notified when it finishes. You do not need to use '&' at the end of the command when using this parameter.\n  \n  - Avoid using Bash with the `find`, `grep`, `cat`, `head`, `tail`, `sed`, `awk`, or `echo` commands, unless explicitly instructed or when these commands are truly necessary for the task. Instead, always prefer using the dedicated tools for these commands:\n    - File search: Use Glob (NOT find or ls)\n    - Content search: Use Grep (NOT grep or rg)\n    - Read files: Use Read (NOT cat/head/tail)\n    - Edit files: Use Edit (NOT sed/awk)\n    - Write files: Use Write (NOT echo >/cat <<EOF)\n    - Communication: Output text directly (NOT echo/printf)\n  - When issuing multiple commands:\n    - If the commands are independent and can run in parallel, make multiple Bash tool calls in a single message. For example, if you need to run \"git status\" and \"git diff\", send a single message with two Bash tool calls in parallel.\n    - If the commands depend on each other and must run sequentially, use a single Bash call with '&&' to chain them together (e.g., `git add . && git commit -m \"message\" && git push`). For instance, if one operation must complete before another starts (like mkdir before cp, Write before Bash for git operations, or git add before git commit), run these operations sequentially instead.\n    - Use ';' only when you need to run commands sequentially but don't care if earlier commands fail\n    - DO NOT use newlines to separate commands (newlines are ok in quoted strings)\n  - Try to maintain your current working directory throughout the session by using absolute paths and avoiding usage of `cd`. You may use `cd` if the User explicitly requests it.\n    <good-example>\n    pytest /foo/bar/tests\n    </good-example>\n    <bad-example>\n    cd /foo/bar && pytest tests\n    </bad-example>\n\n# Committing changes with git\n\nOnly create commits when requested by the user. If unclear, ask first. When the user asks you to create a new git commit, follow these steps carefully:\n\nGit Safety Protocol:\n- NEVER update the git config\n- NEVER run destructive git commands (push --force, reset --hard, checkout ., restore ., clean -f, branch -D) unless the user explicitly requests these actions. Taking unauthorized destructive actions is unhelpful and can result in lost work, so it's best to ONLY run these commands when given direct instructions \n- NEVER skip hooks (--no-verify, --no-gpg-sign, etc) unless the user explicitly requests it\n- NEVER run force push to main/master, warn the user if they request it\n- CRITICAL: Always create NEW commits rather than amending, unless the user explicitly requests a git amend. When a pre-commit hook fails, the commit did NOT happen   so --amend would modify the PREVIOUS commit, which may result in destroying work or losing previous changes. Instead, after hook failure, fix the issue, re-stage, and create a NEW commit\n- When staging files, prefer adding specific files by name rather than using \"git add -A\" or \"git add .\", which can accidentally include sensitive files (.env, credentials) or large binaries\n- NEVER commit changes unless the user explicitly asks you to. It is VERY IMPORTANT to only commit when explicitly asked, otherwise the user will feel that you are being too proactive\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel, each using the Bash tool:\n  - Run a git status command to see all untracked files. IMPORTANT: Never use the -uall flag as it can cause memory issues on large repos.\n  - Run a git diff command to see both staged and unstaged changes that will be committed.\n  - Run a git log command to see recent commit messages, so that you can follow this repository's commit message style.\n2. Analyze all staged changes (both previously staged and newly added) and draft a commit message:\n  - Summarize the nature of the changes (eg. new feature, enhancement to an existing feature, bug fix, refactoring, test, docs, etc.). Ensure the message accurately reflects the changes and their purpose (i.e. \"add\" means a wholly new feature, \"update\" means an enhancement to an existing feature, \"fix\" means a bug fix, etc.).\n  - Do not commit files that likely contain secrets (.env, credentials.json, etc). Warn the user if they specifically request to commit those files\n  - Draft a concise (1-2 sentences) commit message that focuses on the \"why\" rather than the \"what\"\n  - Ensure it accurately reflects the changes and their purpose\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands:\n   - Add relevant untracked files to the staging area.\n   - Create the commit with a message.\n   - Run git status after the commit completes to verify success.\n   Note: git status depends on the commit completing, so run it sequentially after the commit.\n4. If the commit fails due to pre-commit hook: fix the issue and create a NEW commit\n\nImportant notes:\n- NEVER run additional commands to read or explore code, besides git bash commands\n- NEVER use the TodoWrite or Task tools\n- DO NOT push to the remote repository unless the user explicitly asks you to do so\n- IMPORTANT: Never use git commands with the -i flag (like git rebase -i or git add -i) since they require interactive input which is not supported.\n- IMPORTANT: Do not use --no-edit with git rebase commands, as the --no-edit flag is not a valid option for git rebase.\n- If there are no changes to commit (i.e., no untracked files and no modifications), do not create an empty commit\n- In order to ensure good formatting, ALWAYS pass the commit message via a HEREDOC, a la this example:\n<example>\ngit commit -m \"$(cat <<'EOF'\n   Commit message here.\n   EOF\n   )\"\n</example>\n\n# Creating pull requests\nUse the gh command via the Bash tool for ALL GitHub-related tasks including working with issues, pull requests, checks, and releases. If given a Github URL use the gh command to get the information needed.\n\nIMPORTANT: When the user asks you to create a pull request, follow these steps carefully:\n\n1. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following bash commands in parallel using the Bash tool, in order to understand the current state of the branch since it diverged from the main branch:\n   - Run a git status command to see all untracked files (never use -uall flag)\n   - Run a git diff command to see both staged and unstaged changes that will be committed\n   - Check if the current branch tracks a remote branch and is up to date with the remote, so you know if you need to push to the remote\n   - Run a git log command and `git diff [base-branch]...HEAD` to understand the full commit history for the current branch (from the time it diverged from the base branch)\n2. Analyze all changes that will be included in the pull request, making sure to look at all relevant commits (NOT just the latest commit, but ALL commits that will be included in the pull request!!!), and draft a pull request title and summary:\n   - Keep the PR title short (under 70 characters)\n   - Use the description/body for details, not the title\n3. You can call multiple tools in a single response. When multiple independent pieces of information are requested and all commands are likely to succeed, run multiple tool calls in parallel for optimal performance. run the following commands in parallel:\n   - Create new branch if needed\n   - Push to remote with -u flag if needed\n   - Create PR using gh pr create with the format below. Use a HEREDOC to pass the body to ensure correct formatting.\n<example>\ngh pr create --title \"the pr title\" --body \"$(cat <<'EOF'\n## Summary\n<1-3 bullet points>\n\n## Test plan\n[Bulleted markdown checklist of TODOs for testing the pull request...]\nEOF\n)\"\n</example>\n\nImportant:\n- DO NOT use the TodoWrite or Task tools\n- Return the PR URL when you're done, so the user can see it\n\n# Other common operations\n- View comments on a Github PR: gh api repos/foo/bar/pulls/123/comments","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"command":{"description":"The command to execute","type":"string"},"timeout":{"description":"Optional timeout in milliseconds (max 600000)","type":"number"},"description":{"description":"Clear, concise description of what this command does in active voice. Never use words like \"complex\" or \"risk\" in the description - just describe what it does.\n\nFor simple commands (git, npm, standard CLI tools), keep it brief (5-10 words):\n- ls  \"List files in current directory\"\n- git status  \"Show working tree status\"\n- npm install  \"Install package dependencies\"\n\nFor commands that are harder to parse at a glance (piped commands, obscure flags, etc.), add enough context to clarify what it does:\n- find . -name \"*.tmp\" -exec rm {} \\;  \"Find and delete all .tmp files recursively\"\n- git reset --hard origin/main  \"Discard all local changes and match remote main\"\n- curl -s url | jq '.data[]'  \"Fetch JSON from URL and extract data array elements\"","type":"string"},"run_in_background":{"description":"Set to true to run this command in the background. Use TaskOutput to read the output later.","type":"boolean"},"dangerouslyDisableSandbox":{"description":"Set this to true to dangerously override sandbox mode and run commands without sandboxing.","type":"boolean"},"_simulatedSedEdit":{"description":"Internal: pre-computed sed edit result from preview","type":"object","properties":{"filePath":{"type":"string"},"newContent":{"type":"string"}},"required":["filePath","newContent"],"additionalProperties":false}},"required":["command"],"additionalProperties":false}},{"name":"Glob","description":"- Fast file pattern matching tool that works with any codebase size\n- Supports glob patterns like \"**/*.js\" or \"src/**/*.ts\"\n- Returns matching file paths sorted by modification time\n- Use this tool when you need to find files by name patterns\n- When you are doing an open ended search that may require multiple rounds of globbing and grepping, use the Agent tool instead\n- You can call multiple tools in a single response. It is always better to speculatively perform multiple searches in parallel if they are potentially useful.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The glob pattern to match files against","type":"string"},"path":{"description":"The directory to search in. If not specified, the current working directory will be used. IMPORTANT: Omit this field to use the default directory. DO NOT enter \"undefined\" or \"null\" - simply omit it for the default behavior. Must be a valid directory path if provided.","type":"string"}},"required":["pattern"],"additionalProperties":false}},{"name":"Grep","description":"A powerful search tool built on ripgrep\n\n  Usage:\n  - ALWAYS use Grep for search tasks. NEVER invoke `grep` or `rg` as a Bash command. The Grep tool has been optimized for correct permissions and access.\n  - Supports full regex syntax (e.g., \"log.*Error\", \"function\\s+\\w+\")\n  - Filter files with glob parameter (e.g., \"*.js\", \"**/*.tsx\") or type parameter (e.g., \"js\", \"py\", \"rust\")\n  - Output modes: \"content\" shows matching lines, \"files_with_matches\" shows only file paths (default), \"count\" shows match counts\n  - Use Task tool for open-ended searches requiring multiple rounds\n  - Pattern syntax: Uses ripgrep (not grep) - literal braces need escaping (use `interface\\{\\}` to find `interface{}` in Go code)\n  - Multiline matching: By default patterns match within single lines only. For cross-line patterns like `struct \\{[\\s\\S]*?field`, use `multiline: true`\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"pattern":{"description":"The regular expression pattern to search for in file contents","type":"string"},"path":{"description":"File or directory to search in (rg PATH). Defaults to current working directory.","type":"string"},"glob":{"description":"Glob pattern to filter files (e.g. \"*.js\", \"*.{ts,tsx}\") - maps to rg --glob","type":"string"},"output_mode":{"description":"Output mode: \"content\" shows matching lines (supports -A/-B/-C context, -n line numbers, head_limit), \"files_with_matches\" shows file paths (supports head_limit), \"count\" shows match counts (supports head_limit). Defaults to \"files_with_matches\".","type":"string","enum":["content","files_with_matches","count"]},"-B":{"description":"Number of lines to show before each match (rg -B). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-A":{"description":"Number of lines to show after each match (rg -A). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-C":{"description":"Alias for context.","type":"number"},"context":{"description":"Number of lines to show before and after each match (rg -C). Requires output_mode: \"content\", ignored otherwise.","type":"number"},"-n":{"description":"Show line numbers in output (rg -n). Requires output_mode: \"content\", ignored otherwise. Defaults to true.","type":"boolean"},"-i":{"description":"Case insensitive search (rg -i)","type":"boolean"},"type":{"description":"File type to search (rg --type). Common types: js, py, rust, go, java, etc. More efficient than include for standard file types.","type":"string"},"head_limit":{"description":"Limit output to first N lines/entries, equivalent to \"| head -N\". Works across all output modes: content (limits output lines), files_with_matches (limits file paths), count (limits count entries). Defaults to 0 (unlimited).","type":"number"},"offset":{"description":"Skip first N lines/entries before applying head_limit, equivalent to \"| tail -n +N | head -N\". Works across all output modes. Defaults to 0.","type":"number"},"multiline":{"description":"Enable multiline mode where . matches newlines and patterns can span lines (rg -U --multiline-dotall). Default: false.","type":"boolean"}},"required":["pattern"],"additionalProperties":false}},{"name":"ExitPlanMode","description":"Use this tool when you are in plan mode and have finished writing your plan to the plan file and are ready for user approval.\n\n## How This Tool Works\n- You should have already written your plan to the plan file specified in the plan mode system message\n- This tool does NOT take the plan content as a parameter - it will read the plan from the file you wrote\n- This tool simply signals that you're done planning and ready for the user to review and approve\n- The user will see the contents of your plan file when they review it\n\n## When to Use This Tool\nIMPORTANT: Only use this tool when the task requires planning the implementation steps of a task that requires writing code. For research tasks where you're gathering information, searching files, reading files or in general trying to understand the codebase - do NOT use this tool.\n\n## Before Using This Tool\nEnsure your plan is complete and unambiguous:\n- If you have unresolved questions about requirements or approach, use AskUserQuestion first (in earlier phases)\n- Once your plan is finalized, use THIS tool to request approval\n\n**Important:** Do NOT use AskUserQuestion to ask \"Is this plan okay?\" or \"Should I proceed?\" - that's exactly what THIS tool does. ExitPlanMode inherently requests user approval of your plan.\n\n## Examples\n\n1. Initial task: \"Search for and understand the implementation of vim mode in the codebase\" - Do not use the exit plan mode tool because you are not planning the implementation steps of a task.\n2. Initial task: \"Help me implement yank mode for vim\" - Use the exit plan mode tool after you have finished planning the implementation steps of the task.\n3. Initial task: \"Add a new feature to handle user authentication\" - If unsure about auth method (OAuth, JWT, etc.), use AskUserQuestion first, then use exit plan mode tool after clarifying the approach.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"allowedPrompts":{"description":"Prompt-based permissions needed to implement the plan. These describe categories of actions rather than specific commands.","type":"array","items":{"type":"object","properties":{"tool":{"description":"The tool this prompt applies to","type":"string","enum":["Bash"]},"prompt":{"description":"Semantic description of the action, e.g. \"run tests\", \"install dependencies\"","type":"string"}},"required":["tool","prompt"],"additionalProperties":false}},"pushToRemote":{"description":"Whether to push the plan to a remote Claude.ai session","type":"boolean"},"remoteSessionId":{"description":"The remote session ID if pushed to remote","type":"string"},"remoteSessionUrl":{"description":"The remote session URL if pushed to remote","type":"string"},"remoteSessionTitle":{"description":"The remote session title if pushed to remote","type":"string"}},"additionalProperties":{}}},{"name":"Read","description":"Reads a file from the local filesystem. You can access any file directly by using this tool.\nAssume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned.\n\nUsage:\n- The file_path parameter must be an absolute path, not a relative path\n- By default, it reads up to 2000 lines starting from the beginning of the file\n- You can optionally specify a line offset and limit (especially handy for long files), but it's recommended to read the whole file by not providing these parameters\n- Any lines longer than 2000 characters will be truncated\n- Results are returned using cat -n format, with line numbers starting at 1\n- This tool allows Claude Code to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as Claude Code is a multimodal LLM.\n- This tool can read PDF files (.pdf). PDFs are processed page by page, extracting both text and visual content for analysis.\n- This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.\n- This tool can only read files, not directories. To read a directory, use an ls command via the Bash tool.\n- You can call multiple tools in a single response. It is always better to speculatively read multiple potentially useful files in parallel.\n- You will regularly be asked to read screenshots. If the user provides a path to a screenshot, ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths.\n- If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to read","type":"string"},"offset":{"description":"The line number to start reading from. Only provide if the file is too large to read at once","type":"number"},"limit":{"description":"The number of lines to read. Only provide if the file is too large to read at once.","type":"number"}},"required":["file_path"],"additionalProperties":false}},{"name":"Edit","description":"Performs exact string replacements in files.\n\nUsage:\n- You must use your `Read` tool at least once in the conversation before editing. This tool will error if you attempt an edit without reading the file. \n- When editing text from Read tool output, ensure you preserve the exact indentation (tabs/spaces) as it appears AFTER the line number prefix. The line number prefix format is: spaces + line number + tab. Everything after that tab is the actual file content to match. Never include any part of the line number prefix in the old_string or new_string.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- Only use emojis if the user explicitly requests it. Avoid adding emojis to files unless asked.\n- The edit will FAIL if `old_string` is not unique in the file. Either provide a larger string with more surrounding context to make it unique or use `replace_all` to change every instance of `old_string`.\n- Use `replace_all` for replacing and renaming strings across the file. This parameter is useful if you want to rename a variable for instance.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to modify","type":"string"},"old_string":{"description":"The text to replace","type":"string"},"new_string":{"description":"The text to replace it with (must be different from old_string)","type":"string"},"replace_all":{"description":"Replace all occurences of old_string (default false)","default":false,"type":"boolean"}},"required":["file_path","old_string","new_string"],"additionalProperties":false}},{"name":"Write","description":"Writes a file to the local filesystem.\n\nUsage:\n- This tool will overwrite the existing file if there is one at the provided path.\n- If this is an existing file, you MUST use the Read tool first to read the file's contents. This tool will fail if you did not read the file first.\n- ALWAYS prefer editing existing files in the codebase. NEVER write new files unless explicitly required.\n- NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.\n- Only use emojis if the user explicitly requests it. Avoid writing emojis to files unless asked.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"file_path":{"description":"The absolute path to the file to write (must be absolute, not relative)","type":"string"},"content":{"description":"The content to write to the file","type":"string"}},"required":["file_path","content"],"additionalProperties":false}},{"name":"NotebookEdit","description":"Completely replaces the contents of a specific cell in a Jupyter notebook (.ipynb file) with new source. Jupyter notebooks are interactive documents that combine code, text, and visualizations, commonly used for data analysis and scientific computing. The notebook_path parameter must be an absolute path, not a relative path. The cell_number is 0-indexed. Use edit_mode=insert to add a new cell at the index specified by cell_number. Use edit_mode=delete to delete the cell at the index specified by cell_number.","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"notebook_path":{"description":"The absolute path to the Jupyter notebook file to edit (must be absolute, not relative)","type":"string"},"cell_id":{"description":"The ID of the cell to edit. When inserting a new cell, the new cell will be inserted after the cell with this ID, or at the beginning if not specified.","type":"string"},"new_source":{"description":"The new source for the cell","type":"string"},"cell_type":{"description":"The type of the cell (code or markdown). If not specified, it defaults to the current cell type. If using edit_mode=insert, this is required.","type":"string","enum":["code","markdown"]},"edit_mode":{"description":"The type of edit to make (replace, insert, delete). Defaults to replace.","type":"string","enum":["replace","insert","delete"]}},"required":["notebook_path","new_source"],"additionalProperties":false}},{"name":"WebFetch","description":"\n- Fetches content from a specified URL and processes it using an AI model\n- Takes a URL and a prompt as input\n- Fetches the URL content, converts HTML to markdown\n- Processes the content with the prompt using a small, fast model\n- Returns the model's response about the content\n- Use this tool when you need to retrieve and analyze web content\n\nUsage notes:\n  - IMPORTANT: If an MCP-provided web fetch tool is available, prefer using that tool instead of this one, as it may have fewer restrictions.\n  - The URL must be a fully-formed valid URL\n  - HTTP URLs will be automatically upgraded to HTTPS\n  - The prompt should describe what information you want to extract from the page\n  - This tool is read-only and does not modify any files\n  - Results may be summarized if the content is very large\n  - Includes a self-cleaning 15-minute cache for faster responses when repeatedly accessing the same URL\n  - When a URL redirects to a different host, the tool will inform you and provide the redirect URL in a special format. You should then make a new WebFetch request with the redirect URL to fetch the content.\n  - For GitHub URLs, prefer using the gh CLI via Bash instead (e.g., gh pr view, gh issue view, gh api).\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"url":{"description":"The URL to fetch content from","type":"string","format":"uri"},"prompt":{"description":"The prompt to run on the fetched content","type":"string"}},"required":["url","prompt"],"additionalProperties":false}},{"name":"WebSearch","description":"\n- Allows Claude to search the web and use the results to inform responses\n- Provides up-to-date information for current events and recent data\n- Returns search result information formatted as search result blocks, including links as markdown hyperlinks\n- Use this tool for accessing information beyond Claude's knowledge cutoff\n- Searches are performed automatically within a single API call\n\nCRITICAL REQUIREMENT - You MUST follow this:\n  - After answering the user's question, you MUST include a \"Sources:\" section at the end of your response\n  - In the Sources section, list all relevant URLs from the search results as markdown hyperlinks: [Title](URL)\n  - This is MANDATORY - never skip including sources in your response\n  - Example format:\n\n    [Your answer here]\n\n    Sources:\n    - [Source Title 1](https://example.com/1)\n    - [Source Title 2](https://example.com/2)\n\nUsage notes:\n  - Domain filtering is supported to include or block specific websites\n  - Web search is only available in the US\n\nIMPORTANT - Use the correct year in search queries:\n  - Today's date is 2026-01-31. You MUST use this year when searching for recent information, documentation, or current events.\n  - Example: If the user asks for \"latest React docs\", search for \"React documentation 2026\", NOT \"React documentation 2025\"\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"query":{"description":"The search query to use","type":"string","minLength":2},"allowed_domains":{"description":"Only include search results from these domains","type":"array","items":{"type":"string"}},"blocked_domains":{"description":"Never include search results from these domains","type":"array","items":{"type":"string"}}},"required":["query"],"additionalProperties":false}},{"name":"TaskStop","description":"\n- Stops a running background task by its ID\n- Takes a task_id parameter identifying the task to stop\n- Returns a success or failure status\n- Use this tool when you need to terminate a long-running task\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"task_id":{"description":"The ID of the background task to stop","type":"string"},"shell_id":{"description":"Deprecated: use task_id instead","type":"string"}},"additionalProperties":false}},{"name":"AskUserQuestion","description":"Use this tool when you need to ask the user questions during execution. This allows you to:\n1. Gather user preferences or requirements\n2. Clarify ambiguous instructions\n3. Get decisions on implementation choices as you work\n4. Offer choices to the user about what direction to take.\n\nUsage notes:\n- Users will always be able to select \"Other\" to provide custom text input\n- Use multiSelect: true to allow multiple answers to be selected for a question\n- If you recommend a specific option, make that the first option in the list and add \"(Recommended)\" at the end of the label\n\nPlan mode note: In plan mode, use this tool to clarify requirements or choose between approaches BEFORE finalizing your plan. Do NOT use this tool to ask \"Is my plan ready?\" or \"Should I proceed?\" - use ExitPlanMode for plan approval.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"questions":{"description":"Questions to ask the user (1-4 questions)","minItems":1,"maxItems":4,"type":"array","items":{"type":"object","properties":{"question":{"description":"The complete question to ask the user. Should be clear, specific, and end with a question mark. Example: \"Which library should we use for date formatting?\" If multiSelect is true, phrase it accordingly, e.g. \"Which features do you want to enable?\"","type":"string"},"header":{"description":"Very short label displayed as a chip/tag (max 12 chars). Examples: \"Auth method\", \"Library\", \"Approach\".","type":"string"},"options":{"description":"The available choices for this question. Must have 2-4 options. Each option should be a distinct, mutually exclusive choice (unless multiSelect is enabled). There should be no 'Other' option, that will be provided automatically.","minItems":2,"maxItems":4,"type":"array","items":{"type":"object","properties":{"label":{"description":"The display text for this option that the user will see and select. Should be concise (1-5 words) and clearly describe the choice.","type":"string"},"description":{"description":"Explanation of what this option means or what will happen if chosen. Useful for providing context about trade-offs or implications.","type":"string"}},"required":["label","description"],"additionalProperties":false}},"multiSelect":{"description":"Set to true to allow the user to select multiple options instead of just one. Use when choices are not mutually exclusive.","default":false,"type":"boolean"}},"required":["question","header","options","multiSelect"],"additionalProperties":false}},"answers":{"description":"User answers collected by the permission component","type":"object","propertyNames":{"type":"string"},"additionalProperties":{"type":"string"}},"metadata":{"description":"Optional metadata for tracking and analytics purposes. Not displayed to user.","type":"object","properties":{"source":{"description":"Optional identifier for the source of this question (e.g., \"remember\" for /remember command). Used for analytics tracking.","type":"string"}},"additionalProperties":false}},"required":["questions"],"additionalProperties":false}},{"name":"Skill","description":"Execute a skill within the main conversation\n\nWhen users ask you to perform tasks, check if any of the available skills match. Skills provide specialized capabilities and domain knowledge.\n\nWhen users reference a \"slash command\" or \"/<something>\" (e.g., \"/commit\", \"/review-pr\"), they are referring to a skill. Use this tool to invoke it.\n\nHow to invoke:\n- Use this tool with the skill name and optional arguments\n- Examples:\n  - `skill: \"pdf\"` - invoke the pdf skill\n  - `skill: \"commit\", args: \"-m 'Fix bug'\"` - invoke with arguments\n  - `skill: \"review-pr\", args: \"123\"` - invoke with arguments\n  - `skill: \"ms-office-suite:pdf\"` - invoke using fully qualified name\n\nImportant:\n- Available skills are listed in system-reminder messages in the conversation\n- When a skill matches the user's request, this is a BLOCKING REQUIREMENT: invoke the relevant Skill tool BEFORE generating any other response about the task\n- NEVER mention a skill without actually calling this tool\n- Do not invoke a skill that is already running\n- Do not use this tool for built-in CLI commands (like /help, /clear, etc.)\n- If you see a <command-name> tag in the current conversation turn, the skill has ALREADY been loaded - follow the instructions directly instead of calling this tool again\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"skill":{"description":"The skill name. E.g., \"commit\", \"review-pr\", or \"pdf\"","type":"string"},"args":{"description":"Optional arguments for the skill","type":"string"}},"required":["skill"],"additionalProperties":false}},{"name":"EnterPlanMode","description":"Use this tool proactively when you're about to start a non-trivial implementation task. Getting user sign-off on your approach before writing code prevents wasted effort and ensures alignment. This tool transitions you into plan mode where you can explore the codebase and design an implementation approach for user approval.\n\n## When to Use This Tool\n\n**Prefer using EnterPlanMode** for implementation tasks unless they're simple. Use it when ANY of these conditions apply:\n\n1. **New Feature Implementation**: Adding meaningful new functionality\n   - Example: \"Add a logout button\" - where should it go? What should happen on click?\n   - Example: \"Add form validation\" - what rules? What error messages?\n\n2. **Multiple Valid Approaches**: The task can be solved in several different ways\n   - Example: \"Add caching to the API\" - could use Redis, in-memory, file-based, etc.\n   - Example: \"Improve performance\" - many optimization strategies possible\n\n3. **Code Modifications**: Changes that affect existing behavior or structure\n   - Example: \"Update the login flow\" - what exactly should change?\n   - Example: \"Refactor this component\" - what's the target architecture?\n\n4. **Architectural Decisions**: The task requires choosing between patterns or technologies\n   - Example: \"Add real-time updates\" - WebSockets vs SSE vs polling\n   - Example: \"Implement state management\" - Redux vs Context vs custom solution\n\n5. **Multi-File Changes**: The task will likely touch more than 2-3 files\n   - Example: \"Refactor the authentication system\"\n   - Example: \"Add a new API endpoint with tests\"\n\n6. **Unclear Requirements**: You need to explore before understanding the full scope\n   - Example: \"Make the app faster\" - need to profile and identify bottlenecks\n   - Example: \"Fix the bug in checkout\" - need to investigate root cause\n\n7. **User Preferences Matter**: The implementation could reasonably go multiple ways\n   - If you would use AskUserQuestion to clarify the approach, use EnterPlanMode instead\n   - Plan mode lets you explore first, then present options with context\n\n## When NOT to Use This Tool\n\nOnly skip EnterPlanMode for simple tasks:\n- Single-line or few-line fixes (typos, obvious bugs, small tweaks)\n- Adding a single function with clear requirements\n- Tasks where the user has given very specific, detailed instructions\n- Pure research/exploration tasks (use the Task tool with explore agent instead)\n\n## What Happens in Plan Mode\n\nIn plan mode, you'll:\n1. Thoroughly explore the codebase using Glob, Grep, and Read tools\n2. Understand existing patterns and architecture\n3. Design an implementation approach\n4. Present your plan to the user for approval\n5. Use AskUserQuestion if you need to clarify approaches\n6. Exit plan mode with ExitPlanMode when ready to implement\n\n## Examples\n\n### GOOD - Use EnterPlanMode:\nUser: \"Add user authentication to the app\"\n- Requires architectural decisions (session vs JWT, where to store tokens, middleware structure)\n\nUser: \"Optimize the database queries\"\n- Multiple approaches possible, need to profile first, significant impact\n\nUser: \"Implement dark mode\"\n- Architectural decision on theme system, affects many components\n\nUser: \"Add a delete button to the user profile\"\n- Seems simple but involves: where to place it, confirmation dialog, API call, error handling, state updates\n\nUser: \"Update the error handling in the API\"\n- Affects multiple files, user should approve the approach\n\n### BAD - Don't use EnterPlanMode:\nUser: \"Fix the typo in the README\"\n- Straightforward, no planning needed\n\nUser: \"Add a console.log to debug this function\"\n- Simple, obvious implementation\n\nUser: \"What files handle routing?\"\n- Research task, not implementation planning\n\n## Important Notes\n\n- This tool REQUIRES user approval - they must consent to entering plan mode\n- If unsure whether to use it, err on the side of planning - it's better to get alignment upfront than to redo work\n- Users appreciate being consulted before significant changes are made to their codebase\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}},{"name":"TaskCreate","description":"Use this tool to create a structured task list for your current coding session. This helps you track progress, organize complex tasks, and demonstrate thoroughness to the user.\nIt also helps the user understand the progress of the task and overall progress of their requests.\n\n## When to Use This Tool\n\nUse this tool proactively in these scenarios:\n\n- Complex multi-step tasks - When a task requires 3 or more distinct steps or actions\n- Non-trivial and complex tasks - Tasks that require careful planning or multiple operations\n- Plan mode - When using plan mode, create a task list to track the work\n- User explicitly requests todo list - When the user directly asks you to use the todo list\n- User provides multiple tasks - When users provide a list of things to be done (numbered or comma-separated)\n- After receiving new instructions - Immediately capture user requirements as tasks\n- When you start working on a task - Mark it as in_progress BEFORE beginning work\n- After completing a task - Mark it as completed and add any new follow-up tasks discovered during implementation\n\n## When NOT to Use This Tool\n\nSkip using this tool when:\n- There is only a single, straightforward task\n- The task is trivial and tracking it provides no organizational benefit\n- The task can be completed in less than 3 trivial steps\n- The task is purely conversational or informational\n\nNOTE that you should not use this tool if there is only one trivial task to do. In this case you are better off just doing the task directly.\n\n## Task Fields\n\n- **subject**: A brief, actionable title in imperative form (e.g., \"Fix authentication bug in login flow\")\n- **description**: Detailed description of what needs to be done, including context and acceptance criteria\n- **activeForm**: Present continuous form shown in spinner when task is in_progress (e.g., \"Fixing authentication bug\"). This is displayed to the user while you work on the task.\n\n**IMPORTANT**: Always provide activeForm when creating tasks. The subject should be imperative (\"Run tests\") while activeForm should be present continuous (\"Running tests\"). All tasks are created with status `pending`.\n\n## Tips\n\n- Create tasks with clear, specific subjects that describe the outcome\n- Include enough detail in the description for another agent to understand and complete the task\n- After creating tasks, use TaskUpdate to set up dependencies (blocks/blockedBy) if needed\n- Check TaskList first to avoid creating duplicate tasks\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"subject":{"description":"A brief title for the task","type":"string"},"description":{"description":"A detailed description of what needs to be done","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"metadata":{"description":"Arbitrary metadata to attach to the task","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["subject","description"],"additionalProperties":false}},{"name":"TaskGet","description":"Use this tool to retrieve a task by its ID from the task list.\n\n## When to Use This Tool\n\n- When you need the full description and context before starting work on a task\n- To understand task dependencies (what it blocks, what blocks it)\n- After being assigned a task, to get complete requirements\n\n## Output\n\nReturns full task details:\n- **subject**: Task title\n- **description**: Detailed requirements and context\n- **status**: 'pending', 'in_progress', or 'completed'\n- **blocks**: Tasks waiting on this one to complete\n- **blockedBy**: Tasks that must complete before this one can start\n\n## Tips\n\n- After fetching a task, verify its blockedBy list is empty before beginning work.\n- Use TaskList to see all tasks in summary form.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to retrieve","type":"string"}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskUpdate","description":"Use this tool to update a task in the task list.\n\n## When to Use This Tool\n\n**Mark tasks as resolved:**\n- When you have completed the work described in a task\n- When a task is no longer needed or has been superseded\n- IMPORTANT: Always mark your assigned tasks as resolved when you finish them\n- After resolving, call TaskList to find your next task\n\n- ONLY mark a task as completed when you have FULLY accomplished it\n- If you encounter errors, blockers, or cannot finish, keep the task as in_progress\n- When blocked, create a new task describing what needs to be resolved\n- Never mark a task as completed if:\n  - Tests are failing\n  - Implementation is partial\n  - You encountered unresolved errors\n  - You couldn't find necessary files or dependencies\n\n**Delete tasks:**\n- When a task is no longer relevant or was created in error\n- Setting status to `deleted` permanently removes the task\n\n**Update task details:**\n- When requirements change or become clearer\n- When establishing dependencies between tasks\n\n## Fields You Can Update\n\n- **status**: The task status (see Status Workflow below)\n- **subject**: Change the task title (imperative form, e.g., \"Run tests\")\n- **description**: Change the task description\n- **activeForm**: Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")\n- **owner**: Change the task owner (agent name)\n- **metadata**: Merge metadata keys into the task (set a key to null to delete it)\n- **addBlocks**: Mark tasks that cannot start until this one completes\n- **addBlockedBy**: Mark tasks that must complete before this one can start\n\n## Status Workflow\n\nStatus progresses: `pending`  `in_progress`  `completed`\n\nUse `deleted` to permanently remove a task.\n\n## Staleness\n\nMake sure to read a task's latest state using `TaskGet` before updating it.\n\n## Examples\n\nMark task as in progress when starting work:\n```json\n{\"taskId\": \"1\", \"status\": \"in_progress\"}\n```\n\nMark task as completed after finishing work:\n```json\n{\"taskId\": \"1\", \"status\": \"completed\"}\n```\n\nDelete a task:\n```json\n{\"taskId\": \"1\", \"status\": \"deleted\"}\n```\n\nClaim a task by setting owner:\n```json\n{\"taskId\": \"1\", \"owner\": \"my-name\"}\n```\n\nSet up task dependencies:\n```json\n{\"taskId\": \"2\", \"addBlockedBy\": [\"1\"]}\n```\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"taskId":{"description":"The ID of the task to update","type":"string"},"subject":{"description":"New subject for the task","type":"string"},"description":{"description":"New description for the task","type":"string"},"activeForm":{"description":"Present continuous form shown in spinner when in_progress (e.g., \"Running tests\")","type":"string"},"status":{"description":"New status for the task","anyOf":[{"type":"string","enum":["pending","in_progress","completed"]},{"type":"string","const":"deleted"}]},"addBlocks":{"description":"Task IDs that this task blocks","type":"array","items":{"type":"string"}},"addBlockedBy":{"description":"Task IDs that block this task","type":"array","items":{"type":"string"}},"owner":{"description":"New owner for the task","type":"string"},"metadata":{"description":"Metadata keys to merge into the task. Set a key to null to delete it.","type":"object","propertyNames":{"type":"string"},"additionalProperties":{}}},"required":["taskId"],"additionalProperties":false}},{"name":"TaskList","description":"Use this tool to list all tasks in the task list.\n\n## When to Use This Tool\n\n- To see what tasks are available to work on (status: 'pending', no owner, not blocked)\n- To check overall progress on the project\n- To find tasks that are blocked and need dependencies resolved\n- After completing a task, to check for newly unblocked work or claim the next available task\n- **Prefer working on tasks in ID order** (lowest ID first) when multiple tasks are available, as earlier tasks often set up context for later ones\n\n## Output\n\nReturns a summary of each task:\n- **id**: Task identifier (use with TaskGet, TaskUpdate)\n- **subject**: Brief description of the task\n- **status**: 'pending', 'in_progress', or 'completed'\n- **owner**: Agent ID if assigned, empty if available\n- **blockedBy**: List of open task IDs that must be resolved first (tasks with blockedBy cannot be claimed until dependencies resolve)\n\nUse TaskGet with a specific task ID to view full details including description and comments.\n","input_schema":{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{},"additionalProperties":false}},{"name":"mcp__chrome_devtools__click","description":"Clicks on the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"dblClick":{"type":"boolean","description":"Set to true for double clicks. Default is false."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__close_page","description":"Closes the page by its index. The last open page cannot be closed.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to close. Call list_pages to list pages."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__drag","description":"Drag an element onto another element","input_schema":{"type":"object","properties":{"from_uid":{"type":"string","description":"The uid of the element to drag"},"to_uid":{"type":"string","description":"The uid of the element to drop into"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["from_uid","to_uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__emulate","description":"Emulates various features on the selected page.","input_schema":{"type":"object","properties":{"networkConditions":{"type":"string","enum":["No emulation","Offline","Slow 3G","Fast 3G","Slow 4G","Fast 4G"],"description":"Throttle network. Set to \"No emulation\" to disable. If omitted, conditions remain unchanged."},"cpuThrottlingRate":{"type":"number","minimum":1,"maximum":20,"description":"Represents the CPU slowdown factor. Set the rate to 1 to disable throttling. If omitted, throttling remains unchanged."},"geolocation":{"anyOf":[{"type":"object","properties":{"latitude":{"type":"number","minimum":-90,"maximum":90,"description":"Latitude between -90 and 90."},"longitude":{"type":"number","minimum":-180,"maximum":180,"description":"Longitude between -180 and 180."}},"required":["latitude","longitude"],"additionalProperties":false},{"type":"null"}],"description":"Geolocation to emulate. Set to null to clear the geolocation override."},"userAgent":{"type":["string","null"],"description":"User agent to emulate. Set to null to clear the user agent override."},"colorScheme":{"type":"string","enum":["dark","light","auto"],"description":"Emulate the dark or the light mode. Set to \"auto\" to reset to the default."},"viewport":{"anyOf":[{"type":"object","properties":{"width":{"type":"integer","minimum":0,"description":"Page width in pixels."},"height":{"type":"integer","minimum":0,"description":"Page height in pixels."},"deviceScaleFactor":{"type":"number","minimum":0,"description":"Specify device scale factor (can be thought of as dpr)."},"isMobile":{"type":"boolean","description":"Whether the meta viewport tag is taken into account. Defaults to false."},"hasTouch":{"type":"boolean","description":"Specifies if viewport supports touch events. This should be set to true for mobile devices."},"isLandscape":{"type":"boolean","description":"Specifies if viewport is in landscape mode. Defaults to false."}},"required":["width","height"],"additionalProperties":false},{"type":"null"}],"description":"Viewport to emulate. Set to null to reset to the default viewport."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__evaluate_script","description":"Evaluate a JavaScript function inside the currently selected page. Returns the response as JSON\nso returned values have to JSON-serializable.","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"A JavaScript function declaration to be executed by the tool in the currently selected page.\nExample without arguments: `() => {\n  return document.title\n}` or `async () => {\n  return await fetch(\"example.com\")\n}`.\nExample with arguments: `(el) => {\n  return el.innerText;\n}`\n"},"args":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"}},"required":["uid"],"additionalProperties":false},"description":"An optional list of arguments to pass to the function."}},"required":["function"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__fill","description":"Type text into a input, text area or select an option from a <select> element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"value":{"type":"string","description":"The value to fill in"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","value"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__fill_form","description":"Fill out multiple form elements at once","input_schema":{"type":"object","properties":{"elements":{"type":"array","items":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the element to fill out"},"value":{"type":"string","description":"Value for the element"}},"required":["uid","value"],"additionalProperties":false},"description":"Elements from snapshot to fill out."},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["elements"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__get_console_message","description":"Gets a console message by its ID. You can get all messages by calling list_console_messages.","input_schema":{"type":"object","properties":{"msgid":{"type":"number","description":"The msgid of a console message on the page from the listed console messages"}},"required":["msgid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__get_network_request","description":"Gets a network request by an optional reqid, if omitted returns the currently selected request in the DevTools Network panel.","input_schema":{"type":"object","properties":{"reqid":{"type":"number","description":"The reqid of the network request. If omitted returns the currently selected request in the DevTools Network panel."},"requestFilePath":{"type":"string","description":"The absolute or relative path to save the request body to. If omitted, the body is returned inline."},"responseFilePath":{"type":"string","description":"The absolute or relative path to save the response body to. If omitted, the body is returned inline."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__handle_dialog","description":"If a browser dialog was opened, use this command to handle it","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["accept","dismiss"],"description":"Whether to dismiss or accept the dialog"},"promptText":{"type":"string","description":"Optional prompt text to enter into the dialog."}},"required":["action"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__hover","description":"Hover over the provided element","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__list_console_messages","description":"List all console messages for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of messages to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"types":{"type":"array","items":{"type":"string","enum":["log","debug","info","error","warn","dir","dirxml","table","trace","clear","startGroup","startGroupCollapsed","endGroup","assert","profile","profileEnd","count","timeEnd","verbose","issue"]},"description":"Filter messages to only return messages of the specified resource types. When omitted or empty, returns all messages."},"includePreservedMessages":{"type":"boolean","default":false,"description":"Set to true to return the preserved messages over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__list_network_requests","description":"List all requests for the currently selected page since the last navigation.","input_schema":{"type":"object","properties":{"pageSize":{"type":"integer","exclusiveMinimum":0,"description":"Maximum number of requests to return. When omitted, returns all requests."},"pageIdx":{"type":"integer","minimum":0,"description":"Page number to return (0-based). When omitted, returns the first page."},"resourceTypes":{"type":"array","items":{"type":"string","enum":["document","stylesheet","image","media","font","script","texttrack","xhr","fetch","prefetch","eventsource","websocket","manifest","signedexchange","ping","cspviolationreport","preflight","fedcm","other"]},"description":"Filter requests to only return requests of the specified resource types. When omitted or empty, returns all requests."},"includePreservedRequests":{"type":"boolean","default":false,"description":"Set to true to return the preserved requests over the last 3 navigations."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__list_pages","description":"Get a list of pages open in the browser.","input_schema":{"type":"object","properties":{},"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__navigate_page","description":"Navigates the currently selected page to a URL.","input_schema":{"type":"object","properties":{"type":{"type":"string","enum":["url","back","forward","reload"],"description":"Navigate the page by URL, back or forward in history, or reload."},"url":{"type":"string","description":"Target URL (only type=url)"},"ignoreCache":{"type":"boolean","description":"Whether to ignore cache on reload."},"handleBeforeUnload":{"type":"string","enum":["accept","decline"],"description":"Whether to auto accept or beforeunload dialogs triggered by this navigation. Default is accept."},"initScript":{"type":"string","description":"A JavaScript script to be executed on each new document before any other scripts for the next navigation."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__new_page","description":"Creates a new page","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"URL to load in a new page."},"background":{"type":"boolean","description":"Whether to open the page in the background without bringing it to the front. Default is false (foreground)."},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["url"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__performance_analyze_insight","description":"Provides more detailed information on a specific Performance Insight of an insight set that was highlighted in the results of a trace recording.","input_schema":{"type":"object","properties":{"insightSetId":{"type":"string","description":"The id for the specific insight set. Only use the ids given in the \"Available insight sets\" list."},"insightName":{"type":"string","description":"The name of the Insight you want more information on. For example: \"DocumentLatency\" or \"LCPBreakdown\""}},"required":["insightSetId","insightName"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__performance_start_trace","description":"Starts a performance trace recording on the selected page. This can be used to look for performance problems and insights to improve the performance of the page. It will also report Core Web Vital (CWV) scores for the page.","input_schema":{"type":"object","properties":{"reload":{"type":"boolean","description":"Determines if, once tracing has started, the current selected page should be automatically reloaded. Navigate the page to the right URL using the navigate_page tool BEFORE starting the trace if reload or autoStop is set to true."},"autoStop":{"type":"boolean","description":"Determines if the trace recording should be automatically stopped."},"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"required":["reload","autoStop"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__performance_stop_trace","description":"Stops the active performance trace recording on the selected page.","input_schema":{"type":"object","properties":{"filePath":{"type":"string","description":"The absolute file path, or a file path relative to the current working directory, to save the raw trace data. For example, trace.json.gz (compressed) or trace.json (uncompressed)."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__press_key","description":"Press a key or key combination. Use this when other input methods like fill() cannot be used (e.g., keyboard shortcuts, navigation keys, or special key combinations).","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"A key or a combination (e.g., \"Enter\", \"Control+A\", \"Control++\", \"Control+Shift+R\"). Modifiers: Control, Shift, Alt, Meta"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["key"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__resize_page","description":"Resizes the selected page's window so that the page has specified dimension","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Page width"},"height":{"type":"number","description":"Page height"}},"required":["width","height"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__select_page","description":"Select a page as a context for future tool calls.","input_schema":{"type":"object","properties":{"pageId":{"type":"number","description":"The ID of the page to select. Call list_pages to get available pages."},"bringToFront":{"type":"boolean","description":"Whether to focus the page and bring it to the top."}},"required":["pageId"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__take_screenshot","description":"Take a screenshot of the page or element.","input_schema":{"type":"object","properties":{"format":{"type":"string","enum":["png","jpeg","webp"],"default":"png","description":"Type of format to save the screenshot as. Default is \"png\""},"quality":{"type":"number","minimum":0,"maximum":100,"description":"Compression quality for JPEG and WebP formats (0-100). Higher values mean better quality but larger file sizes. Ignored for PNG format."},"uid":{"type":"string","description":"The uid of an element on the page from the page content snapshot. If omitted takes a pages screenshot."},"fullPage":{"type":"boolean","description":"If set to true takes a screenshot of the full page instead of the currently visible viewport. Incompatible with uid."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the screenshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__take_snapshot","description":"Take a text snapshot of the currently selected page based on the a11y tree. The snapshot lists page elements along with a unique\nidentifier (uid). Always use the latest snapshot. Prefer taking a snapshot over taking a screenshot. The snapshot indicates the element selected\nin the DevTools Elements panel (if any).","input_schema":{"type":"object","properties":{"verbose":{"type":"boolean","description":"Whether to include all possible information available in the full a11y tree. Default is false."},"filePath":{"type":"string","description":"The absolute path, or a path relative to the current working directory, to save the snapshot to instead of attaching it to the response."}},"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__upload_file","description":"Upload a file through a provided element.","input_schema":{"type":"object","properties":{"uid":{"type":"string","description":"The uid of the file input element or an element that will open file chooser on the page from the page content snapshot"},"filePath":{"type":"string","description":"The local path of the file to upload"},"includeSnapshot":{"type":"boolean","description":"Whether to include a snapshot in the response. Default is false."}},"required":["uid","filePath"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__chrome_devtools__wait_for","description":"Wait for the specified text to appear on the selected page.","input_schema":{"type":"object","properties":{"text":{"type":"string","description":"Text to appear on the page"},"timeout":{"type":"integer","description":"Maximum wait time in milliseconds. If set to 0, the default timeout will be used."}},"required":["text"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}},{"name":"mcp__playwright__browser_close","description":"Close the page","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_resize","description":"Resize the browser window","input_schema":{"type":"object","properties":{"width":{"type":"number","description":"Width of the browser window"},"height":{"type":"number","description":"Height of the browser window"}},"required":["width","height"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_console_messages","description":"Returns all console messages","input_schema":{"type":"object","properties":{"level":{"default":"info","description":"Level of the console messages to return. Each level includes the messages of more severe levels. Defaults to \"info\".","type":"string","enum":["error","warning","info","debug"]},"filename":{"description":"Filename to save the console messages to. If not provided, messages are returned as text.","type":"string"}},"required":["level"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_handle_dialog","description":"Handle a dialog","input_schema":{"type":"object","properties":{"accept":{"type":"boolean","description":"Whether to accept the dialog."},"promptText":{"description":"The text of the prompt in case of a prompt dialog.","type":"string"}},"required":["accept"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_evaluate","description":"Evaluate JavaScript expression on page or element","input_schema":{"type":"object","properties":{"function":{"type":"string","description":"() => { /* code */ } or (element) => { /* code */ } when element is provided"},"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot","type":"string"}},"required":["function"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_file_upload","description":"Upload one or multiple files","input_schema":{"type":"object","properties":{"paths":{"description":"The absolute paths to the files to upload. Can be single file or multiple files. If omitted, file chooser is cancelled.","type":"array","items":{"type":"string"}}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_fill_form","description":"Fill multiple form fields","input_schema":{"type":"object","properties":{"fields":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Human-readable field name"},"type":{"type":"string","enum":["textbox","checkbox","radio","combobox","slider"],"description":"Type of the field"},"ref":{"type":"string","description":"Exact target field reference from the page snapshot"},"value":{"type":"string","description":"Value to fill in the field. If the field is a checkbox, the value should be `true` or `false`. If the field is a combobox, the value should be the text of the option."}},"required":["name","type","ref","value"],"additionalProperties":false},"description":"Fields to fill in"}},"required":["fields"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_install","description":"Install the browser specified in the config. Call this if you get an error about the browser not being installed.","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_press_key","description":"Press a key on the keyboard","input_schema":{"type":"object","properties":{"key":{"type":"string","description":"Name of the key to press or a character to generate, such as `ArrowLeft` or `a`"}},"required":["key"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_type","description":"Type text into editable element","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"text":{"type":"string","description":"Text to type into the element"},"submit":{"description":"Whether to submit entered text (press Enter after)","type":"boolean"},"slowly":{"description":"Whether to type one character at a time. Useful for triggering key handlers in the page. By default entire text is filled in at once.","type":"boolean"}},"required":["ref","text"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_navigate","description":"Navigate to a URL","input_schema":{"type":"object","properties":{"url":{"type":"string","description":"The URL to navigate to"}},"required":["url"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_navigate_back","description":"Go back to the previous page in the history","input_schema":{"type":"object","properties":{},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_network_requests","description":"Returns all network requests since loading the page","input_schema":{"type":"object","properties":{"includeStatic":{"default":false,"description":"Whether to include successful static resources like images, fonts, scripts, etc. Defaults to false.","type":"boolean"},"filename":{"description":"Filename to save the network requests to. If not provided, requests are returned as text.","type":"string"}},"required":["includeStatic"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_run_code","description":"Run Playwright code snippet","input_schema":{"type":"object","properties":{"code":{"type":"string","description":"A JavaScript function containing Playwright code to execute. It will be invoked with a single argument, page, which you can use for any page interaction. For example: `async (page) => { await page.getByRole('button', { name: 'Submit' }).click(); return await page.title(); }`"}},"required":["code"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_take_screenshot","description":"Take a screenshot of the current page. You can't perform actions based on the screenshot, use browser_snapshot for actions.","input_schema":{"type":"object","properties":{"type":{"default":"png","description":"Image format for the screenshot. Default is png.","type":"string","enum":["png","jpeg"]},"filename":{"description":"File name to save the screenshot to. Defaults to `page-{timestamp}.{png|jpeg}` if not specified. Prefer relative file names to stay within the output directory.","type":"string"},"element":{"description":"Human-readable element description used to obtain permission to screenshot the element. If not provided, the screenshot will be taken of viewport. If element is provided, ref must be provided too.","type":"string"},"ref":{"description":"Exact target element reference from the page snapshot. If not provided, the screenshot will be taken of viewport. If ref is provided, element must be provided too.","type":"string"},"fullPage":{"description":"When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport. Cannot be used with element screenshots.","type":"boolean"}},"required":["type"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_snapshot","description":"Capture accessibility snapshot of the current page, this is better than screenshot","input_schema":{"type":"object","properties":{"filename":{"description":"Save snapshot to markdown file instead of returning it in the response.","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_click","description":"Perform click on a web page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"doubleClick":{"description":"Whether to perform a double click instead of a single click","type":"boolean"},"button":{"description":"Button to click, defaults to left","type":"string","enum":["left","right","middle"]},"modifiers":{"description":"Modifier keys to press","type":"array","items":{"type":"string","enum":["Alt","Control","ControlOrMeta","Meta","Shift"]}}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_drag","description":"Perform drag and drop between two elements","input_schema":{"type":"object","properties":{"startElement":{"type":"string","description":"Human-readable source element description used to obtain the permission to interact with the element"},"startRef":{"type":"string","description":"Exact source element reference from the page snapshot"},"endElement":{"type":"string","description":"Human-readable target element description used to obtain the permission to interact with the element"},"endRef":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["startElement","startRef","endElement","endRef"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_hover","description":"Hover over element on page","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"}},"required":["ref"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_select_option","description":"Select an option in a dropdown","input_schema":{"type":"object","properties":{"element":{"description":"Human-readable element description used to obtain permission to interact with the element","type":"string"},"ref":{"type":"string","description":"Exact target element reference from the page snapshot"},"values":{"type":"array","items":{"type":"string"},"description":"Array of values to select in the dropdown. This can be a single value or multiple values."}},"required":["ref","values"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_tabs","description":"List, create, close, or select a browser tab.","input_schema":{"type":"object","properties":{"action":{"type":"string","enum":["list","new","close","select"],"description":"Operation to perform"},"index":{"description":"Tab index, used for close/select. If omitted for close, current tab is closed.","type":"number"}},"required":["action"],"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}},{"name":"mcp__playwright__browser_wait_for","description":"Wait for text to appear or disappear or a specified time to pass","input_schema":{"type":"object","properties":{"time":{"description":"The time to wait in seconds","type":"number"},"text":{"description":"The text to wait for","type":"string"},"textGone":{"description":"The text to wait for to disappear","type":"string"}},"$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false}}],"metadata":{"user_id":"user_147b2b4c2b28f46397a67b9b257b38cf244ffbd8bae0cc88f269f47da23a931b_account__session_ce8cab04-c972-455f-9f8e-299e4bcf6728"},"max_tokens":21333,"temperature":1}
